<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Using Spry with ColdFusion</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec22c24-79e2.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec22c24-79e2.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec10e40-7fe3.html" title="Managing the client-server interaction"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec22c24-7510.html" title="Specifying client-side support files"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd70508c-8000.html"><b>Requesting and Presenting Information</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7a27.html"><b>Using Ajax Data and Development Features</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Using Spry with ColdFusion</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10e40-7fd9"><span class="topictitle1">Spry data set example</span>
</a></p></li></ul></div></div></div></div><div><p>ColdFusion provides
support for mixing native ColdFusion elements and Spry elements
in a single application.</p>
<ul><li><p>ColdFusion tags use Spry data sets directly in bind expressions.
Therefore, a ColdFusion form element, such as <samp class="codeph">cfinput</samp>,
binds to a field in a dynamic Spry data set, and is updated each
time the data set updates, including when the user selects an item
in a Spry control or dynamic region that the data set populates. </p>
<p>To
bind to a Spry data set, specify the data set name followed by the
path to the specific element that you bind to, by using standard
Spry path syntax. For example, if dsFilters is a Spry data set with
a name column, the <samp class="codeph">{dsFilters.name}</samp> bind parameter
binds to the value of the current row’s name column. The bind parameter <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">cannot</i> specify
an event; the bind expression is re-evaluated each time the selected
row in the data set changes. The following example shows the bind
syntax:</p>
<pre>&lt;cfinput name="Input1" type="text" 
bind="CfC:DataManager.getInData(filter={dsFilters.name})</pre>
</li>
<li><p>Spry data sets use a CFC function as the data source. To
do this, you simply specify the URL of the CFC in the Spry.Data.XMLDataSet
function, just as you would invoke any remote CFC method using a
URL. Specify the method name with a method URL parameter, and pass
data to the function in additional URL parameters, as in the following
example:</p>
<pre>Spry.Data.XMLDataSet("MyAppMgr.cfc?method=getFilter&amp;filter=scores", 
"filters/filter");    </pre>
</li>
<li><p>The cfsprydataset tag dynamically creates and updates Spry
XML or JSON data sets based on ColdFusion form data. Spry dynamic
regions and other elements then use this data to control their display. </p>
<p>The
following example shows a <samp class="codeph">cfsprydataset</samp> tag that
creates a Spry XML data set named dsProducts by calling the getData.getProductDetails
function and passing it the value of the selected name in a <samp class="codeph">cfgrid</samp> control.
The data set updates each time the <samp class="codeph">name</samp> value changes.</p>
<pre>&lt;cfsprydataset  
    name="dsProducts" 
    type="xml" 
    bind="CFC:getData.getProductDetails(prodname={myform:mygrid.name})"  
    xpath="products/product"  
    options="{method: 'POST'}" 
    onBindError="errorHandler"&gt;</pre>
</li>
</ul>
<p>ColdFusion includes the complete Spry 1.5 framework release in <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">web_root/</i>CFIDE/scripts/ajax/spry
directory. For more information about Spry framework, see <a href="http://www.adobe.com/go/learn_spry_framework_en" target="_self">www.adobe.com/go/learn_spry_framework_en</a>.
For more information, see the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-79ec.html" target="_self">cfsprydataset</a> tag in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbec10e40-7fd9" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10e40-7fd9"><!-- --></a><h2 class="topictitle2">Spry data set example</h2><div><p>This example
has the following behavior:</p>
<ol><li><p>It uses a CFC function directly to populate a Spry XML
data set, from an XML file.</p>
</li>
<li><p>It displays information from the Spry data in a Spry dynamic
region list box.</p>
</li>
<li><p>It uses the selected item in the Spry data set to control
the contents of a <samp class="codeph">cfgrid</samp> control. The <samp class="codeph">cfgrid</samp> bind
expression calls a CFC and passes it a parameter bound to the selected
item in the Spry XML data set.</p>
</li>
<li><p>It creates a second Spry XML data set by using a <samp class="codeph">cfsprydataset</samp> tag
that binds to the selected item in the <samp class="codeph">cfgrid</samp> control
and calls a CFC function.</p>
</li>
<li><p>It displays information from the second Spry data set in
a second Spry dynamic region.</p>
</li>
</ol>
<p>The example lets a user select the genre of books to display:
all books, fiction, or nonfiction from a Spry list box populated
from the XML file. The selected genre determines the information
displayed by a <samp class="codeph">cfgrid</samp> control, and a text input control
shows the selected genre. The selected item in the <samp class="codeph">cfgrid</samp> control determines
the information that is displayed in a second Spry dynamic region.</p>
<p>The application consists of the following files:</p>
<ul><li><p>A roundtrip.cfm page with the display controls and related
logic</p>
</li>
<li><p>A GridDataManager.cfc file with two functions: </p>
<ul><li><p>A getFilter function that gets the XML for the spry data
set</p>
</li>
<li><p>A getData function that gets the contents of the cfgrid control</p>
</li>
<li><p>A getProduct function that gets detailed information on the
selected book</p>
</li>
</ul>
</li>
<li><p>A Filters.xml file with the XML data for the spry data set</p>
</li>
</ul>
<p>For this example to display images, create an images subdirectory
of your application directory that contains images with the names
specified by the BOOKIMAGE column of the cfbookclub database BOOKS
table.</p>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec10e40-7fd9__WSc3ff6d0ea77859461172e0811cbec10e40-7fe4"><a name="WSc3ff6d0ea77859461172e0811cbec10e40-7fd9__WSc3ff6d0ea77859461172e0811cbec10e40-7fe4"><!-- --></a><h4 class="sectiontitle">The roundtrip.cfm page</h4><pre>&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:spry="http://ns.adobe.com/spry"&gt; 
 
&lt;head&gt; 
&lt;!--- The screen.css style sheet is provided in the Spry distribution. ---&gt; 
&lt;link href="screen.css" rel="stylesheet" type="text/css" media="all"/&gt; 
&lt;!--- Include the XPath and Spry JavaScript files. ---&gt; 
&lt;script type="text/javascript"  
    src="/CFIDE/scripts/ajax/spry/includes/xpath.js"&gt;&lt;/script&gt; 
&lt;script type="text/javascript"  
    src="/CFIDE/scripts/ajax/spry/includes/SpryData.js"&gt;&lt;/script&gt; 
 
&lt;!--- Create the dsFilters Spry XML data set used to populate the FiltersList dynamic region 
    that lists the filters. Call the GridDataManager CFC getFilter method directly from a 
    Spry XMLDataSet function because no binding is needed. ---&gt; 
&lt;script&gt; 
    var dsFilters = new 
        Spry.Data.XMLDataSet("GridDataManager.cfc?method=getFilter", "filters/filter"); 
&lt;/script&gt; 
 
&lt;!--- Use a cfsprydataset tag with binding to generate a dsProduct Spry data set with details 
    about the book grid selection. ---&gt; 
&lt;cfsprydataset  
    name="dsProduct"  
    type="xml" 
    bind="CFC:GridDataManager.getProductDetails(prodname={bookform:bookgrid.TITLE})"  
    xpath="products/product"  
    options="{method: 'POST'}" 
    onBindError="errorHandler"&gt; 
 
&lt;!--- Function to handle bind errors. ---&gt; 
&lt;script language="javascript"&gt; 
    errorHandler = function(code,msg){ 
        alert("Error w/bind occurred. See details below:\n\n" + "Error Code: " 
            + code + "\n" + "Error Message: " + msg); 
    } 
&lt;/script&gt; 
 
&lt;!--- Specify the size of the FiltersList Spry dynamic region. 
            By default it would be unnecessarily large. ---&gt; 
&lt;style type="text/css"&gt; 
&lt;!-- 
#FiltersList { 
    height:100px; 
    width: 150px; 
} 
--&gt; 
&lt;/style&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;!--- A Spry dynamic region containing repeated ListBoxItem controls. 
    Each item specifies a filter to use in filling the book list grid.  
    The items are populated by the data from the CFC getFilter method. ---&gt; 
&lt;div id="FiltersList" spry:region="dsFilters" class="SpryHiddenRegion"&gt; 
    &lt;div spry:repeat="dsFilters" class="ListBoxItemGroup"&gt; 
        &lt;div class="ListBoxItem" 
            onclick="dsFilters.setCurrentRow('{dsFilters::ds_RowID}');" 
            spry:selectgroup="feedsList" spry:select="SelectedListBoxItem" 
            spry:hover="ListBoxItemHover"&gt; 
                {dsFilters::description} 
        &lt;/div&gt; 
    &lt;/div&gt; 
&lt;/div&gt; 
 
&lt;!--- A ColdFusion form with the book list data grid. ---&gt; 
&lt;cfform name="bookform"&gt; 
&lt;!--- Create a book list grid.  
        Users select the book for which to get details from this grid. 
        Populate it with the results of the CFC getData method. 
        Pass the method the value of the name field of the selected  
        item in the dsfilters Spry dynamic region. ---&gt; 
    &lt;cfgrid name="bookgrid" 
            format="html" 
            bind="CfC:GridDataManager.getData(page={cfgridpage}, 
                pageSize={cfgridpagesize},sortCol={cfgridsortcolumn}, 
                sortDir={cfgridsortdirection},filter={dsFilters.name})" 
            selectMode="browse" 
            width=400 
            delete="true" 
            pageSize=7&gt; 
        &lt;cfgridcolumn name="TITLE" header="Name" width=200&gt; 
        &lt;cfgridcolumn name="GENRE" header="Type" width=200&gt; 
    &lt;/cfgrid&gt;&lt;br /&gt; 
    &lt;!--- Show the value of the name field of the selected item in the Spry dynamic region. 
    ---&gt; 
    &lt;cfinput name="filter" bind="{dsFilters.name}"&gt; 
&lt;/cfform&gt; 
 
&lt;hr&gt; 
 
&lt;!--- A Spry dynamic region that uses the dsProduct data set to display information on the 
    selected product. ---&gt; 
&lt;div id="RSSResultsList" spry:detailregion="dsProduct" class="SpryHiddenRegion"&gt; 
    &lt;strong&gt;{name}&lt;/strong&gt;&lt;br&gt; 
    &lt;img src="images/{bookimage}" alt="product box shot" width="238" height="130"/&gt; 
    &lt;div&gt;{desc}&lt;/div&gt; 
&lt;/div&gt; 
 
&lt;hr&gt; 
 
&lt;/body&gt; 
&lt;/html&gt;</pre>
</div>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec10e40-7fd9__WSc3ff6d0ea77859461172e0811cbec10e40-7fdc"><a name="WSc3ff6d0ea77859461172e0811cbec10e40-7fd9__WSc3ff6d0ea77859461172e0811cbec10e40-7fdc"><!-- --></a><h4 class="sectiontitle">The gridDataManager.cfc file</h4><pre>&lt;cfcomponent name="GridDataManager"&gt; 
 
    &lt;!--- The getFilter function gets the filter XML to populate the dsFilters Spry data set. 
        It specifies returnFormat=plain to send XML text. ---&gt; 
    &lt;cffunction name="getFilter" access="remote" output="false" returnFormat="plain"&gt; 
        &lt;cffile action="read" file="#ExpandPath('.')#\Filters.xml" variable="filtersxml"&gt; 
        &lt;cfcontent type="text/xml" reset="yes"&gt; 
        &lt;cfreturn filtersxml&gt; 
    &lt;/cffunction&gt; 
 
    &lt;!--- The getData function returns books that match the specified genre, or all books if 
        there is no genre. ---&gt; 
    &lt;cffunction name="getData" access="remote" output="false"&gt; 
        &lt;cfargument name="page" required="yes"&gt; 
            &lt;cfargument name="pageSize" required="yes"&gt; 
        &lt;cfargument name="sortCol" required="yes"&gt; 
            &lt;cfargument name="sortDir" required="yes"&gt; 
        &lt;cfargument name="filter" required="no"&gt; 
        &lt;cfquery name="books" datasource="cfbookclub"&gt;  
            select TITLE, GENRE from BOOKS  
            &lt;cfif isDefined("arguments.filter") AND arguments.filter NEQ ""&gt; 
                where GENRE = '#arguments.filter#' 
            &lt;/cfif&gt; 
            &lt;cfif arguments.sortCol NEQ "" AND arguments.sortDir NEQ ""&gt; 
                 order by #arguments.sortCol# #arguments.sortDir# 
            &lt;cfelse&gt; 
                order by TITLE ASC 
            &lt;/cfif&gt; 
        &lt;/cfquery&gt; 
        &lt;!--- Return the data only for the current page. ---&gt; 
        &lt;cfreturn QueryConvertForGrid(books, arguments.page, 
            arguments.pageSize)&gt;  
    &lt;/cffunction&gt; 
     
    &lt;!--- The getProductDetails gets data for a single book and converts it to XML for use 
        in the dsProduct Spry data set. ---&gt; 
    &lt;cffunction name="getProductDetails" access="remote" output="false"&gt; 
        &lt;cfargument name="prodname" default="The Road"&gt; 
        &lt;!--- Get the information about the book from the database. ---&gt; 
        &lt;cfquery name="bookDetails" datasource="cfbookclub"&gt; 
            select TITLE, GENRE, BOOKIMAGE, BOOKDESCRIPTION from BOOKS  
                where TITLE = '#arguments.prodname#' 
        &lt;/cfquery&gt; 
        &lt;!--- Convert the query results to XML. ---&gt; 
        &lt;cfoutput&gt; 
            &lt;cfxml variable="BookDetailsXML" &gt; 
                &lt;?xml version="1.0" encoding="iso-8859-1"?&gt; 
                &lt;products&gt; 
                    &lt;product&gt; 
                        &lt;name&gt;#BookDetails.TITLE#&lt;/name&gt; 
                        &lt;category&gt;#BookDetails.GENRE#&lt;/category&gt; 
                        &lt;bookimage&gt;#BookDetails.BOOKIMAGE#&lt;/bookimage&gt; 
                        &lt;desc&gt;#BookDetails.BOOKDESCRIPTION#&lt;/desc&gt; 
                    &lt;/product&gt; 
                &lt;/products&gt;         
            &lt;/cfxml&gt; 
        &lt;/cfoutput&gt; 
        &lt;!--- Convert the XML object to an XML string. ---&gt; 
        &lt;cfset xmldata = xmlparse(BookDetailsXML)&gt; 
        &lt;cfcontent type="text/xml" reset="yes"&gt; 
        &lt;cfreturn xmldata&gt; 
    &lt;/cffunction&gt; 
 
&lt;/cfcomponent&gt;</pre>
</div>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec10e40-7fd9__WSc3ff6d0ea77859461172e0811cbec10e40-7fdb"><a name="WSc3ff6d0ea77859461172e0811cbec10e40-7fd9__WSc3ff6d0ea77859461172e0811cbec10e40-7fdb"><!-- --></a><h4 class="sectiontitle">The Filters.xml file</h4><pre>&lt;?xml version="1.0" encoding="iso-8859-1"?&gt; 
&lt;filters&gt; 
 
    &lt;filter&gt; 
        &lt;filterid&gt;1&lt;/filterid&gt; 
        &lt;name&gt;&lt;/name&gt; 
        &lt;description&gt;No Filter&lt;/description&gt; 
    &lt;/filter&gt; 
 
    &lt;filter&gt; 
        &lt;filterid&gt;2&lt;/filterid&gt; 
        &lt;name&gt;Fiction&lt;/name&gt; 
        &lt;description&gt;Look for Fiction&lt;/description&gt; 
    &lt;/filter&gt; 
 
    &lt;filter&gt; 
        &lt;filterid&gt;3&lt;/filterid&gt; 
        &lt;name&gt;Non-fiction&lt;/name&gt; 
        &lt;description&gt;Look for Nonfiction&lt;/description&gt; 
    &lt;/filter&gt; 
     
&lt;/filters&gt;</pre>
</div>
</div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec10e40-7fe3.html" title="Managing the client-server interaction"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec22c24-7510.html" title="Specifying client-side support files"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd70508c-8000.html"><b>Requesting and Presenting Information</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7a27.html"><b>Using Ajax Data and Development Features</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>