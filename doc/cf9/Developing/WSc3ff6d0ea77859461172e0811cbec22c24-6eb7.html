<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Working with action pages</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec22c24-6eb7.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec22c24-6eb7.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec0f76c-7fe3.html" title="Using forms in ColdFusion"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec0f76c-7ff4.html" title="Working with queries and data"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd70508c-8000.html"><b>Requesting and Presenting Information</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7ffe.html"><b>Introduction to Retrieving and Formatting Data</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Working with action pages</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec0f76c-7fef"><span class="topictitle1">Processing form variables on action pages</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec0f76c-7feb"><span class="topictitle1">Using form data to generate SQL statements</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec0f76c-7ff7"><span class="topictitle1">Creating action pages</span>
</a></p><ul><li><p><a href="#WSf01dbd23413dda0e3afdb85a1200fc46c9e-8000"><span class="topictitle2">Create an action page for the form</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-7fcb"><span class="topictitle1">Testing for a variable’s existence</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-7fc6"><span class="topictitle1">Requiring users to enter values in form fields</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec0f76c-7fed"><span class="topictitle1">Form variable notes and considerations</span>
</a></p></li></ul></div></div></div></div><div><p>When
the user submits a form, ColdFusion runs the action page specified
by the <samp class="codeph">cfform</samp> or <samp class="codeph">form</samp> tag <samp class="codeph">action</samp> attribute.
A ColdFusion action page is like any other application page, except
that you can use the form variables that are passed to it from an
associated form. </p>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbec0f76c-7fef" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec0f76c-7fef"><!-- --></a><h2 class="topictitle2">Processing form variables on action pages</h2><div><p>The action page gets a
form variable for every form control that contains a value when
the form is submitted.</p>
<div class="note"><span class="notetitle">Note:  </span>If multiple controls have the same name, one
form variable is passed to the action page with a comma-delimited
list of values.</div>
<p>A form
variable’s name is the name that you assigned to the form control
on the form page. Refer to the form variable by name within tags,
functions, and other expressions on an action page. </p>
<p>On
the action page, the form variables are in the Form scope, prefix
them with “Form.” to explicitly tell ColdFusion that you are referring
to a form variable. For example, the following code references the
LastName form variable for output on an action page:</p>
<pre>&lt;cfoutput&gt; 
    #Form.LastName# 
&lt;/cfoutput&gt;</pre>
<p>The Form scope also contains a list variable called <samp class="codeph">Form.fieldnames</samp>.
It contains a list of all form variables submitted to the action
page. If no form variables are passed to the action page, ColdFusion
does not create the <samp class="codeph">Form.fieldnames</samp> list. </p>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec0f76c-7feb" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec0f76c-7feb"><!-- --></a><h2 class="topictitle2">Using form data to generate SQL statements</h2><div><p>As
described in previous chapters, you can retrieve a record for every
employee in a database table by composing a query like the following:</p>
<pre>&lt;cfquery name="GetEmployees" datasource="cfdocexamples"&gt; 
    SELECTFirstName, LastName, Contract 
    FROM Employee 
&lt;/cfquery&gt;</pre>
<p>When you want to return information about
employees that matches user search criteria, you use the SQL WHERE
clause with a SQL SELECT statement. When the WHERE clause is processed,
it filters the query data based on the results of the comparison.</p>
<p>For example, to return employee data for only employees with
the last name of Smith, you build a query that looks like the following:</p>
<pre>&lt;cfquery name="GetEmployees" datasource="cfdocexamples"&gt;  
    SELECT FirstName, LastName, Contract 
    FROM Employee 
    <strong>WHERE LastName = 'Smith'</strong> 
&lt;/cfquery&gt;</pre>
<p>However, instead of placing
the LastName directly in the SQL WHERE clause, you can use the text
that the user entered in the form for comparison:</p>
<pre>&lt;cfquery name="GetEmployees" datasource="cfdocexamples"&gt; 
    SELECT FirstName, LastName, Salary 
    FROM Employee 
    <strong>WHERE LastName=&lt;cfqueryparam value="#Form.LastName#" </strong> 
    CFSQLType="CF_SQL_VARCHAR"&gt;  
&lt;/cfquery&gt;</pre>
<p>For security, this example encapsulates the form variable within
the <samp class="codeph"><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7f6f.html" target="_self">cfqueryparam</a></samp> tag to ensure
that the user passed a valid string value for the LastName. For
more information on using the <samp class="codeph">cfqueryparam</samp> tag
with queries and on dynamic SQL, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7bda.html">Accessing and Retrieving Data</a>.</p>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec0f76c-7ff7" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec0f76c-7ff7"><!-- --></a><h2 class="topictitle2">Creating action pages</h2><div><p>Use
the following procedure to create an action page for the formpage.cfm
page that you created in the previous example.</p>
</div><div id="WSf01dbd23413dda0e3afdb85a1200fc46c9e-8000" class="nochunk"><a name="WSf01dbd23413dda0e3afdb85a1200fc46c9e-8000"><!-- --></a><h3 class="topictitle3">Create an action page for the form</h3><div><ol><li><p>Create a ColdFusion page with the following content: </p>
<pre>&lt;html&gt; 
&lt;head&gt; 
&lt;title&gt;Retrieving Employee Data Based on Criteria from Form&lt;/title&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
<strong>&lt;cfquery name="GetEmployees" datasource="cfdocexamples"&gt;</strong> 
    <strong>SELECT FirstName, LastName, Salary</strong> 
    <strong>FROM Employee</strong> 
    <strong>WHERE LastName=&lt;cfqueryparam value="#Form.LastName#" </strong> 
    <strong>CFSQLType="CF_SQL_VARCHAR"&gt;</strong> 
<strong>&lt;/cfquery&gt;</strong> 
&lt;h4&gt;Employee Data Based on Criteria from Form&lt;/h4&gt; 
<strong>&lt;cfoutput query="GetEmployees"&gt;</strong> 
<strong>#FirstName#</strong> 
<strong>#LastName#</strong> 
<strong>#Salary#&lt;br&gt;</strong> 
<strong>&lt;/cfoutput&gt;</strong> 
<strong>&lt;br&gt;</strong> 
<strong>&lt;cfoutput&gt;Contractor: #Form.Contractor#&lt;/cfoutput&gt;</strong> 
&lt;/body&gt; 
&lt;/html&gt;</pre>
</li>
<li><p>Save the page as actionpage.cfm in the myapps directory. </p>
</li>
<li><p>View the formpage.cfm page in your browser.</p>
</li>
<li><p>Enter data, for example, Smith, in the Last Name box and
submit the form.</p>
<p>The browser displays a line with the first
and last name and salary for each entry in the database that match
the name you typed, followed by a line with the text “Contractor:
Yes”.</p>
</li>
<li><p>Click Back in your browser to redisplay the form.</p>
</li>
<li><p>Remove the check mark from the check box and submit the form
again. </p>
<p>This time an error occurs because the check box does
not pass a variable to the action page. For information on modifying
the actionpage.cfm page to fix the error, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7fcb.html">Testing for a variable’s existence</a>. </p>
</li>
</ol>
<div class="section" id="WSf01dbd23413dda0e3afdb85a1200fc46c9e-8000__WSc3ff6d0ea77859461172e0811cbec0f76c-7ff5"><a name="WSf01dbd23413dda0e3afdb85a1200fc46c9e-8000__WSc3ff6d0ea77859461172e0811cbec0f76c-7ff5"><!-- --></a><h4 class="sectiontitle">Reviewing the code</h4><p>The
following table describes the highlighted code and its function:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e68330"><p>Code</p>
</th>
<th valign="top" width="NaN%" id="d17e68333"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e68330 "><div class="para"><pre>&lt;cfquery name="GetEmployees"datasource="cfdocexamples"&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e68333 "><p>Queries the data source cfdocexamples and
names the query GetEmployees.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e68330 "><div class="para"><pre>SELECT FirstName, LastName, Salary 
FROM Employee 
WHERE LastName=&lt;cfqueryparam value="#Form.LastName#" CFSQLType="CF_SQL_VARCHAR"&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e68333 "><p>Retrieves the FirstName, LastName, and Salary
fields from the Employee table, but only if the value of the LastName
field matches what the user entered in the LastName text box in
the form on formpage.cfm.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e68330 "><div class="para"><pre>&lt;cfoutput query="GetEmployees"&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e68333 "><p>Displays results of the GetEmployees query.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e68330 "><div class="para"><pre>#FirstName# 
#LastName# 
#Salary#&lt;br&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e68333 "><p>Displays the value of the FirstName, LastName,
and Salary fields for a record, starting with the first record,
then goes to the next line. Keeps displaying the records that match
the criteria you specified in the SELECT statement, followed by
a line break, until you run out of records.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e68330 "><div class="para"><pre>&lt;/cfoutput&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e68333 "><p>Closes the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7ff6.html" target="_self">cfoutput</a> block.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e68330 "><div class="para"><pre>&lt;br&gt; 
&lt;cfoutput&gt;Contractor: #Form.Contractor# 
&lt;/cfoutput&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e68333 "><p>Displays a blank line followed by the text
“Contractor”: and the value of the form Contractor check box. </p>
<p>A
more complete example would test to ensure the existence of the variable
and would use the variable in the query. </p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec22c24-7fcb" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7fcb"><!-- --></a><h2 class="topictitle2">Testing for a variable’s existence</h2><div><p>Before relying on a variable’s existence
in an application page, you can test to see if it exists using the
ColdFusion <samp class="codeph"><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7fbd.html" target="_self">IsDefined</a></samp> function. A <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">function</i> is
a named procedure that takes input and operates on it. For example,
the <samp class="codeph">IsDefined</samp> function determines whether a variable
exists. CFML provides a large number of functions, which are documented
in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
<p>The following code prevents the error in the previous example
by checking to see whether the Contractor Form variable exists before
using it:</p>
<pre>&lt;cfif IsDefined("Form.Contractor")&gt; 
    &lt;cfoutput&gt;Contractor: #Form.Contractor#&lt;/cfoutput&gt; 
&lt;/cfif&gt;</pre>
<p>The argument passed to the <samp class="codeph">IsDefined</samp> function
must always be enclosed in double-quotation marks. For more information
on the <samp class="codeph"><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7fbd.html" target="_self">IsDefined</a></samp> function, see the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
<p>If you attempt to evaluate a variable that you did not define,
ColdFusion cannot process the page and displays an error message.
To help diagnose such problems, turn on debugging in the ColdFusion
Administrator. The Administrator debugging information shows which
variables are being passed to your application pages.</p>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec22c24-7fc6" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7fc6"><!-- --></a><h2 class="topictitle2">Requiring users to enter values in form fields</h2><div><p>One of the limitations of HTML forms is
the inability to define input fields as required. Because this is
an important requirement for database applications, ColdFusion lets
you require users to enter data in fields. To specify a field as required,
you can do either of the following:</p>
<ul><li><p>Use the <samp class="codeph">required</samp> attribute of the <samp class="codeph">cfinput</samp>, <samp class="codeph">cfselect</samp>, <samp class="codeph">cftextarea</samp>, and <samp class="codeph">cftree</samp> tags.</p>
</li>
<li><p>Use a hidden field that has a <samp class="codeph">name</samp> attribute
composed of the field name and the suffix _<samp class="codeph">required</samp>.
You can use this technique with CFML and HTML form tags.</p>
</li>
</ul>
<p>For example, to require that the user enter a value in the FirstName
field of a <samp class="codeph">cfinput</samp> tag, use the following syntax:</p>
<pre>&lt;cfinput type="Text" name="FirstName" size="20" maxlength="35" required="Yes"&gt;</pre>
<p>To require that the user enters a value in the FirstName field
of an HTML <samp class="codeph">input</samp> tag, use the following syntax:</p>
<pre>&lt;input type="Text" name="FirstName" size="20" maxlength="35"&gt; 
&lt;input type="hidden" name="FirstName_required"&gt;</pre>
<p>In either of these examples, if the user leaves the FirstName
field empty, ColdFusion rejects the form submittal and returns a
message informing the user that the field is required. You can customize
the contents of this error message.</p>
<p>If you use a <samp class="codeph">required</samp> attribute, you customize
the message by using the <samp class="codeph">message</samp> attribute, as
follows:</p>
<pre>&lt;cfinput type="Text" name="FirstName" size="20" maxlength="35" required="Yes" 
    message="You must enter your first name."&gt;</pre>
<p>If you use a hidden field tag, you customize the message using
the <samp class="codeph">value</samp> attribute of the hidden field, as follows:</p>
<pre>&lt;input type="hidden" name="FirstName_required" 
    value="You must enter your first name."&gt;</pre>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec0f76c-7fed" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec0f76c-7fed"><!-- --></a><h2 class="topictitle2">Form variable notes and considerations</h2><div><p>When
using form variables in an action page, keep in mind the following
guidelines:</p>
<ul><li><p>A form variable is available
on the action page and pages that it includes.</p>
</li>
<li><p>Prefix form variables with "Form."when referencing
them on the action page.</p>
</li>
<li><p>Surround variable values with number signs (#) for output.</p>
</li>
<li><p>Variables for check boxes, radio buttons, and list boxes
with <samp class="codeph">size</samp> attributes greater than 1 only get passed
to the action page if you select an option. Text boxes, passwords,
and text area fields pass an empty string if you do not enter text.</p>
</li>
<li><p>An error occurs if the action page tries to use a variable
that was not passed.</p>
</li>
<li><p>If multiple controls have the same name, one form variable
is passed to the action page with a comma-delimited list of values. </p>
</li>
<li><p>You can validate form variable values on the client or the
server. </p>
</li>
</ul>
</div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec0f76c-7fe3.html" title="Using forms in ColdFusion"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec0f76c-7ff4.html" title="Working with queries and data"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd70508c-8000.html"><b>Requesting and Presenting Information</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7ffe.html"><b>Introduction to Retrieving and Formatting Data</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>