<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Enhancing search results</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec0ef2f-7ff6.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec0ef2f-7ff6.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec0ef2f-7ff1.html" title="Creating a search page"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec22c24-7b35.html" title="Working with data returned from a query"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WS8f0cc78011fffa7168855f811cdb0b0cce-8000.html"><b>Accessing and Using Data</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7b7e.html"><b>Building a Search Interface</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Enhancing search results</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe7"><span class="topictitle1">Highlighting search terms</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe3"><span class="topictitle1">Providing alternative spelling suggestions</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-7b29"><span class="topictitle1">Narrowing searches by using categories</span>
</a></p><ul><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec0ef2f-7fff"><span class="topictitle2">Creating collections with support for categories</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-7b31"><span class="topictitle2">Indexing collections that contain categories</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-7b30"><span class="topictitle2">Searching collections that contain categories</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec0ef2f-7fdf"><span class="topictitle2">Retrieving information about the categories contained in a collection</span>
</a></p></li></ul></li></ul></div></div></div></div><div><p>ColdFusion lets you enhance the results of searches by
letting you incorporate search features that let users more easily
find the information they need. Verity provides the following search
enhancements:</p>
<ul><li><p>Highlighting search terms</p>
</li>
<li><p>Providing alternative spelling suggestions</p>
</li>
<li><p>Narrowing searches using categories</p>
</li>
</ul>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe7" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe7"><!-- --></a><h2 class="topictitle2">Highlighting search terms</h2><div><p>Term highlighting lets users quickly scan retrieved documents
to determine whether they contain the desired information. This
can be especially useful when searching lengthy documents, letting
users quickly locate relevant information returned by the search.</p>
<p>To implement term highlighting, use the following cfsearch attributes
in the search results page:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e49297"><p>Attributes</p>
</th>
<th valign="top" width="NaN%" id="d17e49300"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e49297 "><p><samp class="codeph">ContextHighlightBegin</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e49300 "><p>Specifies the HTML tag to prefix to the
search term within the returned documents. This attribute must be
used in conjunction with ContextHighlightEnd to highlight the resulting
search terms. The default HTML tag is <samp class="codeph">&lt;b&gt;</samp>,
which highlights search terms using bold type.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e49297 "><p><samp class="codeph">ContextHighlightEnd</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e49300 "><p>Specifies the HTML tag to append to the
search term within the returned documents.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e49297 "><p><samp class="codeph">ContextPassages</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e49300 "><p>The number of passages/sentences Verity
returns in the context summary (the context column of the results).
The default value is 0; this disables the context summary.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e49297 "><p><samp class="codeph">ContextBytes</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e49300 "><p>The total number of bytes that Verity returns
in the context summary. The default is 300 bytes.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>The following example adds to the previous search results example
by highlighting the returned search terms with bold type. </p>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe7__WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe4"><a name="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe7__WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe4"><!-- --></a><h4 class="sectiontitle">Create a search results page that includes term highlighting</h4><ol><li><p>Create a ColdFusion page with the following content:</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
    &lt;title&gt;Search Results&lt;/title&gt; 
&lt;/head&gt; 
&lt;body&gt; 
&lt;cfsearch  
    name = "codecoll_results" 
    collection = "CodeColl" 
    criteria = "#Form.Criteria#" 
    <strong>ContextHighlightBegin="&lt;b&gt;"</strong> 
    <strong>ContextHighlightEnd="&lt;/b&gt;"</strong> 
    <strong>ContextPassages="1" </strong> 
    <strong>ContextBytes="500"</strong> 
    maxrows = "100"&gt; 
&lt;h2&gt;Search Results&lt;/h2&gt; 
&lt;cfoutput&gt; 
Your search returned #codecoll_results.RecordCount# file(s). 
&lt;/cfoutput&gt; 
 
&lt;cfoutput query="codecoll_results"&gt; 
    &lt;p&gt; 
    File: &lt;a href="#URL#"&gt;#Key#&lt;/a&gt;&lt;br&gt; 
    Document Title (if any): #Title#&lt;br&gt; 
    Score: #Score#&lt;br&gt; 
    Summary: #Summary#&lt;br&gt; 
    Highlighted Summary: #context#&lt;/p&gt; 
&lt;/cfoutput&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
</li>
<li><p>Save the file as collection_search_action.cfm.</p>
<div class="note"><span class="notetitle">Note:  </span>This overwrites the previous ColdFusion<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema"> example page.</i></div>
</li>
<li><p>View collection_search_form.cfm in the web browser:</p>
</li>
<li><p>Enter target words and click Search.</p>
</li>
</ol>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe3" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe3"><!-- --></a><h2 class="topictitle2">Providing alternative spelling suggestions</h2><div><p>Many unsuccessful searches are the result of incorrectly
spelled query terms. Verity can automatically suggest alternative
spellings for misspelled queries using a dictionary that is dynamically
built from the search index. </p>
<p>To implement alternative spelling suggestions, you use the <samp class="codeph">cfsearch</samp> tag’s <samp class="codeph">suggestions</samp> attribute
with an integer value. If the number of documents returned by the
search is less than or equal to the value you specify, Verity provides
alternative search term suggestions. In addition to using the <samp class="codeph">suggestions</samp> attribute,
you can also use the <samp class="codeph">cfif</samp> tag to output the spelling suggestions,
and a link through which to search on the suggested terms.</p>
<div class="note"><span class="notetitle">Note:  </span>Using alternative spelling suggestions incurs
a small performance penalty. This occurs because the cfsearch tag
must also look up alternative spellings in addition to the specified
search terms.</div>
<p>The following example specifies that if the number of search
results returned is less than or equal to 5, an alternative search
term—which is displayed using the <samp class="codeph">cfif</samp> tag—is displayed
with a link that the user can click to activate the alternate search. </p>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe3__WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe1"><a name="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe3__WSc3ff6d0ea77859461172e0811cbec0ef2f-7fe1"><!-- --></a><h4 class="sectiontitle">Create a search results page that provides alternative spelling suggestions</h4><ol><li><p>Create a ColdFusion page with the following content:</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
    &lt;title&gt;Search Results&lt;/title&gt; 
&lt;/head&gt; 
&lt;body&gt; 
&lt;cfsearch  
    name = "codecoll_results" 
    collection = "CodeColl" 
    criteria = "#Form.Criteria#"&gt; 
    status = "info" 
    <strong>suggestions="5"</strong> 
    ContextPassages = "1" 
    ContextBytes = "300" 
    maxrows = "100"&gt; 
&lt;h2&gt;Search Results&lt;/h2&gt; 
&lt;cfoutput&gt; 
Your search returned #codecoll_results.RecordCount# file(s). 
&lt;/cfoutput&gt; 
<strong>&lt;cfif info.FOUND LTE 5 AND isDefined("info.SuggestedQuery")&gt;</strong> 
    <strong>Did you mean:</strong> 
    <strong>&lt;a href="search,cfm?query=#info.SuggestedQuery#&gt;#info.SuggestedQuery#&lt;/a&gt;</strong> 
<strong>&lt;/cfif&gt; </strong> 
&lt;cfoutput query="codecoll_results"&gt; 
    &lt;p&gt; 
    File: &lt;a href="#URL#"&gt;#Key#&lt;/a&gt;&lt;br&gt; 
    Document Title (if any): #Title#&lt;br&gt; 
    Score: #Score#&lt;br&gt; 
    Summary: #Summary#&lt;br&gt; 
    Highlighted Summary: #context#&lt;/p&gt; 
&lt;/cfoutput&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
</li>
<li><p>Save the file as collection_search_action.cfm.</p>
<div class="note"><span class="notetitle">Note:  </span>This overwrites the previous ColdFusion<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema"> example page.</i></div>
</li>
<li><p>View collection_search_form.cfm in the web browser:</p>
</li>
<li><p>Enter any misspelled target words and click Search. </p>
</li>
</ol>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec22c24-7b29" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7b29"><!-- --></a><h2 class="topictitle2">Narrowing searches by using categories</h2><div><p>Verity lets you organize your searchable documents into <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">categories</i>.
Categories are groups of documents (or database tables) that you
define, and then let users search within them. For example, if you
wanted to create a search tool for a software company, you can create
categories such as whitepapers, documentation, release notes, and
marketing collateral. Users can then specify one or more categories
in which to search for information. Thus, if users visiting the website
wanted to learn about a conceptual aspect of your company’s technology,
they might restrict their search to the whitepaper and marketing categories.</p>
<p>Typically, you provide users with pop-up menus or check boxes
from which they can select categories to narrow their searches.
Alternately, you can create a form that lets users enter both a
category name in which to search, and search keywords.</p>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec22c24-7b29__WSc3ff6d0ea77859461172e0811cbec0ef2f-7fd6"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7b29__WSc3ff6d0ea77859461172e0811cbec0ef2f-7fd6"><!-- --></a><h4 class="sectiontitle">Create a search application that uses categories</h4><ol><li><p>Create
a collection with support for categories enabled.</p>
</li>
<li><p>Index the collection, specifying the <samp class="codeph">category</samp> and <samp class="codeph">categoryTree</samp> attributes
appropriate to the collection.</p>
<p>For more information on indexing
Verity collections with support for categories, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7b31.html">Indexing collections that contain categories</a>.</p>
</li>
<li><p>Create a search page that lets users search within the categories
that you created. </p>
<p>Create a search page using the <samp class="codeph">cfsearch</samp> tag
that lets users more easily search for information by restricting
searches to the specified category and, if specified, its hierarchical
tree.</p>
<p>For more information on searching Verity collections
with support for categories, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7b30.html">Searching collections that contain categories</a>.</p>
</li>
</ol>
</div>
</div><div id="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fff" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fff"><!-- --></a><h3 class="topictitle3">Creating collections with support for categories</h3><div><p>You can either select Enable Category Support from the
ColdFusion Administrator, or write a <samp class="codeph">cfcollection</samp> tag
that uses the <samp class="codeph">category</samp> attribute. By enabling category
support, you create a collection that contains a Verity Parametric
Index (PI).</p>
<pre>&lt;cfcollection  
    action = "action" 
    collection = "collectionName" 
    path = "path_to_verity_collection" 
    language = "English" 
    categories = "yes"&gt;</pre>
<p>For more information on using the <samp class="codeph">cfcollection</samp> tag
to create Verity collections with support for categories, see <samp class="codeph"><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7d03.html" target="_self">cfcollection</a></samp> in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-7b31" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7b31"><!-- --></a><h3 class="topictitle3">Indexing collections that contain categories</h3><div><p>When you index a collection with support for categories
enabled, do the following:</p>
<ul><li><p>Specify a category name using the <samp class="codeph">category</samp> attribute.
The name (or names) that you provide identifies the category so
that users can specify searches on the documents that the collection
contains. For example, you create five categories named <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">taste</i>, <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">touch</i>, <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">sight</i>, <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">sound</i>,
and <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">smell</i>. When performing a search, users could select from
either a pop-up menu or check box to search within one or more of
the categories, thereby limiting their search within a given range
of topics.</p>
<pre>&lt;cfindex collection="#Form.IndexColl#" 
    action="update" 
    extensions=".htm, .html, .xls, .txt, .mif, .doc, .pdf" 
    key="#Form.IndexDir#" 
    type="path" 
    urlpath="#Form.urlPrefix#" 
    recurse="Yes" 
    language="English" 
    category="taste, touch, sight, sound, smell"&gt;</pre>
</li>
<li><p>Specify a hierarchical document tree (like a file system
tree) within which you can limit searches, when you use the <samp class="codeph">categoryTree</samp> attribute.
With the <samp class="codeph">categoryTree</samp> attribute enabled, ColdFusion
limits searches to documents contained within the specified path. </p>
<p>To
use the <samp class="codeph">categoryTree</samp> attribute, you specify a hierarchical
document tree by listing each category as a string, and separating
them using forward slashes (/). The tree structure that you specify
in a search is the root of the document tree from which you want
the search to begin. The <samp class="codeph">type=path</samp> attribute appends
directory names to the end of the returned value (as it does when
specifying the <samp class="codeph">urlpath</samp> attribute).</p>
<div class="note"><span class="notetitle">Note:  </span>You can specify only a single category tree. </div>
<pre>&lt;cfindex collection="#Form.IndexColl#" 
    action="update" 
    extensions=".htm, .html, .xls, .txt, .mif, .doc, .pdf" 
    key="#Form.IndexDir#" 
    type="path" 
    urlpath="#Form.urlPrefix#" 
    recurse="Yes" 
    language="English" 
    category="taste, touch, sight, sound, smell" 
    categoryTree="human/senses/taste"&gt;</pre>
</li>
</ul>
<p>For more information on using the <samp class="codeph">cfindex</samp> tag
to create Verity collections with support for categories, see <samp class="codeph"><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7d04.html" target="_self">cfindex</a></samp> in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-7b30" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7b30"><!-- --></a><h3 class="topictitle3">Searching collections that contain categories</h3><div><p>When searching data in a collection created with categories,
you specify <samp class="codeph">category</samp> and <samp class="codeph">categoryTree</samp>.
The values supplied to these attributes specify the category to
be searched for the specified search string (the <samp class="codeph">criteria</samp> attribute).
The <samp class="codeph">category</samp> attribute can contain a comma-separated list
of categories to search. Both attributes can be specified at the
same time. </p>
<pre>&lt;cfsearch collection="collectionName"  
    name="results" 
    maxrows = "100" 
    criteria="search keywords" 
    category="FAQ,Technote" 
    categoryTree="Docs/Tags"&gt;</pre>
<div class="note"><span class="notetitle">Note:  </span>If <samp class="codeph">cfsearch</samp> is executed on
a collection that was created without category information, an exception
is thrown. </div>
<p>To search collections that contain categories, you use the <samp class="codeph">cfsearch</samp> tag,
and create an application page that searches within specified categories.
The following example lets the user enter and submit the name of
the collection, the category in which to search, and the document
tree associated with the category through a form. By restricting
the search in this way, the users are better able to retrieve the
documents that contain the information they are looking for. In addition
to searching with a specified category, this example also makes
use of the <samp class="codeph">contextHighlight</samp> attribute, which highlights
the returned search results.</p>
<pre>&lt;cfparam name="collection" default="test-pi"&gt; 
 
&lt;cfoutput&gt; 
&lt;form action="#CGI.SCRIPT_NAME#" method="POST"&gt; 
    Collection Name: &lt;input Type="text" Name="collection" value="#collection#"&gt; 
    &lt;P&gt; 
    Category: &lt;input Type="text" Name="category" value=""&gt;&lt;br&gt; 
    CategoryTree: &lt;input Type="text" Name="categoryTree" value=""&gt;&lt;br&gt; 
    &lt;P&gt; 
Search: &lt;input Type="text" Name="criteria"&gt; 
    &lt;input Type="submit" Value="Search"&gt; 
&lt;/form&gt; 
&lt;/cfoutput&gt; 
 
&lt;cfif isdefined("Form.criteria")&gt; 
    &lt;cfoutput&gt;Search results for: &lt;b&gt;#criteria#&lt;/b&gt;&lt;/cfoutput&gt; 
    &lt;br&gt; 
    <strong>&lt;cfsearch collection="#form.collection#"</strong> 
        <strong>category="#form.category#"</strong> 
        <strong>categoryTree="#form.categoryTree#" </strong> 
        <strong>name="sr"</strong> 
        <strong>status="s"</strong> 
        <strong>criteria="#form.criteria#"</strong> 
        <strong>contextPassages="3"</strong> 
        <strong>contextBytes="300"</strong> 
        <strong>contextHighlightBegin="&lt;i&gt;&lt;b&gt;"</strong> 
        <strong>contextHighlightEnd="&lt;/b&gt;&lt;/i&gt;"</strong> 
        maxrows="100"&gt; 
    &lt;cfdump var="#s#"&gt; 
 
    &lt;cfoutput&gt; 
    &lt;p&gt;Number of records in query: #sr.recordcount#&lt;/P&gt; 
    &lt;/cfoutput&gt; 
 
    &lt;cfdump var="#sr#"&gt; 
 
    &lt;cfoutput Query="sr"&gt; 
    Title: &lt;i&gt;#title#&lt;/i&gt;&lt;br&gt; 
    URL: #url#&lt;br&gt; 
    Score: #score#&lt;br&gt; 
    &lt;hr&gt; 
    #context#&lt;br&gt; 
    &lt;br&gt; 
    #summary#&lt;br&gt; 
    &lt;hr&gt; 
    &lt;/cfoutput&gt; 
&lt;/cfif&gt;</pre>
<p>For more information on using the <samp class="codeph">cfindex</samp> tag
to create Verity collections with support for categories, see <samp class="codeph"><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7d02.html" target="_self">cfsearch</a></samp> in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div><div id="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fdf" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec0ef2f-7fdf"><!-- --></a><h3 class="topictitle3">Retrieving information about the categories contained in a collection</h3><div><p>You can retrieve the category information for a collection
by using the <samp class="codeph">cfcollection</samp> tag’s <samp class="codeph">categoryList</samp> action.The <samp class="codeph">categoryList</samp> action returns
a structure that contains two keys:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e49688"><p>Variable</p>
</th>
<th valign="top" width="NaN%" id="d17e49691"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e49688 "><p><samp class="codeph">categories</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e49691 "><p>The name of the category and its hit count,
where hit count is the number of documents in the specified category.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e49688 "><p><samp class="codeph">categorytrees</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e49691 "><p>The document tree (a/b/c) and hit count,
where hit count is the number of documents at or below the branch
of the document tree.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Use the information returned by <samp class="codeph">categoryList</samp> to
display to users the number of documents available for searching,
as well the document tree available for searching. You can also
create a search interface that lets the user select what category
to search within based on the results returned by <samp class="codeph">categoryList</samp>.</p>
<pre>&lt;cfcollection  
    action="categoryList"  
    collection="collectionName" 
    name="info"&gt;  
 
&lt;cfoutput&gt;  
    &lt;cfset catStruct=info.categories&gt;  
    &lt;cfset catList=StructKeyList(catStruct)&gt;  
    &lt;cfloop list="catList" index="cat"&gt; Category: #cat# &lt;br&gt;  
        Documents: #catStruct[cat]#&lt;br&gt;  
    &lt;/cfloop&gt; 
&lt;/cfoutput&gt; </pre>
<p>To retrieve information about the categories contained in a collection,
you use the <samp class="codeph">cfcollection</samp> tag, and create an application
page that retrieves category information from the collection and
displays the number of documents contained by each category. This
example lets the user enter and submit the name of the collection
via a form, and then uses the <samp class="codeph">categoryList</samp> action
to retrieve information about the number of documents contained
by the collection, and the hierarchical tree structure into which
the category is organized.</p>
<pre>&lt;html&gt;  
&lt;head&gt; 
    &lt;title&gt;Category information&lt;/title&gt; 
&lt;/head&gt; 
&lt;body&gt; 
&lt;cfoutput&gt; 
&lt;form action="#CGI.SCRIPT_NAME#" method="POST"&gt; 
    Enter Collection Name: &lt;input Type="text" Name="collection"  
        value="#collection#"&gt;&lt;br&gt; 
    &lt;input Type="submit" Value="GetInfo"&gt; 
&lt;/form&gt; 
&lt;/cfoutput&gt; 
&lt;cfif isdefined("Form.collection")&gt; 
    &lt;cfoutput&gt; 
    Getting collection info... 
    &lt;br&gt; 
    &lt;cfflush&gt; 
    <strong>&lt;cfcollection </strong> 
        <strong>action="categorylist" </strong> 
        <strong>collection="#collection#" </strong> 
        <strong>name="out"&gt;</strong> 
    &lt;br&gt; 
    <strong>&lt;cfset categories=out.categories&gt;</strong> 
    <strong>&lt;cfset tree=out.categorytrees&gt;</strong> 
    <strong>&lt;cfset klist=StructKeyList(categories)&gt;</strong> 
    &lt;table border=1&gt; 
    &lt;th&gt;Category&lt;/th&gt; &lt;th&gt;Documents&lt;/th&gt; 
    &lt;cfloop index="x" list="#klist#"&gt; 
    &lt;tr&gt; 
        &lt;td&gt;#x#&lt;/td&gt; &lt;td align="center"&gt;#categories[x]#&lt;/td&gt; 
    &lt;/tr&gt; 
    &lt;/cfloop&gt; 
    &lt;/table&gt; 
    &lt;cfset klist=StructKeyList(tree)&gt; 
    &lt;table border=1&gt; 
    &lt;th&gt;Category&lt;/th&gt; &lt;th&gt;Documents&lt;/th&gt; 
    &lt;cfloop index="x" list="#klist#"&gt; 
    &lt;tr&gt; 
     &lt;td&gt;#x#&lt;/td&gt; &lt;td align="center"&gt;#tree[x]#&lt;/td&gt; 
    &lt;/tr&gt; 
    &lt;/cfloop&gt; 
    &lt;/table&gt; 
    &lt;/cfoutput&gt; 
&lt;/cfif&gt; 
&lt;/body&gt;</pre>
<p>For more information on using the <samp class="codeph">cfcollection</samp> tag
to create Verity collections with support for categories, see <samp class="codeph"><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7d03.html" target="_self">cfcollection</a></samp> in <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec0ef2f-7ff1.html" title="Creating a search page"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec22c24-7b35.html" title="Working with data returned from a query"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WS8f0cc78011fffa7168855f811cdb0b0cce-8000.html"><b>Accessing and Using Data</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7b7e.html"><b>Building a Search Interface</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>