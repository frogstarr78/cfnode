<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Using Ajax User Interface Components and Features</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec22c24-7a01.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec22c24-7a01.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec1069f-7ff4.html" title="Creating XSLT skins"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec22c24-7a27.html" title="Using Ajax Data and Development Features"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd70508c-8000.html"><b>Requesting and Presenting Information</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Using Ajax User Interface Components and Features</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7fff"><span class="topictitle1">About Ajax and ColdFusion user interface features</span>
</a></p><ul><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7feb"><span class="topictitle2">ColdFusion Ajax features</span>
</a></p><ul><li><p><a href="#WSE2DE562E-3461-4081-9261-C872F1018C25"><span class="topictitle3">Data and development features</span>
</a></p></li><li><p><a href="#WSF91CB030-D3BA-45f9-8AE6-04450817521C"><span class="topictitle3">User Interface tags and features</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7ffd"><span class="topictitle2">Using ColdFusion Ajax user interface features</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7ffc"><span class="topictitle1">Controlling Ajax user interface layout</span>
</a></p><ul><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7ff0"><span class="topictitle2">Using the cfdiv tag</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-71d8"><span class="topictitle2">Using layouts</span>
</a></p><ul><li><p><a href="#WS04B67598-059D-46ba-AE5D-AA492F7F9C2D"><span class="topictitle3">Styling layouts</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7ff6"><span class="topictitle2">Using pods</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-6e79"><span class="topictitle2">Using pop-up windows</span>
</a></p><ul><li><p><a href="#WS9E605A24-E945-4e7e-9A1A-3FAFAC89B9EA"><span class="topictitle3">Display and hide windows</span>
</a></p></li><li><p><a href="#WS327A1B45-C895-418a-AD69-1C843EAE5BCE"><span class="topictitle3">Use the window show and hide events</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-60bd"><span class="topictitle2">Control container contents</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-711b"><span class="topictitle1">Using menus and toolbars</span>
</a></p><ul><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7ff9"><span class="topictitle2">Define menus and toolbars</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7ff8"><span class="topictitle2">Styling menus</span>
</a></p></li></ul></li><li><p><a href="#WSe9cbe5cf462523a0fe521c212308a43ca3-8000"><span class="topictitle1">Uploading files</span>
</a></p><ul><li><p><a href="#WSe9cbe5cf462523a0fe521c212308a43ca3-7fff"><span class="topictitle2">Working with the cffileupload</span>
</a></p><ul><li><p><a href="#WSe9cbe5cf462523a0fe521c212308a43ca3-7ffe"><span class="topictitle3">Sending custom response to the callback and error handlers</span>
</a></p></li><li><p><a href="#WSe9cbe5cf462523a0fe521c212308a43ca3-7ffd"><span class="topictitle3">Using styles</span>
</a></p></li></ul></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-7a11"><span class="topictitle1">Using Ajax form controls and features</span>
</a></p><ul><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-8000"><span class="topictitle2">Using Ajax form controls</span>
</a></p><ul><li><p><a href="#WSE835E10F-A672-434f-A76A-9BD6D64FEB9D"><span class="topictitle3">Using Ajax containers for form submission</span>
</a></p></li><li><p><a href="#WSAB82D475-38F4-48a7-B1D3-DDB4E6049DB2"><span class="topictitle3">Using the cfajaxproxy SetForm function</span>
</a></p></li><li><p><a href="#WS71B55A73-D08F-47c7-B062-0543793B83A5"><span class="topictitle3">Using the ColdFusion.Ajax.submitForm function</span>
</a></p></li><li><p><a href="#WS0A006368-3994-4eaf-9D87-46A51D281721"><span class="topictitle3">Using the ColdFusion.navigate function to submit a form</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-72e0"><span class="topictitle2">Using HTML grids</span>
</a></p><ul><li><p><a href="#WSF7E64317-462A-4674-A8CE-9E3880BCD129"><span class="topictitle3">Dynamically filling form data</span>
</a></p></li><li><p><a href="#WSADC8D8AB-E8D9-4db3-89D0-63A806C09488"><span class="topictitle3">Using the bindOnLoad attribute</span>
</a></p></li><li><p><a href="#WS33143779-A04B-4912-8585-547A1DA1BD00"><span class="topictitle3">Dynamically editing grid contents</span>
</a></p></li><li><p><a href="#WS31EB714C-D9CC-4627-8140-B66A5C77448A"><span class="topictitle3">Binding controls to grid contents</span>
</a></p></li><li><p><a href="#WS5F4F9407-4864-4685-85DC-37CBE78FDA9F"><span class="topictitle3">Grid JavaScript functions</span>
</a></p></li><li><p><a href="#WSe9cbe5cf462523a0-6ada7e31123088f2cf8-8000"><span class="topictitle3">Using the Boolean column and grouping</span>
</a></p></li><li><p><a href="#WSe9cbe5cf462523a0-6ada7e31123088f2cf8-7fff"><span class="topictitle3">Using the date column</span>
</a></p></li><li><p><a href="#WSd160b5fdf5100e8f881078e12a378c89b9-8000"><span class="topictitle3">Datehandling when the attribute mask is used in ColdFusion 9.0.1</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-6f14"><span class="topictitle2">Using HTML trees</span>
</a></p><ul><li><p><a href="#WS903B1B5E-3E2A-417f-B837-8C228847918A"><span class="topictitle3">Populating the tree using a bind expression</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7fdb"><span class="topictitle3">Example 1: a simple tree</span>
</a></p><ul><li><p><a href="#WSDC94C31C-45BA-48d7-9BAE-D0C5E73C26A8"><span class="topictitle4">Handling leaf nodes</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7fdd"><span class="topictitle3">Example 2: a more complex tree with leaf node handling</span>
</a></p><ul><li><p><a href="#WSA976FD14-E052-4693-AE94-34B61135C829"><span class="topictitle4">Binding other controls to a tree</span>
</a></p></li><li><p><a href="#WS14AAD3BE-F7B2-4b69-9076-106AD58AA159"><span class="topictitle4">Tree JavaScript functions</span>
</a></p></li></ul></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-6f1b"><span class="topictitle2">Using the rich text editor</span>
</a></p><ul><li><p><a href="#WS319B7FB6-2D37-4d90-9BB4-0A6B02BA5B8C"><span class="topictitle3">Configuring the rich text editor</span>
</a></p></li><li><p><a href="#WSB6F9E82D-96A8-4f45-B7F8-C0EB58895BBA"><span class="topictitle3">Defining custom toolbars</span>
</a></p></li><li><p><a href="#WS5C5851EE-8DE8-4dad-B5AB-3A121E2C44C7"><span class="topictitle3">Defining custom styles</span>
</a></p></li><li><p><a href="#WS8B8AA646-859D-4e37-BF10-D451F66626DF"><span class="topictitle3">Defining custom templates</span>
</a></p></li><li><p><a href="#WS6D526FF7-F03A-4a0e-97FA-25BCD1484C1D"><span class="topictitle3">Defining custom skins</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec10aa6-7fd5"><span class="topictitle2">Using the datefield input control</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-720c"><span class="topictitle2">Using autosuggest text input fields</span>
</a></p></li><li><p><a href="#WSce19a0e5a003e2ed66693371122fb66d56b-8000"><span class="topictitle2">Using the cfslider tag</span>
</a></p><ul><li><p><a href="#WSe9cbe5cf462523a0-c310897123042f5c1f-8000"><span class="topictitle3">Manipulating slider at runtime</span>
</a></p></li></ul></li></ul></li><li><p><a href="#WSe9cbe5cf462523a0-530e5e85122e994fa64-8000"><span class="topictitle1">Using geographical maps</span>
</a></p><ul><li><p><a href="#WSe9cbe5cf462523a0-530e5e85122e994fa64-7fff"><span class="topictitle2">Using the marker window</span>
</a></p><ul><li><p><a href="#WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffe"><span class="topictitle3">Populating data using static content</span>
</a></p></li><li><p><a href="#WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffd"><span class="topictitle3">Populating dynamic data using bind expression</span>
</a></p></li></ul></li><li><p><a href="#WSe9cbe5cf462523a076d48d32122e9d46b72-8000"><span class="topictitle2">Specifying Google map key</span>
</a></p></li><li><p><a href="#WSe9cbe5cf462523a076d48d32122e9d46b72-7fff"><span class="topictitle2">Styling markers</span>
</a></p></li></ul></li><li><p><a href="#WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffb"><span class="topictitle1">Using the cfprogressbar tag</span>
</a></p><ul><li><p><a href="#WSe9cbe5cf462523a0-4683a0b7122ef308624-8000"><span class="topictitle2">Progress bar modes</span>
</a></p></li><li><p><a href="#WSe9cbe5cf462523a0-4683a0b7122ef308624-7fff"><span class="topictitle2">Working with a progress bar at runtime</span>
</a></p></li><li><p><a href="#WSe9cbe5cf462523a0-3bc87321122ef38e3a5-8000"><span class="topictitle2">Styling the progress bar</span>
</a></p></li></ul></li><li><p><a href="#WSce19a0e5a003e2ed-2746175b122fb6f9bec-8000"><span class="topictitle1">Using the cfmessagebox tag</span>
</a></p><ul><li><p><a href="#WSe9cbe5cf462523a03d8532761230440fc53-8000"><span class="topictitle2">Using confirm dialog</span>
</a></p></li><li><p><a href="#WSe9cbe5cf462523a063556286123046b7d24-7ffe"><span class="topictitle2">Styling a message box</span>
</a></p></li></ul></li></ul></div></div></div></div><div><p>Use Adobe ColdFusion Ajax-based layout and form controls
and other Ajax-based user interface capabilities to create a dynamic
application. </p>
<p>For information about how ColdFusion uses the Ajax framework
in general, or how to use ColdFusion Ajax data and programming capabilities,
including binding to form data and managing JavaScript resources,
see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7a27.html">Using Ajax Data and Development Features</a>.</p>
<ul class="navlinklist"></ul>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7fff" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7fff"><!-- --></a><h2 class="topictitle2">About Ajax and ColdFusion user interface features</h2><div><p>Ajax
(Asynchronous JavaScript and XML) is a set of web technologies for
creating interactive web applications. Ajax applications typically
combine:</p>
<ul><li><p>HTML and CSS for formatting and displaying information.</p>
</li>
<li><p>JavaScript for client-side dynamic scripting</p>
</li>
<li><p>Asynchronous communication with a server using the XMLHttpRequest function.</p>
</li>
<li><p>XML or JSON (JavaScript Object Notation) as a technique for
serializing and transferring data between the sever and the client.</p>
</li>
</ul>
<p>ColdFusion provides many tools that simplify using Ajax technologies
for dynamic applications. By using ColdFusion tags and functions,
you can easily create complex Ajax applications.</p>
</div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7feb" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7feb"><!-- --></a><h3 class="topictitle3">ColdFusion Ajax features</h3><div><p>ColdFusion provides two types of Ajax features:</p>
<ul><li><p>Data and development features</p>
</li>
<li><p>User interface features</p>
</li>
</ul>
</div><div id="WSE2DE562E-3461-4081-9261-C872F1018C25" class="nochunk"><a name="WSE2DE562E-3461-4081-9261-C872F1018C25"><!-- --></a><h4 class="topictitle4">Data and development features</h4><div><p>ColdFusion data and development features help
you develop effective Ajax applications that use ColdFusion to provide
dynamic data. They include many features that you can use with other
Ajax frameworks, including Spry. </p>
<p>The following data and development features are important for
use with form and layout tags:</p>
<ul><li><p>ColdFusion supports data binding in many tags. Binding
allows form and display tags to dynamically display information
based on form input. In the simplest application, you display form
data directly in other form fields. But usually, you pass form field
data as parameters to CFC or JavaScript functions or CFM pages,
and use the results to control the display. </p>
</li>
<li><p>The <samp class="codeph">cfajaximport</samp> tag specifies the location
of the JavaScript and CSS files that a ColdFusion page imports or
to selectively import files required by specific tags. The ability
to change the file location lets you support a wide range of configurations
and use advanced techniques, such as application-specific styles.</p>
</li>
</ul>
<p>For more information about the data and development features
and how to use them, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7a27.html">Using Ajax Data and Development Features</a>.</p>
</div></div><div id="WSF91CB030-D3BA-45f9-8AE6-04450817521C" class="nochunk"><a name="WSF91CB030-D3BA-45f9-8AE6-04450817521C"><!-- --></a><h4 class="topictitle4">User Interface tags and features</h4><div><p>Several ColdFusion user interface elements incorporate
Ajax features. The tags and tag-attribute combinations can be divided
into the following categories:</p>
<ul><li><p>Container tags that lay out or display contents</p>
</li>
<li><p>File management tags that handle files</p>
</li>
<li><p>Form tags that dynamically display data</p>
</li>
<li><p>A menu tag that lets you create menu bars and pull-down menus</p>
</li>
<li><p>User assistance features that provide tool tips and form
completion</p>
</li>
<li><p>Four other tags for using geographical maps, progress bar,
media player, and message box.</p>
</li>
</ul>
<p>The
following table lists the basic tags and attributes that display
the Ajax-based features. For information on additional forms-specific
features, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7a11.html">Using Ajax form controls and features</a>.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e78240"><p>Tag/attribute</p>
</th>
<th valign="top" width="NaN%" id="d17e78243"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td colspan="2" valign="top" headers="d17e78240 d17e78243 "><p><strong>Container tags</strong></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfdiv</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>An HTML <samp class="codeph">div</samp> region that
can be dynamically populated by a bind expression. Forms in this
region submit asynchronously.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cflayout</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A horizontal or vertical box, a tabbed region,
or a set of bordered regions that can include a top, bottom, left,
right, and center regions.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cflayoutarea</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>An individual region within a <samp class="codeph">cflayout</samp> area,
such as the display that appears in a tabbed layout when the user
select a tab. Forms in this region submit asynchronously.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfpod</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>An area of the browser window with an optional
title bar and a body that contains display elements. Forms in this
region submit asynchronously.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfwindow</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A pop-up window within the browser. You
can also use the <samp class="codeph">ColdFusion.Window.createWindow</samp> function
to create a pop-up window. Forms in this region submit asynchronously.</p>
</td>
</tr>
<tr><td colspan="2" valign="top" headers="d17e78240 d17e78243 "><p><strong>File management tags</strong></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p>cffileupload</p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A dialog for uploading multiple files from
the user's system.</p>
</td>
</tr>
<tr><td colspan="2" valign="top" headers="d17e78240 d17e78243 "><p><strong>Forms tags</strong></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfgrid format="html"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A dynamic, editable, sortable, data grid.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfinput type="datefield"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>An input control that users can fill by
selecting a date from a pop-up calendar.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cftextarea richtext="yes"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A text area with a set of controls that
let users format the displayed text.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cftree format="html"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A dynamic tree-format representation of
data.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfslider</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A slider control, for selecting a numeric
value from a range, in a ColdFusion form.</p>
</td>
</tr>
<tr><td colspan="2" valign="top" headers="d17e78240 d17e78243 "><p><strong>Menu tags</strong></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfmenu</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A menu bar or the root of a drop-down menu.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfmenuitem</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>An individual item in a menu, or the root
of a submenu.</p>
</td>
</tr>
<tr><td colspan="2" valign="top" headers="d17e78240 d17e78243 "><p><strong>User assistance tags and attributes</strong></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cfinput type="text" autosuggest="</samp><samp class="codeph"><i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">bind</i></samp><samp class="codeph"><i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">expression</i></samp><samp class="codeph">"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A drop-down autofill suggestion box. As
the user types, a list appears with completion suggestions based
on the text the user has typed.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p><samp class="codeph">cftooltip</samp> tag, and the <samp class="codeph">tooltip</samp> attribute
on <samp class="codeph">cfinput</samp>, <samp class="codeph">cfselect</samp>, <samp class="codeph">cftextarea</samp> controls</p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A textual description of a control or region
that appears when the user hovers the mouse over the control or
region.</p>
</td>
</tr>
<tr><td colspan="2" valign="top" headers="d17e78240 d17e78243 "><p><strong>Other tags</strong></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p>cfprogressbar</p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A progress bar to indicate the progress
of an activity such as a file download.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p>cfmap</p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A geographical map within a ColdFusion web
page.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p>cfmediaplayer</p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>An inbuild media player.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e78240 "><p>cfmessagebox</p>
</td>
<td valign="top" width="NaN%" headers="d17e78243 "><p>A control for displaying pop-up messages.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>In addition to the tags and attributes, ColdFusion provides many
JavaScript functions that let you control and manage the display.
Many functions control the display of specific tags. For example,
you can use JavaScript functions to dynamically display and hide
the window. There are also several utility tags, such as the <samp class="codeph">ColdFusion.getElementValue</samp> function
that gets the value of a control attribute, or the <samp class="codeph">ColdFusion.navigate</samp> function
that displays the results of a URL in a container tag. For a complete
list of all ColdFusion Ajax JavaScript functions, and detailed function
descriptions, see <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-8000.html" target="_self">Ajax
JavaScript Functions</a> in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div></div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7ffd" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7ffd"><!-- --></a><h3 class="topictitle3">Using ColdFusion Ajax user interface features</h3><div><p>ColdFusion Ajax user interface
features let you create data-driven pages that update dynamically
without requiring multiple HTML pages or page refreshes or non-HTML
display tools such as Flash forms. Many user interface features
use data binding to dynamically get data based on other data values:
form field values, form control selections, and selections in Spry
data sets.</p>
<p>ColdFusion Ajax user interface controls and features can be divided
into two major categories: </p>
<ul><li><p>Display layout</p>
</li>
<li><p>Data interaction</p>
</li>
</ul>
<p>Display layout controls include the <samp class="codeph">cflayout</samp>, <samp class="codeph">cfpod</samp>,
and <samp class="codeph">cfwindow</samp> controls. Some of the data interaction
features include the HTML <samp class="codeph">cfgrid</samp> control, the <samp class="codeph">cfmenu</samp> control,
and dynamic autosuggest lists for text input controls. Most display
layout and data interaction features can use data binding to dynamically interact
with the user.</p>
<p>ColdFusion Ajax user interface features are based on the <a href="http://developer.yahoo.com/yui/" target="_self">Yahoo
User Interface Library</a> and the <a href="http://extjs.com/" target="_self">Ext JavaScript Library</a>. Also, the <samp class="codeph">cftextarea</samp> rich
text editor is based on the <a href="http://www.fckeditor.net/" target="_self">FCKeditor text editor</a>. In most situations,
you require only ColdFusion tags and functions (including JavaScript
functions) to create and manage the interface. However, advanced
developers can modify the library code, particularly the CSS styles,
to customize the controls in more complex ways.</p>
</div></div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7ffc" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7ffc"><!-- --></a><h2 class="topictitle2">Controlling Ajax user interface layout</h2><div><p>The following layout tags let you dynamically
control the display:</p>
<ul><li><p>cfdiv</p>
</li>
<li><p>cflayout</p>
</li>
<li><p>cfpod</p>
</li>
<li><p>cfwindow</p>
</li>
</ul>
<p>For information about how you can use these tags to submit form
contents asynchronously, see <a href="WSE835E10F-A672-434f-A76A-9BD6D64FEB9D.html">Using Ajax containers for form submission</a>.</p>
</div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7ff0" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7ff0"><!-- --></a><h3 class="topictitle3">Using the cfdiv tag</h3><div><p>The <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a07.html" target="_self">cfdiv</a> tag is a general-purpose container
that lets you use a bind expression to specify its contents. It
therefore lets you dynamically refresh any arbitrary region on the
page based on bind events. By default, the tag creates an HTML <samp class="codeph">div</samp> region,
but it can create any HTML tag with body contents. Unlike other ColdFusion
Ajax container tags, you can use any type of bind expression to populate
contents: CFC or JavaScript function, URL, or a string with bind
parameters. As a result, the <samp class="codeph">cfdiv</samp> tag provides
substantial flexibility in dynamically populating the page contents. </p>
<p>The <samp class="codeph">cfdiv</samp> tag is also useful if you want a form
to submit asynchronously. That is, whether or not you use a bind
expression to populate the tag. If you submit a form that is inside
a <samp class="codeph">cfdiv</samp> tag (including in HTML returned by a bind expression),
the form submits asynchronously. The response from the form submission
populates the <samp class="codeph">cfdiv</samp> region. (The <samp class="codeph">cflayoutarea</samp>, <samp class="codeph">cfwindow</samp>, and <samp class="codeph">cfpod</samp> tags
have the same behavior.) For example, you could have a page with
a form that includes a list of artists, and lets you add artists.
If the form is in a <samp class="codeph">cfdiv</samp> tag, when the user submits
the form, the entire page is not refreshed, only the region inside
the <samp class="codeph">cfdiv</samp> tag. For an example of using container
controls for asynchronous forms, see <a href="WSE835E10F-A672-434f-A76A-9BD6D64FEB9D.html">Using Ajax containers for form submission</a>.</p>
<p>One use case for a <samp class="codeph">cfdiv</samp> tag is an application
where a <samp class="codeph">cfgrid</samp> tag displays an employee list. Details
of the selected row in the grid are displayed inside a <samp class="codeph">cfdiv</samp> tag
with a bind expression that specifies the <samp class="codeph">cfgrid</samp> in
a bind parameter. As users click through different employees on
the grid, they get the employee details in the <samp class="codeph">cfdiv</samp> region.</p>
<p>The following simple example shows how you can use the <samp class="codeph">cfdiv</samp> tag
to get data using a bind expression. It uses binding to display
the contents of a text input field in an HTML div region. When a
user enters text in the input box and tabs out of it, or clicks
another region of the application, the div region displays the entered
text.</p>
<p>The cfdiv tag.cfm file, the main application file, has the following
contents.</p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;title&gt;cfdiv Example&lt;/title&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;cfform&gt; 
    &lt;cfinput name="tinput1" type="text"&gt; 
&lt;/cfform&gt; 
 
&lt;h3&gt; using a div&lt;/h3&gt; 
&lt;cfdiv bind="url:divsource.cfm?InputText={tinput1}" ID="theDiv" 
        style="background-color:##CCffFF; color:red; height:350"/&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The divsource.cfm file that defines the contents of the div region
has the following code:</p>
<pre>&lt;h3&gt;Echoing main page input:&lt;/h3&gt; 
&lt;cfoutput&gt; 
    &lt;cfif isdefined("url.InputText")&gt; 
        #url.InputText# 
    &lt;cfelse&gt; 
        No input 
    &lt;/cfif&gt; 
&lt;/cfoutput&gt;</pre>
</div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-71d8" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-71d8"><!-- --></a><h3 class="topictitle3">Using layouts</h3><div><p>The <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a22.html" target="_self">cflayout</a> tag controls the appearance
and arrangement of one or more child <samp class="codeph">cflayoutarea</samp> regions.
The <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a23.html" target="_self">cflayoutarea</a> regions contain display
elements and can be arranged in one of the following ways:</p>
<ul><li><p>Horizontally or vertically.</p>
</li>
<li><p>In a free-form bordered grid (panel layout) with up to five
regions: top, bottom, left. right, and center. You can optionally
configure the layout so that users can resize or collapse any or
all of the regions, except the center region. The center region
grows or shrinks to take up any space that other regions do not
use. You can also dynamically show or hide individual regions, or
let users collapse, expand, or close regions.</p>
</li>
<li><p>As a tabbed display, where selecting a tab changes the display
region to show the contents of the tab’s layout area. You can dynamically
show and hide, and enable and disable tabs, and optionally let users
close tabs.</p>
</li>
</ul>
<p>You can configure a layout area to have scroll bars all the time,
only when the area content exceeds the available screen size, or
never. You can let layout area contents extend beyond the layout
area. You can also nest layouts inside layout areas to create complex
displays. </p>
<p>You can define the layout area content in the <samp class="codeph">cflayoutarea</samp> tag
body. But, you can also use a bind expression to dynamically get
the content by calling a CFC function, requesting a CFML page, or
calling a JavaScript function.</p>
<p>ColdFusion provides many JavaScript functions for managing layouts,
including functions to collapse, expand, show, and hide border areas;
and to create, enable, disable, select, show, and hide tabs. For
a complete list of functions, see <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-8000.html" target="_self">Ajax JavaScript
Functions</a> in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
<p>The following example shows the use of a tabbed layout, including
the use of JavaScript functions to enable and disable a tab, and
to show and hide a tab.</p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;!--- The tabheight attribute sets the height of all tab content areas and therefore the 
            layout height. The width style controls the layout width. ---&gt; 
&lt;cflayout type="tab" name="mainTab" tabheight="300px" style="width:400px"&gt; 
 
    &lt;!--- Each layoutarea is one tab. ---&gt; 
    &lt;cflayoutarea title="First Tab" name="tab1"&gt; 
    &lt;h2&gt;The First Tab&lt;/h2&gt; 
    &lt;p&gt; 
    Here are the contents of the first tab.  
    &lt;/p&gt; 
    &lt;/cflayoutarea&gt; 
     
    &lt;cflayoutarea title="Second Tab" name="tab2"&gt; 
    &lt;h2&gt;The Second Tab&lt;/h2&gt; 
    &lt;p&gt; 
    This is the content of the second tab. 
    &lt;/p&gt; 
    &lt;/cflayoutarea&gt; 
&lt;/cflayout&gt; 
 
&lt;p&gt; 
Use these links to test selecting tabs via JavaScript:&lt;br /&gt; 
&lt;a href="" onClick="ColdFusion.Layout.selectTab('mainTab','tab1');return false;"&gt; 
    Click here to select tab 1.&lt;/a&gt;&lt;br /&gt; 
&lt;a href="" onClick="ColdFusion.Layout.selectTab('mainTab','tab2');return false;"&gt; 
    Click here to select tab 2.&lt;/a&gt;&lt;br /&gt; 
&lt;/p&gt; 
 
&lt;p&gt; 
Use these links to test disabling/enabling via JavaScript. Notice that you cannot disable 
    the currently selected tab.&lt;br /&gt; 
&lt;a href="" onClick="ColdFusion.Layout.enableTab('mainTab','tab1');return false;"&gt; 
    Click here to enable tab 1.&lt;/a&gt;&lt;br /&gt; 
&lt;a href="" onClick="ColdFusion.Layout.disableTab('mainTab','tab1');return false;"&gt; 
    Click here to disable tab 1.&lt;/a&gt;&lt;br /&gt; 
&lt;/p&gt; 
 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>For an example that uses a bordered layout with <samp class="codeph">cfpod</samp> children,
see the next section. For another example of a tab layout, see the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a23.html" target="_self">cflayoutarea</a> tag in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.
For an example of a bordered layout nested inside a layout area
of a vertical layout, see <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a22.html" target="_self">cflayout</a> in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>. </p>
</div><div id="WS04B67598-059D-46ba-AE5D-AA492F7F9C2D" class="nochunk"><a name="WS04B67598-059D-46ba-AE5D-AA492F7F9C2D"><!-- --></a><h4 class="topictitle4">Styling layouts</h4><div><p>The <samp class="codeph">cflayout</samp> and <samp class="codeph">cflayoutarea</samp> tags
have <samp class="codeph">style</samp> attributes. The <samp class="codeph">cflayout</samp> tag <samp class="codeph">style</samp> attribute
controls the style of the layout container, and sets default values
for many, but not all, styles for the layout areas. For example, the
color and background color styles of the <samp class="codeph">cflayout</samp> tag
set the default text and background colors in the layout areas.
But the <samp class="codeph">cflayout</samp> tag <samp class="codeph">border</samp> style sets
only the color of the border around the entire layout, not the layout
area borders. The <samp class="codeph">cflayoutarea</samp> tag <samp class="codeph">style</samp> attribute
controls the style of the individual layout area and overrides any
corresponding settings in the <samp class="codeph">cflayout</samp> tag. </p>
<p>As is often the case with complex controls, the effects of layout
and layout area styles can vary. For example, do not often specify
the <samp class="codeph">height</samp> style in the <samp class="codeph">cflayout</samp> tag;
instead, specify height styles on each of the <samp class="codeph">cflayoutarea</samp> tags.</p>
<p>The following simple example shows a tab layout with two layout
areas. The layout has a light pink background color, and the layout
areas have three pixel-wide red borders.:</p>
<pre>&lt;cflayout name="layout1" type="tab" style="background-color:##FFCCCC"&gt; 
    &lt;cflayoutarea title="area1" style="border:3px solid red"&gt; 
        Layout area 1 
    &lt;/cflayoutarea&gt; 
    &lt;cflayoutarea title="area1" style="border:3px solid red"&gt; 
        Layout area 2 
    &lt;/cflayoutarea&gt; 
&lt;/cflayout&gt;</pre>
</div></div></div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7ff6" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7ff6"><!-- --></a><h3 class="topictitle3">Using pods</h3><div><p>The <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a06.html" target="_self">cfpod</a> control creates a content region
with a title bar and surrounding border. You can define the pod
content in the <samp class="codeph">cfpod</samp> tag body, or you can use a bind
expression to dynamically get the content from a URL. Pods are frequently used
for portlets in a web portal interface and for similar displays
that are divided into independent, possibly interactive, regions.</p>
<p>You control the pod header style and body style independently
by specifying CSS style properties in the <samp class="codeph">headerStyle</samp> and <samp class="codeph">bodyStyle</samp> attributes. </p>
<p>The following example uses multiple pods inside <samp class="codeph">cflayoutarea</samp> tags
to create a simple portal. The time pod gets the current time from
a CFML page. The contents of the other pods is defined in the <samp class="codeph">cfpod</samp> bodies
for simplicity. Each pod uses the <samp class="codeph">headerStyle</samp> and <samp class="codeph">bodyStyle</samp> attributes
to control the appearance.</p>
<p>The cfpodExample.cfm application has the following code:</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
&lt;/head&gt; 
&lt;body&gt; 
&lt;cflayout name="theLayout" type="border" style="height:300;"&gt; 
    &lt;cflayoutarea position="left" size="300" style="float:right;"&gt; 
        &lt;cfpod width="300" name="theNews" title="All the latest news"  
                headerstyle="background-color:##DDAADD; font-size:large;  
                    font-style:italic; color:black"  
                bodyStyle="background-color:##FFCCFF; font-family:sans-serif; 
                    font-size:80%"&gt; 
            Contents of a news feed would go here. 
        &lt;/cfpod&gt; 
    &lt;/cflayoutarea&gt; 
    &lt;cflayoutarea position="center" align="center" &gt; 
        &lt;cfpod name="theSports" width="500"  
                title="What's new in your favorite sports"  
                headerstyle="background-color:##AADDDD; font-size:large;  
                    font-style:italic; color:black"  
                bodyStyle="background-color:##CCFFFF; font-family:sans-serif; 
                    font-size:90%"&gt; 
            Contents of a sports feed would go here. 
        &lt;/cfpod&gt; 
    &lt;/cflayoutarea&gt; 
    &lt;cflayoutarea position="right" size="302"&gt; 
        &lt;cfpod width="300" height="20" name="thetime" title="The Weather" 
                source="podweather.cfm" 
                headerstyle="background-color:##DDAADD; font-style:italic; 
                    color:black"  
                bodyStyle="background-color:##FFCCFF; font-family:sans-serif; 
                    font-size:80%" /&gt; 
        &lt;cfpod width="300" name="thestocks" title="What's new in business" 
                headerstyle="background-color:##DDAADD; font-size:large;  
                    color:black; font-style:italic"  
                bodyStyle="background-color:##FFCCFF; font-family:sans-serif; 
                    font-size:80%"&gt; 
            Contents of a news feed would go here. 
        &lt;/cfpod&gt; 
    &lt;/cflayoutarea&gt; 
     
&lt;/cflayout&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>In this example, the podweather.cfm page contains only the following
line. A more complete example would dynamically get the weather
from a feed and format it for display.</p>
<pre>Partly Cloudy, 76 degrees</pre>
</div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-6e79" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-6e79"><!-- --></a><h3 class="topictitle3">Using pop-up windows</h3><div><p>ColdFusion HTML pop-up windows
have the following characteristics:</p>
<ul><li><p>They have title bars</p>
</li>
<li><p>They float over the browser window and can be placed at an
arbitrary location over the window.</p>
</li>
<li><p>They can be modal (users cannot interact with the main window
when the pop-up window is displayed) or non-modal (users can interact
with both windows).</p>
</li>
<li><p>You can specify that the user can drag, close, or resize
the window.</p>
</li>
<li><p>You can create and show a window independently. After you
create the window, you can use JavaScript functions to show and
hide it multiple times without having to create it again.</p>
</li>
</ul>
</div><div id="WS9E605A24-E945-4e7e-9A1A-3FAFAC89B9EA" class="nochunk"><a name="WS9E605A24-E945-4e7e-9A1A-3FAFAC89B9EA"><!-- --></a><h4 class="topictitle4">Display and hide windows</h4><div><p>You display a window in the following ways:</p>
<ul><li><p>By using a ColdFusion <samp class="codeph">cfwindow</samp> tag with
an <samp class="codeph">initShow</samp> attribute value of to create and show
the window.</p>
</li>
<li><p>By using a ColdFusion <samp class="codeph">cfwindow</samp> tag with
an <samp class="codeph">initShow</samp> attribute value of <samp class="codeph">false</samp> and
calling the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fba.html" target="_self">ColdFusion.Window.show</a> JavaScript
function to display it.</p>
</li>
<li><p>By using <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fbf.html" target="_self">ColdFusion.Window.create</a> and <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fba.html" target="_self">ColdFusion.Window.show</a> JavaScript functions.</p>
</li>
</ul>
<p>You can hide a window that is currently showing by calling the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fbd.html" target="_self">ColdFusion.Window.hide</a> function.
You can use the <samp class="codeph">ColdFusion.Window.onShow</samp> and <samp class="codeph">ColdFusion.Window.onhide</samp> functions
to specify JavaScript functions to run when a window shows or hides.</p>
<p>The following example shows how you can create, display, and
hide a window. It also shows several of the configuration options
that you can set, including whether the user can close, drag, or
resize the window. When you run the application, the <samp class="codeph">cfwindow</samp> tag
creates and shows Window 1. You can then hide it and reshow it.
To show Window 2, click the Create Window 2 button, followed by
the Show Window 2 button. You can then hide and show it.</p>
<p>The following example shows the main application page:</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
&lt;script&gt;  
    &lt;!-- 
    //Configuration parameters for window 2. 
    var config = 
    {x:250,y:300,height:300,width:300,modal:false,closable:false, 
        draggable:true,resizable:true,initshow:false,minheight:200,minwidth:200 
    } 
    --&gt; 
&lt;/script&gt; 
 
&lt;/head&gt; 
&lt;body&gt; 
 
&lt;!--- Create a window with a title and show it. Don't allow dragging or resizing. ---&gt; 
&lt;cfwindow name="window1" title="CFML Window" draggable="false" 
        resizable="false" initshow="true" height="250" width="250" x=375 y=0&gt;  
    &lt;p&gt; 
    This content was defined in the cfwindow tag body. 
    &lt;/p&gt; 
&lt;/cfwindow&gt; 
 
&lt;form&gt; 
&lt;!--- Use the API to show and hide Window 1. ---&gt; 
    &lt;input type="button" value="Show Window1"  
            onClick="ColdFusion.Window.show('window1')"&gt; 
    &lt;input type="button" value="Hide Window1" 
            onClick="ColdFusion.Window.hide('window1')"&gt;&lt;br /&gt; 
 
&lt;!--- Use the API to create, show, and hide Window 2 ---&gt; 
    &lt;input type="button" value="Create Window2" 
            onClick="ColdFusion.Window.create('window2', 'JavaScript Window', 
            'window2.cfm', config)"&gt; 
    &lt;input type="button" value="Show Window2" 
            onClick="ColdFusion.Window.show('window2')"&gt; 
    &lt;input type="button" value="Hide Window2" 
        onClick="ColdFusion.Window.hide('window2')"&gt; 
&lt;/form&gt; 
 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The window2.cfm file with the contents of Window 2 has the following
contents:</p>
<pre>&lt;cfoutput&gt; 
&lt;p&gt; 
This content was loaded into window 2 from a URL.&lt;br /&gt; 
&lt;/p&gt; 
&lt;/cfoutput&gt;</pre>
</div></div><div id="WS327A1B45-C895-418a-AD69-1C843EAE5BCE" class="nochunk"><a name="WS327A1B45-C895-418a-AD69-1C843EAE5BCE"><!-- --></a><h4 class="topictitle4">Use the window show and hide events</h4><div><p>You can use the <samp class="codeph">onShow</samp> and <samp class="codeph">onHide</samp> events
that are triggered each time a window shows and hides to control
your application. To do so, call the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fbb.html" target="_self">ColdFusion.Window.onShow</a> and <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fbc.html" target="_self">ColdFusion.Window.onHide</a> functions
to specify the event handlers. Both functions take the window name
and the handler function as parameters. The event handler functions
can take a single parameter, the window name. </p>
<p>The following example displays an alert message when a window
hides or shows. The alert message includes the window name. The
alert does not show when the window first appears, because the <samp class="codeph">cfwindow</samp> tag
uses the <samp class="codeph">initShow</samp> attribute to initially display
the window. An alert message does appear when the user hides the
window by clicking the Toggle Window button or the close button
on the window.</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
    &lt;script language="javascript"&gt; 
        //Boolean value tacking the window state. 
        var shown=true; 
 
        //Functions to display an alert box when  
        function onshow(name) { 
            alert("window shown = " + name); 
        } 
        function onhide(name) { 
            alert("window hidden = " + name); 
        } 
 
        //Initialize the window show/hide behavior. 
        function initWindow() { 
            ColdFusion.Window.onShow("testWindow", onshow); 
            ColdFusion.Window.onHide("testWindow", onhide); 
        } 
 
        //Show or hide the window, depending on its current state. 
        function toggleWindow() { 
            if (shown) { 
                ColdFusion.Window.hide("testWindow"); 
                shown = false; 
            } 
            else { 
                ColdFusion.Window.show("testWindow"); 
                shown = true; 
            }             
        } 
 
    &lt;/script&gt; 
&lt;/head&gt; 
&lt;!-- The body tag onLoad event calls the window show/hide initializer function. --&gt; 
&lt;body onLoad="initWindow()"&gt; 
 
&lt;cfwindow name="testWindow" initshow=true title="test window" closable=true&gt; Window contents 
&lt;/cfwindow&gt; 
 
&lt;cfform&gt; 
    &lt;cfinput name="button" value="Toggle Window" onclick="javascript:toggleWindow()" type="button"/&gt; 
&lt;/cfform&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
</div></div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-60bd" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-60bd"><!-- --></a><h3 class="topictitle3">Control container contents</h3><div><p>ColdFusion
provides a variety of ways to set and change container tag contents:</p>
<ul><li><p>You can use bind expressions in the container tag source
(or for <samp class="codeph">cfdiv</samp>, <samp class="codeph">bind</samp>) attribute.
The container then dynamically updates any time a bound control changes.</p>
</li>
<li><p>You can call the <samp class="codeph">ColdFuson.navigate</samp> function
to change the container body to be the contents returned by a specified
URL. This function lets you specify a callback handler to do additional
processing after the new content loads, and also lets you specify
an error handler.</p>
<p>The callback handler can be useful to provide
information about a successful navigation operation. For example,
you could make a pod's title bar italic to indicate loading (just
before the navigate call), and use the callback handler to switch
it back to normal once the navigate completes. Similarly, if a pod
is showing pages from a book, the callback handler could update
a page number in a separate field once a page loads</p>
</li>
<li><p>You can use the special <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">controlName</i><samp class="codeph">_body</samp> variable
to access and change the body contents for <samp class="codeph">cfpod</samp> and <samp class="codeph">cfwindow</samp> controls.
For example, you can use the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">controlName</i><samp class="codeph">_body.innerHTML</samp> property
to set the body HTML. For <samp class="codeph">cfpod</samp> and <samp class="codeph">cfwindow</samp> tags,
you can also use the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">controlName</i><samp class="codeph">_title</samp> to
get or set the title bar contents of the control.</p>
</li>
</ul>
<p>These different techniques provide you with flexibility in writing
your code. For example, the <samp class="codeph">ColdFuson.navigate</samp> function
and the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">controlName</i><samp class="codeph">_body</samp> variable provide
similar functionality. However, with the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">controlName</i><samp class="codeph">_body</samp> technique,
you make explicit Ajax requests to get markup for the body, and
the JavaScript functions in the retrieved markup might not work
properly. <samp class="codeph">ColdFusion.navigate</samp> takes care of these
issues. Therefore, limit use of the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">controlName</i><samp class="codeph">_body</samp> technique
to simpler use cases.</p>
<p>The following example shows how you can use various techniques
to change container contents. It consists of a main page and a second
windowsource.cfm page with text that appears in a main page window
when you click a button. The main page has a <samp class="codeph">cfpod</samp> control,
two <samp class="codeph">cfwindow</samp> controls, and the following buttons:</p>
<ul><li><p>The “Simple navigate” button calls a <samp class="codeph">ColdFusion.navigate</samp> function
to change the contents of the second window.</p>
</li>
<li><p>The “Change w2 body &amp; title” button replaces the second
window’s body and title innerHTML values directly to specific strings.</p>
</li>
<li><p>The “Change pod body” button changes the pod body innerHTML
to the value of the second window’s title innerHTML.</p>
</li>
</ul>
<p>The following example shows the main page:</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
&lt;!--- Callback handler puts text in the window.cfm callback div block. ---&gt; 
&lt;script language="javascript"&gt; 
    var mycallBack = function(){ 
        document.getElementById("callback").innerHTML = "&lt;br&gt;&lt;br&gt; 
    &lt;b&gt;This is printed by the callback handler.&lt;/b&gt;"; 
    }  
 
&lt;!--- The error handler pops an alert with the error code and message. ---&gt; 
    var myerrorHandler = function(errorCode,errorMessage){ 
        alert("[In Error Handler]" + "\n\n" + "Error Code: " + errorCode + "\n\n" +  
            "Error Message: " + errorMessage); 
    }  
&lt;/script&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;cfpod height="50" width="200" title="The Title" name="theTitle"&gt; 
    This is a cfpod control. 
&lt;/cfpod&gt;&lt;br&gt; 
 
&lt;!--- Clicking the link runs a ColdFusion.navigate function that replaces the second window's 
            contents with windowsource.cfm. The callback handler then updates the window 
            contents further. ---&gt; 
&lt;cfwindow name="w1" title="CF Window 1" initShow=true  
        x=10 y=200 width="200"&gt; 
    This is a cfwindow control.&lt;br&gt;&lt;br&gt; 
    &lt;a href="javascript:ColdFusion.navigate('windowsource.cfm','w2', 
        mycallBack,myerrorHandler);"&gt;Click&lt;/a&gt; to navigate Window 2&lt;/a&gt; 
&lt;/cfwindow&gt; 
 
&lt;cfwindow name="w2" title="CF Window 2" initShow=true  
        x=250 y=200 width="200"&gt; 
    This is a second cfwindow control. 
&lt;/cfwindow&gt; 
 
&lt;cfform&gt; 
    &lt;!--- This button only replaces the second window body with the body of the  
                windowsrc.cfm page. ---&gt; 
    &lt;cfinput type="button" name="button" value="Simple navigate" 
            onClick="ColdFusion.navigate('windowsource.cfm','w2');"&gt; 
    &lt;!--- This button replaces the second window body and title content. ---&gt; 
    &lt;cfinput type="button" name="button2" value="Change w2 body &amp; title" 
            onClick="w2_body.innerHTML='New body inner HTML';w2_title.innerHTML= 
                'New Title inner HTML'"&gt; 
    &lt;!--- This button puts the second window title in the pod body. ---&gt; 
    &lt;cfinput type="button" name="button3" value="Change pod body" 
            onClick="theTitle_body.innerHTML=w2_title.innerHTML;"&gt; 
&lt;/cfform&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The following example shows the windowsource.cfm page:</p>
<pre>This is markup from "windowsource.cfm" 
&lt;!--- The callback handler puts its output in the following div block. ---&gt; 
&lt;div id="callback"&gt;&lt;/div&gt;</pre>
</div></div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec22c24-711b" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-711b"><!-- --></a><h2 class="topictitle2">Using menus and toolbars</h2><div><p>The <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSAAC0E8AF-BDE8-4578-A759-121988A1897F.html" target="_self">cfmenu</a> and <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a17.html" target="_self">cfmenuitem</a> tags let you create vertical
menus and horizontal toolbars. </p>
</div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7ff9" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7ff9"><!-- --></a><h3 class="topictitle3">Define menus and toolbars</h3><div><ul><li><p>Use a single <samp class="codeph">cfmenu</samp> tag to define
the general menu characteristics.</p>
</li>
<li><p>Create a horizontal (toolbar) menu or vertical menu by specifying
a <samp class="codeph">cfmenu</samp><samp class="codeph">type</samp> attribute value
of <samp class="codeph">horizontal</samp> or <samp class="codeph">vertical</samp>.</p>
</li>
<li><p>Menus can have submenus, but only the top menu can be horizontal.
All children of a horizontal menu are vertical.</p>
</li>
<li><p>The top-level menu shows initially, a submenu shows when
the user moves the mouse over the menu root in the parent menu.</p>
</li>
<li><p>Use <samp class="codeph">cfmenuitem</samp> tags to specify individual
menu items.</p>
</li>
<li><p>To create submenus, nest <samp class="codeph">cfmenuitem</samp> tags.
The parent tag becomes the root of the submenu.</p>
</li>
<li><p>All <samp class="codeph">cfmenuitem</samp> tags, except tags for dividers,
must have a <samp class="codeph">display</samp> attribute, which defines the
text to show on the menu item, and can optionally have an <samp class="codeph">image</samp> attribute.</p>
</li>
<li><p>A horizontal menu has dividers between all items. You place
dividers in vertical menus by specifying a <samp class="codeph">cfmenuitem</samp> tag
with a <samp class="codeph">divider</samp> attribute.</p>
</li>
<li><p>To make a menu item active, specify a <samp class="codeph">href</samp> attribute
with a URL or a JavaScript function to call when the user clicks
the menu item.</p>
</li>
</ul>
<p>The following example shows a simple horizontal menu with submenus
that uses JavaScript to change the display contents. When the user
selects an end item in a menu, the text in the <samp class="codeph">div</samp> block
below the menu shows the path to the selected menu.</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
&lt;/head&gt; 
&lt;body&gt; 
 
&lt;!--- The selected function changes the text in the selectedItemLabel div block to show the 
        selected item. ---&gt; 
&lt;script type="text/javascript"&gt; 
    function selected(item) { 
        var el = document.getElementById("selectedItemLabel"); 
        el.innerHTML = "You selected: " + item; 
    } 
&lt;/script&gt; 
 
&lt;!--- A horizontal menu with nested submenus. Clicking an end item calls the selected 
        function. ---&gt; 
&lt;cfmenu name="hmenu" bgcolor="##9999ff" selectedfontcolor="##0000dd"  
        selecteditemcolor="##ddddff"&gt; 
    &lt;cfmenuitem display="Home" href="javascript:selected('Home');" /&gt; 
    &lt;cfmenuitem display="File"&gt; 
        &lt;cfmenuitem display="Open..."&gt; 
            &lt;cfmenuitem display="Template" href="javascript:selected('File &amp;gt;  
                Open... &amp;gt; Template');" /&gt; 
            &lt;cfmenuitem divider="true" /&gt; 
            &lt;cfmenuitem display="CSS" href="javascript:selected('File &amp;gt; Open... &amp;gt; 
                CSS');" /&gt; 
        &lt;/cfmenuitem&gt; 
        &lt;cfmenuitem display="Close" href="javascript:selected('File &amp;gt; Close');" /&gt; 
    &lt;/cfmenuitem&gt; 
    &lt;cfmenuitem display="Help"&gt; 
        &lt;cfmenuitem display="About" href="javascript:selected('Help &amp;gt; About');" /&gt; 
    &lt;/cfmenuitem&gt; 
&lt;/cfmenu&gt; 
 
&lt;!--- A div with initial text. 
        The selected function changes the text by resetting the innerHTML. ---&gt; 
&lt;div style=" margin-top: 100; margin-left: 10;"&gt;&lt;span id="selectedItemLabel"&gt; 
    Please select an item!&lt;/span&gt;&lt;/div&gt; 
 
&lt;/body&gt; 
&lt;/html&gt;</pre>
</div></div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7ff8" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7ff8"><!-- --></a><h3 class="topictitle3">Styling menus</h3><div><p>The cfmenu and cfmenuitem tags have several attributes
that let you easily control the menu appearance. These attributes
consist of two types: basic and CSS style. Basic attributes, such
as the <samp class="codeph">cfmenu</samp> tag <samp class="codeph">fontColor</samp> attribute, control
individual menu characteristics. CSS style attributes let you specify
a CSS style specification for a whole menu or part of a menu. The
following information describes how the CSS style specifications
interact and affect the menu style. For descriptions of all style-related
attributes, see the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSAAC0E8AF-BDE8-4578-A759-121988A1897F.html" target="_self">cfmenu</a> and <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a17.html" target="_self">cfmenuitem</a> descriptions in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
<p>The <samp class="codeph">cfmenu</samp> and <samp class="codeph">cfmenuitem</samp> tags
provide a hierarchy of CSS style attributes that affect different
parts of the menu. The following table describes these attributes
in hierarchical order:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e79145"><p>Attribute</p>
</th>
<th valign="top" width="NaN%" id="d17e79148"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e79145 "><p><strong>cfmenu attributes</strong></p>
</td>
<td valign="top" width="NaN%" headers="d17e79148 "><p></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79145 "><p><samp class="codeph">menuStyle</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79148 "><p>Applies to the menu, including any parts
of the menu that surround the menu items. If you do not override
this style in a <samp class="codeph">cfmenu</samp> tag <samp class="codeph">childStyle</samp> attribute
or by specifying style information in the <samp class="codeph">cfmenuitem</samp> tags,
this attribute controls the style of the top-level items. </p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79145 "><p><samp class="codeph">childStyle</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79148 "><p>Applies to the items in the top level menu
and all child menu items, including the children of submenus. This
attribute lets you use a single style specification for all menu
items.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79145 "><p><strong>cfmenuitem attributes</strong></p>
</td>
<td valign="top" width="NaN%" headers="d17e79148 "><p></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79145 "><p><samp class="codeph">style</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79148 "><p>Applies to the current menu item only. It
is not overridden by the <samp class="codeph">childStyle</samp>attribute. </p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79145 "><p><samp class="codeph">menuStyle</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79148 "><p>Controls the overall style of any submenu
of this menu item. This attribute controls the submenu of the current
menu item, but not to any child submenus of the submenu.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79145 "><p><samp class="codeph">childStyle </samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79148 "><p>Applies to all child menu items of the current
menu item, including the children of submenus.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>In addition to these styles, consider any style-related attributes,
such as <samp class="codeph">bgcolor</samp>, that you set on the <samp class="codeph">cfmenu</samp> tag. </p>
<p>When you design your menu, keep in mind the following issues:</p>
<ul><li><p>Keep font sizes at 20 pixels or smaller. Larger sizes
can result in menu text in vertical menus exceeding the menu boundaries.</p>
</li>
<li><p>Consider how the style attributes interact. Because each
menu and submenu consists of a surrounding menu area and individual
child items, be careful when you choose background colors. For example,
if you specify different <samp class="codeph">background-color</samp> styles
in the <samp class="codeph">cfmenu</samp> tag’s <samp class="codeph">menuStyle</samp> and <samp class="codeph">childStyle</samp> attributes,
the menu items are one color and the surrounding menu area are a
different color.</p>
</li>
</ul>
<p>For an application that shows some of the effects of menu style
attributes, see the example in the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7a17.html" target="_self">cfmenuitem</a> tag in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
<p>ColdFusion attributes provide most style options that you are
likely to require. However, you can, if necessary, modify the basic
menu styles for all menus by editing the menu-related styles in
the CSS files in the yui.css file. This file is located by default
in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">web_root</i>/CFID/scripts/ajax/resources/yui directory.
For more information about these styles, see the <a href="http://developer.yahoo.com/yui/menu/" target="_self">Yahoo!
User Interface Library menu documentation</a>.</p>
</div></div></div>
<div id="WSe9cbe5cf462523a0fe521c212308a43ca3-8000" class="nochunk"><a name="WSe9cbe5cf462523a0fe521c212308a43ca3-8000"><!-- --></a><h2 class="topictitle2">Uploading files</h2><div><p>The <samp class="codeph">cffileupload</samp> tag lets you select multiple
files and upload them to a server. </p>
</div><div id="WSe9cbe5cf462523a0fe521c212308a43ca3-7fff" class="nochunk"><a name="WSe9cbe5cf462523a0fe521c212308a43ca3-7fff"><!-- --></a><h3 class="topictitle3">Working with the cffileupload</h3><div><div class="para">The <samp class="codeph">cffileupload</samp> tag displays a dialog
that lets you upload multiple files. The following are the file
upload features: <ul><li><p>Uses callback and error handlers that
lets provides control over file upload process after upload completion
or if errors occur.</p>
</li>
<li><p>Lets you style the file upload control</p>
</li>
<li><p>Provides option to stop or continue with upload in case of
errors</p>
</li>
<li><p>Provides option to send custom response to callback and error
handlers</p>
</li>
</ul>
</div>
</div><div id="WSe9cbe5cf462523a0fe521c212308a43ca3-7ffe" class="nochunk"><a name="WSe9cbe5cf462523a0fe521c212308a43ca3-7ffe"><!-- --></a><h4 class="topictitle4">Sending custom response to the callback and error handlers</h4><div><p>The page/URL that handles the upload operation on the server
can send back a <samp class="codeph">struct</samp> with the keys status and
message as shown here:</p>
<div class="para"><pre>&lt;cffile action = "upload" 
destination = "#Expandpath('./upload')#" 
nameconflict="makeunique"&gt; 
&lt;cfset str.STATUS = 200&gt; 
&lt;cfset str.MESSAGE = "File Upload Successful"&gt;        &lt;cfoutput&gt;#serializeJSON(str)#&lt;/cfoutput&gt;</pre>
</div>
<p>The following example illustrates the error handler:</p>
<pre>&lt;cftry&gt; 
&lt;cffile action = "upload" 
destination = "#Expandpath('./upload')#"&gt; 
&lt;cfcatch type="any"&gt; 
&lt;cfset str.STATUS = 500&gt; 
&lt;cfset str.MESSAGE = "Error occurred while uploading the file"&gt;            &lt;cfoutput&gt;#serializeJSON(str)#&lt;/cfoutput&gt; 
&lt;/cfcatch&gt; 
&lt;/cftry&gt;</pre>
<p>If the user tries to upload a file already present in the upload
directory, it results in an error. The status and message are set
to the specifications in the catch block.</p>
</div></div><div id="WSe9cbe5cf462523a0fe521c212308a43ca3-7ffd" class="nochunk"><a name="WSe9cbe5cf462523a0fe521c212308a43ca3-7ffd"><!-- --></a><h4 class="topictitle4">Using styles</h4><div><p>The attributes <samp class="codeph">headercolor</samp>, <samp class="codeph">textcolor</samp>, <samp class="codeph">bgcolor</samp>, <samp class="codeph">titletextalign</samp>, <samp class="codeph">titletextcolor</samp>,
and <samp class="codeph">rollovercolor</samp> lets you style the file upload control. </p>
<p>The following example illustrates the styling of file upload
control:</p>
<div class="para"><pre>&lt;cffileupload 
          url="uploadAll.cfm" 
          name="myuploader3" 
          align="right" 
    style="headercolor:silver;textcolor:1569C7;titletextalign:right;titletextcolor:black;bgcolor:74BBFB;"/&gt;</pre>
</div>
<p>The following code shows how the attribute <samp class="codeph">onUploadComplete</samp> is
used:</p>
<div class="para"><pre>&lt;!--- upload.cfm ---&gt; 
&lt;!--- &lt;cffile action = "upload" destination = "#Expandpath('./upload')#" nameconflict="makeunique"&gt; ---&gt; 
&lt;script language="javascript"&gt; 
    var uploadCompleteHandler = function(obj){ 
        var result = "Upload Details:" + "\n\n"; 
        for(var i=0;i &lt; obj.length; i++){ 
            result = result + "FILENAME: " + obj[i].FILENAME + "\n" + "STATUS: " + obj[i].STATUS + "\n" + "MESSAGE: " + obj[i].MESSAGE + "\n\n"; 
        } 
    } 
&lt;/script&gt; 
&lt;br&gt; 
&lt;cffileupload 
    url="uploadall.cfm" 
    name="myuploader" 
    onUploadComplete="uploadCompleteHandler" 
    maxUploadSize=100 
    stopOnError=false 
    /&gt;</pre>
</div>
</div></div></div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec22c24-7a11" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7a11"><!-- --></a><h2 class="topictitle2">Using Ajax form controls and features</h2><div><p>ColdFusion HTML forms and controls provide the following
Ajax-based features:</p>
<ul><li><p>The <samp class="codeph">cfgrid</samp>, <samp class="codeph">cfinput</samp>, <samp class="codeph">cfselect</samp>, <samp class="codeph">cftextarea</samp>,
and <samp class="codeph">cftree</samp> controls support binding to get control
contents.</p>
</li>
<li><p>ColdFusion functions support asynchronous submission of forms
without refreshing the entire page. When a form is in an Ajax container
control, it is done automatically. Also, the <samp class="codeph">ColdFusion.Ajax.SubmitForm</samp> JavaScript function
and Ajax proxy <samp class="codeph">setForm</samp> function support manual
asynchronous submissions.</p>
</li>
<li><p>The <samp class="codeph">cfgrid</samp> and <samp class="codeph">cftree</samp> tags
provide HTML grids and trees that do not require a Java applet or
Flash. </p>
</li>
<li><p>The <samp class="codeph">cftextarea</samp> control has a rich text editor
option. The text editor is configurable.</p>
</li>
<li><p>The <samp class="codeph">cfinput</samp> tag supports a <samp class="codeph">datefield</samp> type
with an Ajax-based pop-up calendar from which user can select the
date.</p>
</li>
<li><p>The <samp class="codeph">cfinput</samp> tag with <samp class="codeph">text</samp> type
supports an <samp class="codeph">autosuggest</samp> attribute that lets you
dynamically supply a drop-down list of field completions based on
the current user input.</p>
</li>
<li><p>The <samp class="codeph">cfinput</samp>, <samp class="codeph">cfselect</samp>,
and <samp class="codeph">cftextarea</samp> tags support a <samp class="codeph">tooltip</samp> attribute
that specifies a pop-up tool tip to display when the user moves
the mouse over the control. The <samp class="codeph">cftooltip</samp> tag displays
a tool over any region of a page, not just a form control.</p>
</li>
</ul>
</div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-8000" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-8000"><!-- --></a><h3 class="topictitle3">Using Ajax form controls</h3><div><p>ColdFusion Ajax-based form controls let you submit Ajax
forms in your applications without refreshing the entire page.</p>
<div class="note"><span class="notetitle">Note:  </span>When you use Ajax to submit forms asynchronously
from the page, you cannot use <samp class="codeph">cfinput</samp> or <samp class="codeph">input</samp> tags
to upload files.</div>
</div><div id="WSE835E10F-A672-434f-A76A-9BD6D64FEB9D" class="nochunk"><a name="WSE835E10F-A672-434f-A76A-9BD6D64FEB9D"><!-- --></a><h4 class="topictitle4">Using Ajax containers for form submission</h4><div><p>The ColdFusion Ajax container tags, <samp class="codeph">cfdiv</samp>, <samp class="codeph">cflayoutarea</samp>, <samp class="codeph">cfpod</samp>,
and <samp class="codeph">cfwindow</samp>, automatically submit any forms that
they contain asynchronously. When the form is submitted, the result
returned by the action page replaces the contents of the container,
but has no effect on the rest of the page. </p>
<p>The following example shows this behavior in the submitSimple.cfm
page:</p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;/head&gt; 
&lt;body&gt; 
&lt;cflayout type="vbox" name="layout1"&gt; 
    &lt;cflayoutarea&gt; 
        &lt;h3&gt;This area is not refreshed when the form is submitted.&lt;/h3&gt; 
        &lt;br /&gt; 
    &lt;/cflayoutarea&gt; 
 
    &lt;cflayoutarea&gt; 
        &lt;h3&gt;This form is replaced by the action page&lt;/h3&gt; 
        &lt;cfform name="myform" format="html" action="showName.cfm"&gt; 
            &lt;cfinput type = "Text" name = "name"&gt;  
             &lt;cfinput type = "submit" name = "submit" value = "Enter name"&gt; 
        &lt;/cfform&gt;  
    &lt;/cflayoutarea&gt; 
&lt;/cflayout&gt; 
 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>In the following example, when you enter a name in the text input
and click the Enter name button, the entered text replaces the form
on the page, but the rest of the page is not refreshed. This example
shows the showName.cfm action page:</p>
<pre>&lt;cfif IsDefined("Form.name")&gt; 
    &lt;cfoutput&gt;The Name is : &lt;strong&gt;#Form.name#&lt;/strong&gt;&lt;/cfoutput&gt;  
&lt;/cfif&gt; </pre>
</div></div><div id="WSAB82D475-38F4-48a7-B1D3-DDB4E6049DB2" class="nochunk"><a name="WSAB82D475-38F4-48a7-B1D3-DDB4E6049DB2"><!-- --></a><h4 class="topictitle4">Using the cfajaxproxy SetForm function</h4><div><p>The <samp class="codeph">SetForm</samp> function of the proxy object
created by the <samp class="codeph">cfajaxproxy</samp> tag causes the proxy
to pass the form values as arguments to the next CFC function that
you call after the <samp class="codeph">SetForm</samp> function. This way,
you can pass the current values of fields in a form to a CFC function,
which can then do the necessary processing and return a result. </p>
<p>When you use the <samp class="codeph">SetForm</samp> function, the following
rules apply to the arguments in the called CFC function:</p>
<ul><li><p>The function does not need to specify the form fields
in <samp class="codeph">cfargument</samp> tags, and the function gets the field
values passed by name.</p>
</li>
<li><p>Form fields that have the same names as CFC arguments override
the CFC argument values.</p>
</li>
<li><p>If you do not specify form fields in the <samp class="codeph">cfargument</samp> tags,
they do not necessarily follow any declared arguments, when you
use positional (array) notation to access them in the <samp class="codeph">arguments</samp> structure. </p>
</li>
<li><p>The <samp class="codeph">arguments</samp> scope in the CFC function
includes two fields that ColdFusion uses to control its behavior.
These fields are intended for internal use, and their names might
change in future releases. Both field values are set to <samp class="codeph">true</samp>: </p>
<ul><li><p><samp class="codeph">_CF_NODEBUG</samp> tells ColdFusion not to return
debugging output in the call response.</p>
</li>
<li><p><samp class="codeph">_CF_NOCACHE</samp> tells ColdFusion to send a no
cache header on the response, which prevents the browser from caching
the response and ensures that every Ajax request results in a network
call.</p>
</li>
</ul>
</li>
</ul>
<p>The following example shows how to use the <samp class="codeph">SetForm</samp> tag
to submit the contents of a login form. When the user clicks the
Login! button, the doLogin function calls the proxy <samp class="codeph">setForm</samp> function
and then the <samp class="codeph">AuthenticationSystem.cfc validateCredentials</samp> method.
The <samp class="codeph">validateCredentials</samp> method checks the password
of the user and if it is valid, returns <samp class="codeph">true</samp> to
the proxy. Because the proxy is synchronous (the default), the <samp class="codeph">doLogin</samp> method
gets the returned value. If the value is <samp class="codeph">true</samp>,
it hides the login window; the user can then access the page contents.
If the return value is <samp class="codeph">false</samp>, the <samp class="codeph">doLogin</samp> function
displays a message in the login window title bar.</p>
<p>The following example shows the setForm.cfm application:</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
        &lt;script type="text/javascript"&gt; 
            function doLogin() { 
                // Create the Ajax proxy instance. 
                var auth = new AuthenticationSystem(); 
 
                // setForm() implicitly passes the form fields to the CFC function. 
                auth.setForm("loginForm"); 
                //Call the CFC validateCredentials function. 
                if (auth.validateCredentials()) { 
                    ColdFusion.Window.hide("loginWindow"); 
                } else { 
                    var msg = document.getElementById("loginWindow_title"); 
                    msg.innerHTML = "Incorrect username/password. Please try again!"; 
                } 
            } 
        &lt;/script&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;cfajaxproxy cfc="AuthenticationSystem" /&gt; 
 
&lt;cfif structKeyExists(URL,"logout") and URL.logout&gt; 
    &lt;cflogout /&gt; 
&lt;/cfif&gt; 
 
&lt;cflogin&gt; 
    &lt;cfwindow name="loginWindow" center="true" closable="false" 
                draggable="false" modal="true"  
                title="Please login to use this system" 
                initshow="true" width="400" height="200"&gt; 
        &lt;!--- Notice that the form does not have a submit button. 
            Submit action is performed by the doLogin function. ---&gt; 
        &lt;cfform name="loginForm" format="xml"&gt; 
            &lt;cfinput type="text" name="username" label="username" /&gt;&lt;br /&gt; 
            &lt;cfinput type="password" name="password" label="password" /&gt; 
            &lt;cfinput type="button" name="login" value="Login!" onclick="doLogin();" /&gt; 
        &lt;/cfform&gt; 
    &lt;/cfwindow&gt; 
&lt;/cflogin&gt; 
 
&lt;p&gt; 
This page is secured by login.  
You can see the window containing the login form. 
The window is modal; so the page cannot be accessed until you log in. 
&lt;ul&gt; 
    &lt;li&gt;&lt;a href="setForm.cfm"&gt;Continue using the application&lt;/a&gt;!&lt;/li&gt; 
    &lt;li&gt;&lt;a href="setForm.cfm?logout=true"&gt;Logout&lt;/a&gt;!&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/p&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The following example shows the AuthenticationSystem.cfc file:</p>
<pre>&lt;cfcomponent output="false"&gt; 
 
    &lt;cffunction name="validateCredentials" access="remote" returntype="boolean" 
            output="false"&gt; 
        &lt;cfargument name="username" type="string"/&gt; 
        &lt;cfargument name="password" type="string"/&gt; 
 
        &lt;cfset var validated = false/&gt; 
        &lt;!--- Ensure that attempts to authenticate start with new credentials. ---&gt; 
        &lt;cflogout/&gt; 
                 
        &lt;cflogin&gt; 
            &lt;cfif arguments.username is "user" and arguments.password is "secret"&gt; 
                &lt;cfloginuser name="#arguments.username#" 
                        password="#arguments.password#" roles="admin"/&gt; 
                &lt;cfset validated = true/&gt; 
            &lt;/cfif&gt; 
        &lt;/cflogin&gt; 
 
        &lt;cfreturn validated/&gt; 
    &lt;/cffunction&gt; 
&lt;/cfcomponent&gt;</pre>
</div></div><div id="WS71B55A73-D08F-47c7-B062-0543793B83A5" class="nochunk"><a name="WS71B55A73-D08F-47c7-B062-0543793B83A5"><!-- --></a><h4 class="topictitle4">Using the ColdFusion.Ajax.submitForm function</h4><div><p>You can use the <samp class="codeph">ColdFusion.Ajax.submitForm</samp> function
to submit form contents to a CFML page (or other active page) at
any time. For example, you could use this function to automatically
save a partially completed form. This function does not support
uploading a file attachment to the form.</p>
<p>When you use this function, you pass it the name of the form
to submit and the URL of the page that processes the form. You can
also specify the following optional parameters:</p>
<ul><li><p>A callback function that handles the returned results</p>
</li>
<li><p>An error handler that takes two parameters, an HTTP error
code and a message</p>
</li>
<li><p>The HTTP method (by default, <samp class="codeph">POST</samp>)</p>
</li>
<li><p>Whether to submit the form asynchronously (by default, <samp class="codeph">true</samp>)</p>
</li>
</ul>
<p>The following proof of concept example uses the <samp class="codeph">ColdFusion.Ajax.submitForm</samp> function
to submit two form fields to an asyncFormHandler.cfm page, which
simply echoes the form values. The callback handler displays an
alert with the returned information.</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
&lt;!--- The cfajaximport tag is required for the submitForm function to work 
            because the page does not have any Ajax-based tags. ---&gt; 
&lt;cfajaximport&gt; 
 
&lt;script&gt; 
    function submitForm() { 
        ColdFusion.Ajax.submitForm('myform', 'asyncFormHandler.cfm', callback, 
            errorHandler); 
    } 
     
    function callback(text) 
    { 
        alert("Callback: " + text); 
    } 
     
    function errorHandler(code, msg) 
    { 
        alert("Error!!! " + code + ": " + msg); 
    } 
&lt;/script&gt; 
 
&lt;/head&gt; 
&lt;body&gt; 
 
&lt;cfform name="myform"&gt; 
    &lt;cfinput name="mytext1"&gt;&lt;br /&gt; 
    &lt;cfinput name="mytext2"&gt; 
&lt;/cfform&gt; 
 
&lt;a href="javascript:submitForm()"&gt;Submit form&lt;/a&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The asynchFormHandler.cfm page consists of a single line, as
follows:</p>
<pre>&lt;cfoutput&gt;Echo: #form.mytext1# #form.mytext2#&lt;/cfoutput&gt;</pre>
</div></div><div id="WS0A006368-3994-4eaf-9D87-46A51D281721" class="nochunk"><a name="WS0A006368-3994-4eaf-9D87-46A51D281721"><!-- --></a><h4 class="topictitle4">Using the ColdFusion.navigate function to submit a form</h4><div><p>The <samp class="codeph">ColdFusion.navigate</samp> JavaScript function
can submit a form to a URL and have the returned output appear in
a specified container control, such as a <samp class="codeph">cfdiv</samp>, <samp class="codeph">cflayout</samp>, <samp class="codeph">cfpod</samp>,
or <samp class="codeph">cfwindow</samp> tag. This function lets you populate a
control other than the one that contains the form when the user
submits the data. You can also use the function to submit the form
asynchronously when a user performs an action outside the form,
such as clicking a menu item.</p>
<p>For an example that uses this function, see the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fd0.html" target="_self">ColdFusion.navigate</a> function
in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-72e0" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-72e0"><!-- --></a><h3 class="topictitle3">Using HTML grids</h3><div><p>The ColdFusion HTML <samp class="codeph">cfgrid</samp> control
lets you use a bind expression to dynamically populate the grid.
HTML grids that use bind expressions are paged; as users navigate
from page to page of the grid, the grid dynamically gets the data
for only the required page from the data source. You also use bind
expressions when you let users edit form contents, and other ColdFusion
controls can bind to the grid. Also, HTML grids provide several
JavaScript functions that you can use to manage and manipulate the
grids.</p>
<p>You can also create a static HTML grid by specifying a <samp class="codeph">cfgrid</samp> tag
that does not use a bind expression. With static grids, all data
is initially available.</p>
<p>In HTML mode, if you move the mouse over a column heading, a
down arrow button appears. Clicking the button displays a list with
the following options:</p>
<div class="para"><ul><li><p>Sort the grid in ascending or descending order based
on the column’s content. </p>
</li>
<li><p>Select the columns to display. </p>
</li>
<li><p>If the grid has a <samp class="codeph">groupfield</samp> attribute:
turn grouping off and on and group by the column value.</p>
</li>
</ul>
</div>
<p>If you specify <samp class="codeph">selectMode="edit" </samp>for an HTML
grid, the grid displays Insert, Save, Cancel, and Delete buttons
to the bottom bar. The Insert button opens a new editable row. The
Save button commits any changes to the bind source. The Cancel button
rolls back any changes that have not been saved. The Delete button
deletes a selected row. You need not press the Save button after
clicking the Delete button.</p>
</div><div id="WSF7E64317-462A-4674-A8CE-9E3880BCD129" class="nochunk"><a name="WSF7E64317-462A-4674-A8CE-9E3880BCD129"><!-- --></a><h4 class="topictitle4">Dynamically filling form data</h4><div><p>HTML grids can dynamically fill the grid data by using
a <samp class="codeph">bind</samp> attribute with a bind expression that calls
a CFC or JavaScript function, or a URL. The bind expression uses
bind parameters to specify dynamic information provided by the grid
and the values of any other form field attributes. </p>
<p>Pass the following bind parameters to the bind expression. If
you omit any of the parameters in the function call or URL, you
get an error. These parameters send information about the grid and
its state to the data provider function. The data for these parameters
is provided automatically. You do not set any values manually.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e79721"><p>Parameter name</p>
</th>
<th valign="top" width="NaN%" id="d17e79724"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e79721 "><p><samp class="codeph">cfgridpage</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79724 "><p>The number of the page for which to retrieve
data.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79721 "><p><samp class="codeph">cfgridpagesize</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79724 "><p>The number of rows of data in the page.
The value of this parameter is the value of the <samp class="codeph">pageSize</samp> attribute.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79721 "><p><samp class="codeph">cfgridsortcolumn</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79724 "><p>The name of the column that determines the
sorting order of the grid. This value is set only after the user clicks
a column heading.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79721 "><p><samp class="codeph">cfgridsortdirection</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e79724 "><p>The direction of the sort, may be 'ASC'
(ascending) or 'DESC' (descending). This value is set only after
the user clicks a column heading.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><span class="notetitle">Note:  </span>The <samp class="codeph">cfgridsortcolumn</samp> and <samp class="codeph">cfgridsortdirection</samp> parameters can
be empty if the user or application has not sorted the grid, for
example, by clicking a grid column header.</div>
<p>For more information on binding and bind parameters, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7a27.html">Using Ajax Data and Development Features</a> in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>. </p>
<p>You can use optional parameters to specify additional information
to pass to the called function. These parameters provide data that
the called function requires to determine the data to return. For
example, if the function returns the cities in a state, you would
pass it the state name. Any or all of the optional function parameters
can be bind parameters. A state name, for example, could come from the
selection in a states <samp class="codeph">cfselect</samp> control.</p>
<p>If you do not want the grid to refresh automatically when other
controls change, you can use the <samp class="codeph">@none</samp> specifier
on all optional bind parameters. Doing this, prevents automatic
updating of the grid based on the bound control values. Use the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7ff6.html" target="_self">ColdFusion.Grid.refresh</a> JavaScript
function to explicitly refresh the grid contents. For more information
on the use of the <samp class="codeph">@none</samp> specifier and explicitly refreshing
the control, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7a03.html">Specifying bind parameters</a>.</p>
<p>If the grid supports user sorting of the data (the <samp class="codeph">sort</samp> attribute
is <samp class="codeph">true</samp>), the function called by the bind expression
must return data in the desired sorted order, and must use the values
of the <samp class="codeph">cfgridsortcolumn</samp> and <samp class="codeph">cfgridsortdirection</samp> bind
parameters to determine the order. Even if you do not allow user
sorting, still pass these parameters to the function; otherwise, you
get an error. Also, your function or action page must handle cases
where these parameters are empty strings, because their values are
not set until the user selects a column header to sort the grid,
or you call the JavaScript <samp class="codeph">ColdFusion.Grid.sort</samp> function.</p>
<p>The format of the returned data depends on how you get the data:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e79823"><p>Bind type</p>
</th>
<th valign="top" width="NaN%" id="d17e79826"><p>Return value</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e79823 "><p>CFC</p>
</td>
<td valign="top" width="NaN%" headers="d17e79826 "><p>A ColdFusion structure. ColdFusion automatically
converts the structure for return to the caller. Alternatively,
you can return a JSON representation of the structure.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79823 "><p>URL</p>
</td>
<td valign="top" width="NaN%" headers="d17e79826 "><p>A JSON representation of a structure. No
other body contents is allowed.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e79823 "><p>JavaScript</p>
</td>
<td valign="top" width="NaN%" headers="d17e79826 "><p>A JavaScript object.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>When you specify a CFC in the <samp class="codeph">bind</samp> attribute,
use the <samp class="codeph">queryConvertForGrid</samp> function to convert
a query directly into a structure that you can use as your CFC return
value. </p>
<p>When you specify a CFML page in the <samp class="codeph">bind</samp> attribute,
use the <samp class="codeph">queryConvertForGrid</samp> function to convert
a query into a structure, and then use the <samp class="codeph">serializeJSON</samp> function
to convert the structure into a JSON representation.</p>
<p>If you manually create a JavaScript object or its JSON representation,
it must have two top-level keys:</p>
<ul><li><p><samp class="codeph">TOTALROWCOUNT</samp>: The total number of rows
in the query data set being returned. This value is the total number
of rows of data in all pages in the grid, and not the number of
rows in the current page.</p>
</li>
<li><p><samp class="codeph">QUERY</samp>: The contents of the query being returned<samp class="codeph">. </samp>The <samp class="codeph">QUERY</samp> value
must also be an object with two keys:</p>
<ul><li><p><samp class="codeph">COLUMNS</samp>:
An array of the column names.</p>
</li>
<li><p><samp class="codeph">DATA</samp>: A two-dimensional array, where the
first dimension corresponds to the rows and the second dimension
corresponds to the field values, in the same order as the <samp class="codeph">COLUMNS</samp> array.</p>
</li>
</ul>
</li>
</ul>
<div class="note"><span class="notetitle">Note:  </span>If a CFC manually creates a return structure,
the <samp class="codeph">QUERY</samp> value can be a ColdFusion query object;
ColdFusion automatically converts it for remote access.</div>
<p>The following example defines an object that a JavaScript bind
function can return to provide the data for a <samp class="codeph">cfgrid</samp> tag:</p>
<pre>var myobject = 
    {"TOTALROWCOUNT":6,"QUERY":{"COLUMNS":["EMP_ID","FIRSTNAME", 
        "EMAIL"],"DATA":[[1,"Carolynn","CPETERSON"], 
        [2,"Dave","FHEARTSDALE"], [3,"Linda","LSTEWART"], 
        [4,"Aaron","ASMITH"], [5,"Peter","PBARKEN"], 
        [6,"Linda","LJENNINGS"],]}};</pre>
<p>The following example uses a bind expression and a CFC to populate
a dynamic, paged, data grid. The CFML page contains the following
form:</p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;cfform name="form01"&gt; 
    &lt;cfgrid format="html" name="grid01" pagesize=5 sort=true 
            bind="cfc:places.getData({cfgridpage},{cfgridpagesize}, 
            {cfgridsortcolumn},{cfgridsortdirection})"&gt; 
        &lt;cfgridcolumn name="Emp_ID" display=true header="eid" /&gt; 
        &lt;cfgridcolumn name="FirstName" display=true header="Name"/&gt; 
        &lt;cfgridcolumn name="Email" display=true header="Email" /&gt;  
    &lt;/cfgrid&gt; 
&lt;/cfform&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The places.cfc file looks as follows. Notice that the query gets
the full data set each time the function gets called. the <samp class="codeph">QueryConvertForGrid</samp> function selects
and returns only the required page of data:</p>
<pre>&lt;cfcomponent&gt; 
    &lt;cffunction name="getData" access="remote" output="false"&gt; 
        &lt;cfargument name="page"&gt; 
        &lt;cfargument name="pageSize"&gt; 
        &lt;cfargument name="gridsortcolumn"&gt; 
        &lt;cfargument name="gridsortdirection"&gt; 
        &lt;cfquery name="team" datasource="cfdocexamples"&gt;  
            SELECT Emp_ID, FirstName, EMail  
            FROM Employees 
            &lt;cfif gridsortcolumn neq "" or gridsortdirection neq ""&gt;  
                order by #gridsortcolumn# #gridsortdirection# 
            &lt;/cfif&gt;  
        &lt;/cfquery&gt;  
        &lt;cfreturn QueryConvertForGrid(team, page, pageSize)&gt; 
    &lt;/cffunction&gt; 
&lt;/cfcomponent&gt;</pre>
<p>The following example is equivalent to the previous one, but
uses a URL bind expression in the main page and a CFML page to return
the data.</p>
<p>The main page contains the following form:</p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;cfform name="form01"&gt; 
    &lt;cfgrid format="html" name="grid01" pagesize=5 sort=true 
        bind="url:getdata.cfm?page={cfgridpage}&amp;pageSize={cfgridpagesize} 
            &amp;sortCol={cfgridsortcolumn}&amp;sortDir={cfgridsortdirection}"&gt; 
        &lt;cfgridcolumn name="Emp_ID" display=true header="eid" /&gt; 
        &lt;cfgridcolumn name="FirstName" display=true header="Name"/&gt; 
        &lt;cfgridcolumn name="Email" display=true header="Email" /&gt;  
    &lt;/cfgrid&gt; 
&lt;/cfform&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The following example shows the getdata.cfm page:</p>
<pre>&lt;!--- Empty string; the default end of the query SQL. ---&gt; 
&lt;cfset queryEnd=""&gt; 
 
&lt;cfquery name="team" datasource="cfdocexamples"&gt; 
    SELECT Emp_ID, FirstName, EMail 
    FROM Employees 
    &lt;cfif sortcol neq "" or sortdir neq ""&gt;  
        order by #sortcol# #sortdir# 
    &lt;/cfif&gt;  
&lt;/cfquery&gt; 
 
&lt;!--- Format the query so that the bind expression can use it. ---&gt; 
&lt;cfoutput&gt;#serializeJSON(QueryConvertForGrid(team, page, pageSize))# 
&lt;/cfoutput&gt;</pre>
<p>If your database lets you specify SQL to retrieve only the required
page of data in a query, you can optimize efficiency by using such
a query. Do not use the QueryConvertForGrid function. Instead, manually
create the return structure and return only the single page of data.
Ensure that you set the TotalRowCount field to the number of rows
in the entire data set, not the number of rows in the returned page
of data.</p>
</div></div><div id="WSADC8D8AB-E8D9-4db3-89D0-63A806C09488" class="nochunk"><a name="WSADC8D8AB-E8D9-4db3-89D0-63A806C09488"><!-- --></a><h4 class="topictitle4">Using the bindOnLoad attribute</h4><div><p>The <samp class="codeph">bindOnLoad</samp> attribute causes a control
to execute its bind expression immediately when it loads, and not
wait until the event that normally triggers the bind expression
evaluation to occur. This way, the control can be filled with an initial
value. This attribute is <samp class="codeph">false</samp> by default for all
ColdFusion Ajax controls that have the attribute, except <samp class="codeph">cfdiv</samp> and <samp class="codeph">cfgrid</samp>,
for which it is <samp class="codeph">true</samp> by default<samp class="codeph">.</samp> Having
a <samp class="codeph">true</samp><samp class="codeph">bindOnLoad</samp> value on these
controls ensures that they are populated when they load.</p>
<p>When a control with a <samp class="codeph">true</samp><samp class="codeph">bindOnLoad</samp> attribute
is bound to a control that also binds when the page loads, the first
and second control load themselves at the <samp class="codeph">onLoad</samp> page
event. Then the first control loads itself again in response to
a change event from the second control when that control completes
loading. So, the first control makes two Ajax calls, whereas it
must make only one, when the second control finished loading. </p>
<p>Because the <samp class="codeph">cfinput</samp>, <samp class="codeph">cfselect</samp>,
and <samp class="codeph">cftextarea</samp> control <samp class="codeph">bindOnLoad</samp> attributes
are <samp class="codeph">false</samp> by default, you do not encounter any
problems if a <samp class="codeph">cfgrid</samp> or <samp class="codeph">cfdiv</samp> tag
binds to any of these controls and you do not explicitly set the <samp class="codeph">bindOnLoad</samp> attributes.
However, if the control does set its <samp class="codeph">bindOnLoad</samp> attribute
to <samp class="codeph">true</samp>, set the <samp class="codeph">cfgrid</samp> or <samp class="codeph">cfdiv</samp> attribute
to <samp class="codeph">false</samp> to ensure that the control only fetches
data when the control that it is bound to returns.</p>
<p>You can also get a double loading if a grid binds to a Spry data
set. By default, the grid and data set load data at page load, and
then the grid loads data again in response to a selection change
event from the data set when it sets focus to its first row. Set <samp class="codeph">bindOnLoad </samp>to <samp class="codeph">false</samp> to
ensure that the grid fetches data only when it receives a selection <samp class="codeph">change</samp> event
from the data set.</p>
</div></div><div id="WS33143779-A04B-4912-8585-547A1DA1BD00" class="nochunk"><a name="WS33143779-A04B-4912-8585-547A1DA1BD00"><!-- --></a><h4 class="topictitle4">Dynamically editing grid contents</h4><div><p>When you use a bind expression to get <samp class="codeph">cfgrid</samp> data
dynamically, you can also update the data source dynamically with
user input, without requiring the user to submit the form. You can
use dynamic updating to update or delete data in the data source.
(To edit <samp class="codeph">cfgrid</samp> data, select the contents of a
field and type the new value; to delete a row, select a field in
the row and click the delete button at the bottom of the grid.) </p>
<p>You <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">cannot</i> insert new rows directly in a grid that uses
a bind expression. To add rows, enter the data in a form, and make
sure that the grid refreshes after the form has been submitted.</p>
<p>To update or delete data dynamically, do the following:</p>
<ul><li><p>Specify <samp class="codeph">selectmode="edit"</samp> in the <samp class="codeph">cfgrid</samp> tag.
This lets the user edit the grid. </p>
</li>
<li><p>Specify an <samp class="codeph">onChange</samp> attribute in the <samp class="codeph">cfgrid</samp> tag.
The attribute must use a bind expression to specify a CFC method,
JavaScript function, or URL of a page that updates the data source.
The bind expression has the same format as the bind expression described
in <a href="WSF7E64317-462A-4674-A8CE-9E3880BCD129.html">Dynamically filling form data</a>; however, it must take the following bind
parameters that the grid automatically passes. These parameters
send information about the grid and its state to the <samp class="codeph">onChange</samp> function.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e80088"><p>Parameter name</p>
</th>
<th valign="top" width="NaN%" id="d17e80091"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e80088 "><p><samp class="codeph">cfgridaction</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80091 "><p>The action performed on the grid. 'U' for
update, or 'D' for delete.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e80088 "><p><samp class="codeph">cfgridrow</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80091 "><p>A structure or JavaScript Object whose keys
are the column names and values are the original values of the updated
or deleted row.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e80088 "><p><samp class="codeph">cfgridchanged</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80091 "><p>A structure or JavaScript Object with a
single entry, whose key is the name of the column with the changed
value, and whose value is the new value of the field. If the grid
action is delete, this structure exists but is empty.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
<p>When you update data dynamically, you can also use the <samp class="codeph">onError</samp> attribute
to specify the name of a JavaScript function to handle any errors
that result in a CFC or URL returning an HTTP error status. The
method must take two parameters: the HTTP error code and a text
message that describes the error. The following example shows an <samp class="codeph">onError</samp> handler
function:</p>
<pre>&lt;script type="text/javascript"&gt; 
    function errorhandler(id,message) { 
        alert("Error while updating \n Error code: "+id+" \nMessage: 
        "+message);} 
&lt;/script&gt;</pre>
<p>The following <samp class="codeph">example </samp>displays the members of
a department and lets users edit the data in the fields. When the
focus leaves the edited field an onChange event triggers and the
form calls the <samp class="codeph">editData</samp> CFC function to update
the data source. </p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;script type="text/javascript"&gt; 
    function errorhandler(id,message) { 
        alert("Error while updating\n Error code: "+id+"\n Message: "+message); 
    } 
&lt;/script&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;cfform name="form01"&gt; 
    &lt;cfgrid format="html" name="grid01" pagesize=11  
            stripeRows=true stripeRowColor="gray" 
            bind="cfc:places.getData({cfgridpage},{cfgridpagesize}, 
                {cfgridsortcolumn},{cfgridsortdirection})"  
            delete="yes" selectmode="edit" 
            onchange="cfc:places.editData({cfgridaction},{cfgridrow},{cfgridchanged})"&gt; 
        &lt;cfgridcolumn name="Emp_ID" display=true header="Employee ID"/&gt; 
        &lt;cfgridcolumn name="FirstName" display=true header="Name"/&gt;  
        &lt;cfgridcolumn name="Email" display=true header="Email"/&gt;  
    &lt;/cfgrid&gt; 
&lt;/cfform&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The <samp class="codeph">getData</samp> function is identical to the <samp class="codeph">getData</samp> function
in <a href="WSF7E64317-462A-4674-A8CE-9E3880BCD129.html">Dynamically filling form data</a>. This example shows the <samp class="codeph">editData</samp> function
in the CFC:</p>
<pre>&lt;cffunction name="editData" access="remote" output="false"&gt; 
    &lt;cfargument name="gridaction"&gt; 
    &lt;cfargument name="gridrow"&gt; 
    &lt;cfargument name="gridchanged"&gt; 
     
    &lt;cfif isStruct(gridrow) and isStruct(gridchanged)&gt; 
        &lt;cfif gridaction eq "U"&gt; 
            &lt;cfset colname=structkeylist(gridchanged)&gt; 
            &lt;cfset value=structfind(gridchanged,#colname#)&gt; 
            &lt;cfquery name="team" datasource="cfdocexamples"&gt;  
                update employees set &lt;cfoutput&gt;#colname#&lt;/cfoutput&gt; =  
                    '&lt;cfoutput&gt;#value#&lt;/cfoutput&gt;' 
                where Emp_ID = &lt;cfoutput&gt;#gridrow.Emp_ID#&lt;/cfoutput&gt; 
            &lt;/cfquery&gt; 
        &lt;cfelse&gt; 
            &lt;cfquery name="team" datasource="cfdocexamples"&gt;  
                delete from employees where emp_id = &lt;cfoutput&gt;#gridrow.Emp_ID# 
                    &lt;/cfoutput&gt; 
            &lt;/cfquery&gt;  
        &lt;/cfif&gt; 
    &lt;/cfif&gt; 
&lt;/cffunction&gt;</pre>
</div></div><div id="WS31EB714C-D9CC-4627-8140-B66A5C77448A" class="nochunk"><a name="WS31EB714C-D9CC-4627-8140-B66A5C77448A"><!-- --></a><h4 class="topictitle4">Binding controls to grid contents</h4><div><p>You can bind the contents of a form control to the data
in a grid field by specifying a bind parameter as the form control <samp class="codeph">bind</samp> attribute
value. To do so, use the following syntax:</p>
<pre>&lt;cfinput name="name" type="text" bind="{gridName.columnName}"&gt;</pre>
<p>By default, each time the selected row in the grid changes, the
bind parameter is re-evaluated, and the control value changes to
the value of the specified column of selected grid cell.</p>
</div></div><div id="WS5F4F9407-4864-4685-85DC-37CBE78FDA9F" class="nochunk"><a name="WS5F4F9407-4864-4685-85DC-37CBE78FDA9F"><!-- --></a><h4 class="topictitle4">Grid JavaScript functions</h4><div><p>You can use the following JavaScript functions to manage
an HTML format grid:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e80184"><p>Function</p>
</th>
<th valign="top" width="NaN%" id="d17e80187"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e80184 "><p><samp class="codeph">ColdFusion.Grid.getGridObject</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80187 "><p>Gets the underlying Ext JS JavaScript library
object.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e80184 "><p><samp class="codeph">ColdFusion.Grid.refresh</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80187 "><p>Manually refreshes a displayed grid.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e80184 "><p><samp class="codeph">ColdFusion.Grid.sort</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80187 "><p>Sorts the grid.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>For more information, see the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7ff7.html" target="_self">ColdFusion.Grid.getGridObject</a>, <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7ff6.html" target="_self">ColdFusion.Grid.refresh</a>,
and <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7ff5.html" target="_self">ColdFusion.Grid.sort</a> functions
in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div><div id="WSe9cbe5cf462523a0-6ada7e31123088f2cf8-8000" class="nochunk"><a name="WSe9cbe5cf462523a0-6ada7e31123088f2cf8-8000"><!-- --></a><h4 class="topictitle4">Using the Boolean column and grouping</h4><div><p>The example in this section shows how to use the Boolean
column. The code also illustrates how to group data in a grid on
a selected grid column.</p>
<p>This example uses all types of Boolean representations. For grouping, <samp class="codeph">groupField</samp> is
set to active and the grid data is grouped accordingly. </p>
<div class="para"><pre>&lt;cfset emps = querynew("firstname,department, salary,active")&gt; 
&lt;cfset queryaddrow(emps,10)&gt; 
&lt;cfset querysetcell(emps,"firstname","Debra",1)&gt; 
&lt;cfset querysetcell(emps,"department","Accounting",1)&gt; 
&lt;cfset querysetcell(emps,"salary","100000",1)&gt; 
&lt;cfset querysetcell(emps,"active","Y",1)&gt; 
&lt;cfset querysetcell(emps,"firstname","Doherty",2)&gt; 
&lt;cfset querysetcell(emps,"department","Finance",2)&gt; 
&lt;cfset querysetcell(emps,"salary","120000",2)&gt; 
&lt;cfset querysetcell(emps,"active","Yes",2)&gt; 
&lt;cfset querysetcell(emps,"firstname","Ben",3)&gt; 
&lt;cfset querysetcell(emps,"department","Law",3)&gt; 
&lt;cfset querysetcell(emps,"salary","200000",3)&gt; 
&lt;cfset querysetcell(emps,"active","true",3)&gt; 
&lt;cfset querysetcell(emps,"firstname","Aaron",4)&gt; 
&lt;cfset querysetcell(emps,"department","Accounting",4)&gt; 
&lt;cfset querysetcell(emps,"salary","200000",4)&gt; 
&lt;cfset querysetcell(emps,"active","1",4)&gt; 
&lt;cfset querysetcell(emps,"firstname","Josh",5)&gt; 
&lt;cfset querysetcell(emps,"department","CF",5)&gt; 
&lt;cfset querysetcell(emps,"salary","400000",5)&gt; 
&lt;cfset querysetcell(emps,"active",true,5)&gt; 
&lt;cfset querysetcell(emps,"firstname","Peterson",6)&gt; 
&lt;cfset querysetcell(emps,"department","Accounting",6)&gt; 
&lt;cfset querysetcell(emps,"salary","150000",6)&gt; 
&lt;cfset querysetcell(emps,"active","0",6)&gt; 
&lt;cfset querysetcell(emps,"firstname","Damon",7)&gt; 
&lt;cfset querysetcell(emps,"department","Finance",7)&gt; 
&lt;cfset querysetcell(emps,"salary","100000",7)&gt; 
&lt;cfset querysetcell(emps,"active","N",7)&gt; 
&lt;cfset querysetcell(emps,"firstname","Tom",8)&gt; 
&lt;cfset querysetcell(emps,"department","CF",8)&gt; 
&lt;cfset querysetcell(emps,"salary","100000",8)&gt; 
&lt;cfset querysetcell(emps,"active","false",8)&gt; 
&lt;cfset querysetcell(emps,"firstname","Adam",9)&gt; 
&lt;cfset querysetcell(emps,"department","CF",9)&gt; 
&lt;cfset querysetcell(emps,"salary","300000",9)&gt; 
&lt;cfset querysetcell(emps,"active",false,9)&gt; 
&lt;cfset querysetcell(emps,"firstname","Sean",10)&gt; 
&lt;cfset querysetcell(emps,"department","CF",10)&gt; 
&lt;cfset querysetcell(emps,"salary","250000",10)&gt; 
&lt;cfset querysetcell(emps,"active","No",10)&gt; 
&lt;cfform name="form01"&gt; 
    &lt;cfgrid format="html"  insert="yes" insertButton="Add Row" 
        name="grid01" 
        selectmode="edit" 
        width=600 
        collapsible="true" 
        title="Employees" 
        autowidth="yes" 
        query="emps" 
        sort="yes" 
        groupField="active"&gt; 
            &lt;cfgridcolumn name="FirstName" header="FirstName"/&gt; 
            &lt;cfgridcolumn name="Department" header="Department" /&gt; 
            &lt;cfgridcolumn name="Salary" display=true header="Salary" type="numeric" values="1000000,1200000" valuesdisplay="1000000,1200000"/&gt; 
            &lt;cfgridcolumn name="Active"  display=true header="Contract" type="boolean" /&gt; 
    &lt;/cfgrid&gt; 
&lt;/cfform&gt;</pre>
</div>
</div></div><div id="WSe9cbe5cf462523a0-6ada7e31123088f2cf8-7fff" class="nochunk"><a name="WSe9cbe5cf462523a0-6ada7e31123088f2cf8-7fff"><!-- --></a><h4 class="topictitle4">Using the date column</h4><div><p>The following example shows how to use the date column.
In the code, <samp class="codeph">startdatecolumn</samp> is of type <samp class="codeph">date</samp>.
A <samp class="codeph">mask,</samp><samp class="codeph">Y/m/d</samp> is used. <samp class="codeph">Y</samp> is
year in four digits, <samp class="codeph">m</samp> months with leading zero,
and <samp class="codeph">d</samp> the days with leading zero.</p>
<div class="para"><pre>&lt;!--- using cfgridcolum type="date" ---&gt; 
&lt;cfset emps = querynew("firstname,department, salary,startdate")&gt; 
&lt;cfset queryaddrow(emps,3)&gt; 
&lt;cfset querysetcell(emps,"firstname","Debra",1)&gt; 
&lt;cfset querysetcell(emps,"department","Accounting",1)&gt; 
&lt;cfset querysetcell(emps,"salary","100000",1)&gt; 
&lt;cfset querysetcell(emps,"startdate","2009/1/1",1)&gt; 
&lt;cfset querysetcell(emps,"firstname","Doherty",2)&gt; 
&lt;cfset querysetcell(emps,"department","Finance",2)&gt; 
&lt;cfset querysetcell(emps,"salary","120000",2)&gt; 
&lt;cfset querysetcell(emps,"startdate","2005/2/21",2)&gt; 
&lt;cfset querysetcell(emps,"firstname","Ben",3)&gt; 
&lt;cfset querysetcell(emps,"department","Law",3)&gt; 
&lt;cfset querysetcell(emps,"salary","200000",3)&gt; 
&lt;cfset querysetcell(emps,"startdate","2008/03/03",3)&gt; 
&lt;cfform name="form01"&gt; 
    &lt;cfgrid format="html"  insert="yes" insertButton="Add Row" 
        name="grid01" 
        selectmode="edit" 
        width=600 
        collapsible="true" 
        title="Employees" 
        autowidth="yes" 
        query="emps" 
        sort="yes" 
        groupField="department"&gt; 
            &lt;cfgridcolumn name="FirstName" header="FirstName"/&gt; 
            &lt;cfgridcolumn name="Department" header="Department" /&gt; 
            &lt;cfgridcolumn name="Salary" display=true header="Salary" type="numeric" values="1000000,1200000" valuesdisplay="1000000,1200000"/&gt; 
            &lt;cfgridcolumn name="StartDate"  display=true header="StartDate" type="date" mask="Y/m/d"/&gt; 
    &lt;/cfgrid&gt; 
&lt;/cfform&gt;</pre>
</div>
<p>For details of various types of masks that can be used, see the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference Guide</i>.</p>
</div></div><div id="WSd160b5fdf5100e8f881078e12a378c89b9-8000" class="nochunk"><a name="WSd160b5fdf5100e8f881078e12a378c89b9-8000"><!-- --></a><h4 class="topictitle4">Datehandling when the attribute mask is used in ColdFusion 9.0.1</h4><div><p>If the attribute <samp class="codeph">mask</samp> is applied to a
datefield column in an HTML grid, ColdFusion converts the date to
an intermediate format as shown here:</p>
<p><samp class="codeph">MMMMM, dd yyyy HH:mms</samp></p>
<p>for example,</p>
<p><samp class="codeph">January, 19 2005 07:35:42</samp></p>
<p>This is required for proper date conversion and is applicable
both when data is sent to the server (for example, when using an
onChange grid event) and when data is received from the server (for
example, populating a date field in a grid). Therefore, in some
cases, users might have to format the date if they are updating a
date column in the database. </p>
<div class="para"><div class="note"><span class="notetitle">Note:  </span>Date values which are NULL are sent as empty strings when
the form is submitted. In such cases, set the value to NULL explicitly
while updating the date column in the database.</div>
</div>
</div></div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-6f14" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-6f14"><!-- --></a><h3 class="topictitle3">Using HTML trees</h3><div><p>An HTML <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7d84.html" target="_self">cftree</a> tag creates an Ajax-based tree
data representation that you can populate from a query or a bind
expression. The behavior with a query is equivalent to the behavior
of applet or Flash trees. Bind expressions let you populate the
tree based on the values of other controls or Spry data sets. Also,
when you use a bind expression, the tree loads dynamically, getting
only the data required for the current display. </p>
</div><div id="WS903B1B5E-3E2A-417f-B837-8C228847918A" class="nochunk"><a name="WS903B1B5E-3E2A-417f-B837-8C228847918A"><!-- --></a><h4 class="topictitle4">Populating the tree using a bind expression</h4><div><p>You use the <samp class="codeph">bind</samp> attribute and bind expressions
to dynamically and incrementally load and display tree data as the
user navigates the tree. The child tree items do not exist until
the parent node expands. This behavior avoids prefilling a tree with
large amounts of data. It lets the tree children change dynamically
(you can optionally get the children each time the item expands)
and can enhance application responsiveness.</p>
<p>For more information about binding and bind parameters, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7a0a.html">Binding data to form fields</a>.</p>
<p>Bind expressions in trees work in the following ways:</p>
<ul><li><p>If you use a bind expression, the <samp class="codeph">cftree</samp> tag
can have only a single <samp class="codeph">cftreeitem</samp> tag. Therefore,
the function or URL called by the bind expression must be able to
populate all levels of the tree.</p>
</li>
<li><p>When a tree item expands, the CFC or JavaScript function
or active page specified by the <samp class="codeph">bind</samp> attribute
returns an array with the values for the child nodes of the item.
The dynamic tree code on the client constructs the child items by
using these values. </p>
</li>
<li><p>When a control to which the tree is bound generates an event
that the tree is listening for, the tree is refreshed. For example,
if the tree uses a bind expression that includes a select box as
a bind parameter, the tree collapses to the root nodes when the
selected value in the select box changes. </p>
</li>
</ul>
<p>When you use a bind expression to populate a <samp class="codeph">cftree</samp> control,
specify a CFC function, JavaScript function, or URL, and pass the
following bind parameters. If you omit either of the parameters
from your function call or URL, you get an error. These parameters
provide information about the tree and its state, and are automatically
provided by the control.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e80365"><p>Bind parameter</p>
</th>
<th valign="top" width="NaN%" id="d17e80368"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e80365 "><p><samp class="codeph">{cftreeitempath} </samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80368 "><p>Passes the path of the current (parent)
node to the method, which uses it to generate the next node.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e80365 "><p><samp class="codeph">{cftreeitemvalue}</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80368 "><p>Passes the current tree item value (normally
the <samp class="codeph">value</samp> attribute) </p>
</td>
</tr>
</tbody>
</table>
</div>
<p>The called function or URL cannot return nested arrays and structures,
that is, it can only return a single level of items.</p>
<p>When a function or URL is first called to populate the root-level
tree items, the value passed in the cftreeitemvalue variable is
the empty string. Your bind function can test for an empty string
to determine that it is populating the root level of the tree.</p>
<p>The <samp class="codeph">@none</samp> event specifier is also useful if
you use the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fc0.html" target="_self">ColdFusion.Tree.refresh</a> JavaScript
function to manually refresh the tree. When you call the <samp class="codeph">Refresh</samp> function,
the bind expression fetches data from all bind parameters, including <samp class="codeph">@none</samp> parameters.
If you specify <samp class="codeph">@none</samp> in all bind parameters that
specify other controls, the tree does not respond automatically
to changes in the other controls, but it does pick up data from
the bind parameters when you use the <samp class="codeph">ColdFusion.Tree.Referesh</samp> function
to explicitly refresh the tree.</p>
<p>The format of the data that the function or URL in a bind expression
must return depends on the type of bind expression</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e80424"><p>Bind type</p>
</th>
<th valign="top" width="NaN%" id="d17e80427"><p>Return value</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e80424 "><p>CFC</p>
</td>
<td valign="top" width="NaN%" headers="d17e80427 "><p>A ColdFusion array of structures. ColdFusion
automatically converts the structure to JSON format when it returns
the result to the caller. Alternatively, you can return a JSON representation
of the structure.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e80424 "><p>JavaScript</p>
</td>
<td valign="top" width="NaN%" headers="d17e80427 "><p>A JavaScript Array of Objects.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e80424 "><p>URL</p>
</td>
<td valign="top" width="NaN%" headers="d17e80427 "><p>A JSON representation of an array of structures.
No other body content is allowed.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Each structure in the array of structures or objects defines
the contents and appearance of the node for a child item. Each structure
must have a VALUE field, and can have the following fields. Except
for LEAFNODE, these structure keys correspond to <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7d83.html" target="_self">cftreeitem</a> attributes.</p>
<ul><li><p>DISPLAY</p>
</li>
<li><p>EXPAND</p>
</li>
<li><p>HREF</p>
</li>
<li><p>IMG</p>
</li>
<li><p>IMGOPEN</p>
</li>
<li><p>LEAFNODE</p>
</li>
<li><p>TARGET</p>
</li>
</ul>
<div class="note"><span class="notetitle">Note:  </span>If a CFC does not return a value field, you
do not get an error, but the tree does not work properly.</div>
<p>The LEAFNODE structure element is only used in the bind response
structures. It must be a Boolean value that identifies whether the
node is a leaf. If the value is <samp class="codeph">true</samp>, the tree
does not show a +/- expansion indicator in front of the node, and users
cannot expand the node.</p>
<p>If your bind expression specifies a JavaScript function, the
function must use all-uppercase letters for the field names; for
example, use <samp class="codeph">VALUE</samp> and <samp class="codeph">DISPLAY</samp>,
not <samp class="codeph">value</samp> and <samp class="codeph">display</samp>. ColdFusion
uses all capital letters in the structure key names. ColdFusion
is not case-sensitive, so CFCs can use lowercase letters for the field
names; JavaScript is case-sensitive, so the JavaScript function
must match the uppercase field names.</p>
<p>If you use a URL to get the tree items from a CFML page, you
can use the <samp class="codeph">serializeJSON</samp> function to convert the
array to JSON format. If the array with the tree items is named
itemsArray, for example, the following line specifies the page output:</p>
<pre>&lt;cfoutput&gt;#serializeJSON(itemsArray)#&lt;/cfoutput&gt;</pre>
</div></div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7fdb" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7fdb"><!-- --></a><h4 class="topictitle4">Example 1: a simple tree</h4><div><p>The following simple example creates a simple hierarchical
tree of unlimited depth, with one node per level. Each node label
(specified by the <samp class="codeph">display</samp> attribute) identifies
the node depth:</p>
<p>The following example shows the CFML page:</p>
<pre>&lt;cfform name="testform"&gt; 
    &lt;cftree name="t1" format="html"&gt; 
        &lt;cftreeitem bind="cfc:makeTree.getNodes({cftreeitemvalue},{cftreeitempath})"&gt; 
    &lt;/cftree&gt; 
&lt;/cfform&gt;</pre>
<p>The following example shows the maketree.cfc file with the <samp class="codeph">getNodes</samp> method that
is called when the user expands a node:</p>
<pre>&lt;cfcomponent&gt; 
    &lt;cffunction name="getNodes" returnType="array" output="no" access="remote"&gt; 
        &lt;cfargument name="nodeitemid" required="true"&gt; 
        &lt;cfargument name="nodeitempath" required="true"&gt; 
        &lt;!--- The initial value of the top level is the empty string. ---&gt; 
        &lt;cfif nodeitemid IS ""&gt; 
            &lt;cfset nodeitemid =0&gt; 
        &lt;/cfif&gt; 
        &lt;!--- Create an array with one element defining the child node. ---&gt; 
        &lt;cfset nodeArray = ArrayNew(1)&gt; 
        &lt;cfset element1 = StructNew()&gt; 
        &lt;cfset element1.value = nodeitemid + 1&gt; 
        &lt;cfset element1.display = "Node #nodeitemid#"&gt; 
        &lt;cfset nodeArray[1] = element1&gt; 
        &lt;cfreturn nodeArray&gt; 
    &lt;/cffunction&gt; 
&lt;/cfcomponent&gt;</pre>
</div><div id="WSDC94C31C-45BA-48d7-9BAE-D0C5E73C26A8" class="nochunk"><a name="WSDC94C31C-45BA-48d7-9BAE-D0C5E73C26A8"><!-- --></a><h5 class="topictitle5">Handling leaf nodes</h5><div><p>Code that returns the information for leaf nodes of the
trees must always set the LEAFNODE structure field to <samp class="codeph">true</samp>.
This prevents the tree from displaying a + expansion indicator in
the tree leaf node tree entries and from attempting to expand the
node. The following example shows how you use the LEAFNODE field.</p>
</div></div></div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7fdd" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7fdd"><!-- --></a><h4 class="topictitle4">Example 2: a more complex tree with leaf node handling</h4><div><p>The following tree uses the cfartgallery database to populate
a tree where the top level is the art medium, the second level is
the artist, and the leaf nodes are individual works of art. When
the user clicks an artwork, the application shows the art image.</p>
<p>This example shows how to generate return values that are specific
to the level in the tree and the parent value. It also shows the
use of the LEAFNODE return structure element. </p>
<p>In this application, the CFC return structure keys are specified
in lowercase letters, and ColdFusion automatically converts them
to uppercase. Notice that the database contains entries only for
the painting, sculpture, and photography categories, so just those
top-level tree nodes have child nodes.</p>
<p>The following example shows the main application page:</p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;!--- The loadimage function displays the image of the selected art. 
        It is called when the user clicks the image item. ---&gt; 
&lt;script&gt; 
    function loadImage(img) { 
        var imgURL = '&lt;img src="/cfdocs/images/artgallery/'+img+'"&gt;'; 
        var imgDiv = document.getElementById('image'); 
            imgDiv.innerHTML = imgURL; 
    } 
&lt;/script&gt; 
 
&lt;/head&gt; 
&lt;body&gt; 
 
&lt;!--- The form uses a table to place the tree and the image. ---&gt; 
&lt;cfform name="ex1" action="ex1.cfm" method="post"&gt; 
    &lt;table&gt; 
        &lt;tr valign="top"&gt; 
            &lt;td&gt; 
                &lt;cftree name="mytree" format="html"&gt; 
                    &lt;!--- When you use a bind expression, you must have only one 
                            cftreeitem, which populates the tree level. ---&gt; 
                    &lt;cftreeitem bind="cfc:tree.getItems({cftreeitempath}, 
                        {cftreeitemvalue})"&gt; 
                &lt;/cftree&gt; 
            &lt;/td&gt; 
            &lt;td&gt; 
                &lt;div id="image"&gt;&lt;/div&gt; 
            &lt;/td&gt; 
        &lt;/tr&gt; 
    &lt;/table&gt; 
&lt;/cfform&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The following example shows the tree.cfc file:</p>
<pre>&lt;cfcomponent output="false"&gt; 
 
&lt;cfset variables.dsn = "cfartgallery"&gt; 
 
&lt;!--- Function to populate the current level of the tree. ---&gt; 
&lt;cffunction name="getItems" returnType="array" output="false" access="remote"&gt; 
    &lt;cfargument name="path" type="string" required="false" default=""&gt; 
    &lt;cfargument name="value" type="string" required="false" default=""&gt; 
    &lt;cfset var result = arrayNew(1)&gt; 
    &lt;cfset var q = ""&gt; 
    &lt;cfset var s = ""&gt; 
     
    &lt;!--- The cfif statements determine the tree level. ---&gt; 
    &lt;!--- If there is no value argument, the tree is empty. Get the media types. ---&gt; 
    &lt;cfif arguments.value is ""&gt; 
        &lt;cfquery name="q" datasource="#variables.dsn#"&gt; 
        SELECT mediaid, mediatype 
        FROM media 
        &lt;/cfquery&gt; 
        &lt;cfloop query="q"&gt; 
            &lt;cfset s = structNew()&gt; 
            &lt;cfset s.value = mediaid&gt; 
            &lt;cfset s.display = mediatype&gt; 
            &lt;cfset arrayAppend(result, s)&gt;         
        &lt;/cfloop&gt; 
 
    &lt;!--- If the value argument has one list entry, it is a media type. Get the artists for 
            the media type.---&gt; 
    &lt;cfelseif listLen(arguments.value) is 1&gt; 
        &lt;cfquery name="q" datasource="#variables.dsn#"&gt; 
        SELECT artists.lastname, artists.firstname, artists.artistid 
        FROM art, artists 
        WHERE art.mediaid = &lt;cfqueryparam cfsqltype="cf_sql_integer" 
                value="#arguments.value#"&gt; 
        AND art.artistid = artists.artistid  
        GROUP BY artists.artistid, artists.lastname, artists.firstname 
        &lt;/cfquery&gt; 
        &lt;cfloop query="q"&gt; 
            &lt;cfset s = structNew()&gt; 
            &lt;cfset s.value = arguments.value &amp; "," &amp; artistid&gt; 
            &lt;cfset s.display = firstName &amp; " " &amp; lastname&gt; 
            &lt;cfset arrayAppend(result, s)&gt;         
        &lt;/cfloop&gt; 
     
    &lt;!--- We only get here when populating an artist's works. ---&gt; 
    &lt;cfelse&gt; 
        &lt;cfquery name="q" datasource="#variables.dsn#"&gt; 
        SELECT art.artid, art.artname, art.price, art.description, 
                art.largeimage, artists.lastname, artists.firstname 
        FROM art, artists 
        WHERE art.mediaid = &lt;cfqueryparam cfsqltype="cf_sql_integer" 
                value="#listFirst(arguments.value)#"&gt; 
        AND art.artistid = artists.artistid  
        AND artists.artistid = &lt;cfqueryparam cfsqltype="cf_sql_integer"  
                value="#listLast(arguments.value)#"&gt; 
        &lt;/cfquery&gt; 
        &lt;cfloop query="q"&gt; 
            &lt;cfset s = structNew()&gt; 
            &lt;cfset s.value = arguments.value &amp; "," &amp; artid&gt; 
            &lt;cfset s.display = artname &amp; " (" &amp; dollarFormat(price) &amp; ")"&gt; 
            &lt;cfset s.href = "javaScript:loadImage('#largeimage#');"&gt; 
            &lt;cfset s.children=arrayNew(1)&gt; 
            &lt;!--- leafnode=true prevents node expansion and further calls to the 
                bind expression. ---&gt; 
            &lt;cfset s.leafnode=true&gt; 
            &lt;cfset arrayAppend(result, s)&gt;         
        &lt;/cfloop&gt; 
         
    &lt;/cfif&gt; 
         
    &lt;cfreturn result&gt; 
&lt;/cffunction&gt; 
 
&lt;/cfcomponent&gt;</pre>
</div><div id="WSA976FD14-E052-4693-AE94-34B61135C829" class="nochunk"><a name="WSA976FD14-E052-4693-AE94-34B61135C829"><!-- --></a><h5 class="topictitle5">Binding other controls to a tree</h5><div><p>ColdFusion tags that use bind expressions can bind to the
selected node of a tree by using the following formats:</p>
<ul><li><p>{[<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">form</i>:]<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">tree</i>.node} retrieves the value
of the selected tree node.</p>
</li>
<li><p>{[<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">form</i>:]<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">tree</i>.path} retrieves the path of the
selected tree node. If the <samp class="codeph">completePath</samp> attribute
value is <samp class="codeph">true</samp>, the bound path includes the root node.</p>
</li>
</ul>
<p>The bind expression is evaluated each time a <samp class="codeph">select</samp> event
occurs on an item in the tree. If you specify any other event in
the bind parameter, it is ignored.</p>
</div></div><div id="WS14AAD3BE-F7B2-4b69-9076-106AD58AA159" class="nochunk"><a name="WS14AAD3BE-F7B2-4b69-9076-106AD58AA159"><!-- --></a><h5 class="topictitle5">Tree JavaScript functions</h5><div><p>You can use the following JavaScript functions to manage
an HTML tree:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e80613"><p>Function</p>
</th>
<th valign="top" width="NaN%" id="d17e80616"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e80613 "><p><samp class="codeph">ColdFusion.Tree.getTreeObject</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80616 "><p>Gets the underlying Yahoo User Interface
Library TreeView JavaScript object.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e80613 "><p><samp class="codeph">ColdFusion.Tree.refresh</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e80616 "><p>Manually refreshes a tree.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>For more information, see the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fc1.html" target="_self">ColdFusion.Tree.getTreeObject</a> and <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WS0ef8c004658c1089-6262c847120f1a3b244-7fc0.html" target="_self">ColdFusion.Tree.refresh</a> functions
in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div></div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-6f1b" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-6f1b"><!-- --></a><h3 class="topictitle3">Using the rich text editor</h3><div><p>The ColdFusion rich text editor
lets users enter and format rich HTML text by using an icon-driven
interface based on the open source FCKeditor Ajax widget. The editor
includes numerous formatting controls, and icons for such standard operations
as searching, printing, and previewing text. Text editor controls
are not covered. For detailed information on the editor icons and
controls, see <a href="http://wiki.fckeditor.net/UsersGuide" target="_self">http://wiki.fckeditor.net/UsersGuide</a>.</p>
<div class="note"><span class="notetitle">Note:  </span>Do not bind to a rich text area on load of a
page, for example, from another control, such as a text box.</div>
<p>The following example shows a simple rich text editor. When a
user enters text and clicks the Enter button, the application refreshes
and displays the formatted text above the editor region.</p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;!--- Display the text if the form has been submitted with text. ---&gt; 
&lt;cfif isdefined("form.text01") AND (form.text01 NEQ "")&gt; 
    &lt;cfoutput&gt;#form.text01#&lt;/cfoutput&gt;&lt;br /&gt; 
&lt;/cfif&gt; 
 
&lt;!--- A form with a basic rich text editor and a submit button. ---&gt; 
&lt;cfform name="form01" &gt; 
    &lt;cftextarea richtext=true name="text01" /&gt; 
    &lt;cfinput type="submit" value="Enter" name="submit01"/&gt; 
&lt;/cfform&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<div class="note"><span class="notetitle">Note:  </span>If you use the rich text editor in your pages,
you cannot configure your web server to have ColdFusion process
files with the .html or .htm extensions. The default HTML processor
must handle pages with these extensions.</div>
</div><div id="WS319B7FB6-2D37-4d90-9BB4-0A6B02BA5B8C" class="nochunk"><a name="WS319B7FB6-2D37-4d90-9BB4-0A6B02BA5B8C"><!-- --></a><h4 class="topictitle4">Configuring the rich text editor</h4><div><p>You can customize the rich text editor in many ways. The <samp class="codeph">cftextarea</samp> attributes
support some basic customization techniques. For more detailed information,
see the <a href="http://wiki.fckeditor.net" target="_self">FCKEditor
website</a> at http://wiki.fckeditor.net/.</p>
</div></div><div id="WSB6F9E82D-96A8-4f45-B7F8-C0EB58895BBA" class="nochunk"><a name="WSB6F9E82D-96A8-4f45-B7F8-C0EB58895BBA"><!-- --></a><h4 class="topictitle4">Defining custom toolbars</h4><div><p>You can use the following techniques to control the appearance
of the toolbar:</p>
<ul><li><p>Specify the toolbar name in the <samp class="codeph">toolbar</samp> attribute</p>
</li>
<li><p>Create custom toolbars in the fckconfig.js file.</p>
</li>
</ul>
<p>The editor has a single toolbar consisting of a set of active
icons and fields, and separators. The <samp class="codeph">toolbar</samp> attribute
lets you select the toolbar configuration. The attribute value specifies
the name of a toolbar set, which you define in a FCKConfig.ToolbarSets
entry in the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">cf_webRoot</i>/CFIDE/scripts/ajax/FCKEditor/fckconfig.js
file. </p>
<p>The rich text editor comes configured with two toolbar sets:
the Default set, which contains all supported editing controls,
and a minimal Basic set. By default, the editor uses the Default
set. To create a custom toolbar named BasicText with only text-editing
controls, create the following entry in the fckconfig.js file, and specify <samp class="codeph">toolbar="BasicText</samp>"
in the <samp class="codeph">textarea</samp> tag.</p>
<pre>FCKConfig.ToolbarSets["BasicText"] = [ 
        ['Source','DocProps','-','NewPage','Preview'], 
        ['Cut','Copy','Paste','PasteText','PasteWord','-','Print','SpellCheck'], 
        ['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'], 
        ['Bold','Italic','Underline'], 
        ['Outdent','Indent'], 
        ['JustifyLeft','JustifyCenter','JustifyRight','JustifyFull'], 
        '/', 
        ['Style','FontFormat','FontName','FontSize'], 
        ['TextColor','BGColor'], 
        ['FitWindow','-','About'] 
    ];</pre>
<p>This configuration defines a toolbar with two rows that contain
a subset of the full tool set designed to support basic text editing.</p>
<p>Follow these rules when you define a toolbar:</p>
<ul><li><p>Start the definition with FCKConfig.ToolbarSets.</p>
</li>
<li><p>Specify the toolbar name in double quotation marks and brackets
([""]). Use this name, case correct, in the <samp class="codeph">cftextarea</samp> tag <samp class="codeph">toolbar</samp> attribute.</p>
</li>
<li><p>Follow the toolbar name with an equal sign (=).</p>
</li>
<li><p>Place all the toolbar controls inside a set of brackets,
and follow the definition with a semicolon (;).</p>
</li>
<li><p>Group controls in brackets.</p>
</li>
<li><p>Place each entry in single quotation marks (') and separate
the entries with commas (,).</p>
</li>
<li><p>Use the hyphen (-) character to specify a separator.</p>
</li>
<li><p>Use a forward slash (/) character to start a new row.</p>
</li>
</ul>
<p>For a complete list of the valid toolbar entries, see the <samp class="codeph">Default</samp> configuration
in fckconfig.js.</p>
</div></div><div id="WS5C5851EE-8DE8-4dad-B5AB-3A121E2C44C7" class="nochunk"><a name="WS5C5851EE-8DE8-4dad-B5AB-3A121E2C44C7"><!-- --></a><h4 class="topictitle4">Defining custom styles</h4><div><p>You can add custom styles that users choose in the Styles
selector and apply to selected text. To create a custom style, add
a <samp class="codeph">Style</samp> element to /CFIDE/scripts/ajax/FCKEditor/fckstyles.xml.
The <samp class="codeph">Style</samp> XML element has the following format:</p>
<ul><li><p>The <samp class="codeph">name</samp> attribute specifies the name
that appears in the Style selector.</p>
</li>
<li><p>The <samp class="codeph">element</samp> attribute specifies the HTML
element that surrounds the text.</p>
</li>
<li><p>Each <samp class="codeph">Attribute</samp> child element defines the <samp class="codeph">name</samp> and <samp class="codeph">value</samp> of
an attribute of the HTML tag. </p>
</li>
</ul>
<p>For example, the following definition creates a style that makes
the selected text bold and underlined:</p>
<pre>&lt;Style name="Custom Bold And Underline " element="span"&gt; 
    &lt;Attribute name="style" value="font-weight: bold; text-decoration: underline;"/&gt; 
&lt;/Style&gt;</pre>
<p>If you use a custom XML file, instead of fckstyles.xml, to define
your styles, specify the filepath in the <samp class="codeph">stylesXML</samp> attribute.</p>
</div></div><div id="WS8B8AA646-859D-4e37-BF10-D451F66626DF" class="nochunk"><a name="WS8B8AA646-859D-4e37-BF10-D451F66626DF"><!-- --></a><h4 class="topictitle4">Defining custom templates</h4><div><p>The editor includes a set of basic templates that insert
HTML formatting into the <samp class="codeph">textarea</samp> control. For
example, the <samp class="codeph">Image</samp><samp class="codeph">and</samp><samp class="codeph">Title</samp> template
places a placeholder for an image on the left of the area, and a
title and text to the right of the image. Then right-click the image
area to specify the image source and other properties, and replace
the placeholder title and text.</p>
<p>You create your own templates by creating entries in <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">cf_webRoot</i>/CFIDE/scripts/ajax/FCKEditor/fcktemplates.xml
file. Each template XML entry has the following format:</p>
<pre>    &lt;Template title="template title" image="template image"&gt; 
        &lt;Description&gt;template description&lt;/Description&gt; 
        &lt;Html&gt; 
            &lt;![CDATA[ 
                <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">HTML to insert in the text area when the user selects the template.</i> 
            ]]&gt; 
        &lt;/Html&gt; 
    &lt;/Template&gt;</pre>
<p>The template title, image, and description appear in the Templates
dialog box that appears when the user clicks the template icon on
the rich text editor toolbar.</p>
<p>The following example template defines a title followed by text:</p>
<pre>&lt;Template title="Title and Text" image="template1.gif"&gt; 
    &lt;Description&gt;A Title followed by text.&lt;/Description&gt; 
    &lt;Html&gt; 
        &lt;![CDATA[ 
            &lt;h3&gt;Type the title here&lt;/h3&gt; 
            Type the text here 
        ]]&gt; 
    &lt;/Html&gt; 
&lt;/Template&gt;</pre>
<p>The name "Title and Text" and the template1.gif image appear
in the template selection dialog box. </p>
<p>If you use a custom XML file, instead of fcktemplates.xml, to
define your templates, specify the file path in the <samp class="codeph">templatesXML</samp> attribute.</p>
</div></div><div id="WS6D526FF7-F03A-4a0e-97FA-25BCD1484C1D" class="nochunk"><a name="WS6D526FF7-F03A-4a0e-97FA-25BCD1484C1D"><!-- --></a><h4 class="topictitle4">Defining custom skins</h4><div><p>To create a custom skin that you specify in the <samp class="codeph">skin</samp> attribute,
create a subdirectory of the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">cf_webRoot</i>/CFIDE/scripts/ajax/FCKeditor/editor/skins
directory. The name of this subdirectory is the name that you use
to specify the skin in the <samp class="codeph">skin</samp> attribute. The
custom skin directory must contain an images subdirectory and have
the following files:</p>
<ul><li><p><strong>fck_editor.css</strong>: Defines the main interface, including
the toolbar, its items (like, buttons, panels) and the context menu.</p>
</li>
<li><p><strong>fck_dialog.css</strong>: Defines the basic structure of dialog
boxes (standard for all dialogs).</p>
</li>
<li><p><strong>fck_strip.gif</strong>: Defines the Default toolbar buttons
and context menu icons. It is a vertical image that contains all
icons placed one above the other. Each icon must correspond to a
16x16 pixels image. You can add custom images to this strip.</p>
</li>
<li><p><strong>images/toolbar.buttonarrow.gif: </strong>Defines the small
arrow image used in the toolbar combos and panel buttons. </p>
</li>
</ul>
<p>Place all other images used by the skin (that are specified in
the CSS files) in the images subfolder.</p>
<p>The most common way of customizing the skin is to change the
fck_editor.css and fck_dialog.css files. For information on the
skin format and contents, see the comments in those files.</p>
</div></div></div><div id="WSc3ff6d0ea77859461172e0811cbec10aa6-7fd5" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec10aa6-7fd5"><!-- --></a><h3 class="topictitle3">Using the datefield input control</h3><div><p>The HTML <samp class="codeph">cfinput</samp> control
with a type value of <samp class="codeph">datefield</samp> lets users select dates
from a pop-up calendar or enter the dates directly in the input
box. When you use the control, keep in mind the following considerations:</p>
<ul><li><p>To correctly display label text next to the control in
both Internet Explorer and Firefox, surround the label text in a <samp class="codeph">&lt;div style="float:left;"&gt;</samp> tag and
place three <samp class="codeph">&lt;br&gt;</samp> tags between each line.</p>
</li>
<li><p>Consider specifying an <samp class="codeph">overflow</samp> attribute
with a value of <samp class="codeph">visible</samp> in the <samp class="codeph">cflayoutarea</samp> tag
so that if the pop-up calendar exceeds the layout area boundaries,
it appears completely.</p>
</li>
<li><p>If you use a <samp class="codeph">mask</samp> attribute to control the
date format, it does not prevent the user from entering dates that
do not conform to the mask. The <samp class="codeph">mask</samp> attribute determines
the format for dates that users select in the pop-up calendar. Also, if
the user types a date in the field and opens the pop-up calendar,
the calendar displays the selected date only if the entered text
follows the mask pattern. If you do not specify a <samp class="codeph">mask</samp> attribute,
the pop-up only matches the default matching pattern.</p>
</li>
<li><p>If the user types a date with a month name or abbreviation
in the control, instead of picking a date from the calendar, the
selected date appears in the pop-up calendar only if both of the
following conditions are true: </p>
<ul><li><p>The month position
and name format match the mask pattern.</p>
</li>
<li><p>The month name matches, case correct, the month names specified
by the <samp class="codeph">monthNames</samp> attribute, or, for an <samp class="codeph">mmm</samp> mask,
their three-letter abbreviations.</p>
</li>
</ul>
</li>
<li><p>If the date mask specifies yy for the years, the pop-up calendar
uses dates in the range 1951-2050, so if the user enters 3/3/49
in the text field, the calendar displays March 3, 2049.</p>
</li>
<li><p>If the user enters invalid numbers in a date, the pop-up
calendar calculates a valid date that corresponds to the invalid
input. For example, if the user enters 32/13/2007 for a calendar
with a dd/mm/yyyy mask, the pop-up calendar displays 01/02/2008.</p>
</li>
</ul>
<p>The following example shows a simple tabbed layout where each
tab contains a form with several datefield controls.:</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;cflayout type="tab" tabheight="250px" style="width:400px;"&gt; 
    &lt;cflayoutarea title="test" overflow="visible"&gt; 
        &lt;br&gt; 
        &lt;cfform name="mycfform1"&gt; 
            &lt;div style="float:left;"&gt;Date 1: &lt;/div&gt; 
            &lt;cfinput type="datefield" name="mydate1"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; 
            &lt;div style="float:left;"&gt;Date 2: &lt;/div&gt; 
            &lt;cfinput type="datefield" name="mydate2" value="15/1/2007"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; 
            &lt;div style="float:left;"&gt;Date 3: &lt;/div&gt; 
            &lt;cfinput type="datefield" name="mydate3" required="yes"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; 
            &lt;div style="float:left;"&gt;Date 4: &lt;/div&gt; 
            &lt;cfinput type="datefield" name="mydate4" required="no"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; 
        &lt;/cfform&gt; 
    &lt;/cflayoutarea&gt;     
    &lt;cflayoutarea title="Mask" overflow="visible"&gt; 
        &lt;cfform name="mycfform2"&gt; 
            &lt;br&gt; 
            &lt;div style="float:left;"&gt;Date 1: &lt;/div&gt; 
            &lt;cfinput type="datefield" name="mydate5" mask="dd/mm/yyyy"&gt; 
                (dd/mm/yyyy)&lt;br&gt;&lt;br&gt;&lt;br&gt; 
            &lt;div style="float:left;"&gt;Date 2: &lt;/div&gt; 
            &lt;cfinput type="datefield" name="mydate6" mask="mm/dd/yyyy"&gt; 
                (mm/dd/yyyy)&lt;br&gt;&lt;br&gt;&lt;br&gt; 
            &lt;div style="float:left;"&gt;Date 3: &lt;/div&gt; 
            &lt;cfinput type="datefield" name="mydate7" mask="d/m/yy"&gt; 
                (d/m/yy)&lt;br&gt;&lt;br&gt;&lt;br&gt; 
            &lt;div style="float:left;"&gt;Date 4: &lt;/div&gt; 
            &lt;cfinput type="datefield" name="mydate8" mask="m/d/yy"&gt; 
                (m/d/yy)&lt;br&gt;&lt;br&gt;&lt;br&gt; 
        &lt;/cfform&gt; 
    &lt;/cflayoutarea&gt; 
&lt;/cflayout&gt; 
 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<div class="note"><span class="notetitle">Note:  </span>In Internet Explorer versions previous to IE
7, this example shows the calendars for the first three fields in
a page behind the following input controls.</div>
</div></div><div id="WSc3ff6d0ea77859461172e0811cbec22c24-720c" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-720c"><!-- --></a><h3 class="topictitle3">Using autosuggest text input fields</h3><div><p>When you create a text input (<samp class="codeph">type="text"</samp>)
in HTML, use the <samp class="codeph">autosuggest</samp> attribute to specify
a static or dynamic source that provides field completion suggestions
as the user types. Use the <samp class="codeph">autosuggestMinLength</samp> attribute
to specify the number of characters the user must type before first
displaying any suggestions.</p>
<div class="note"><span class="notetitle">Note:  </span>To place label text next to a <samp class="codeph">cfinput</samp> control
that uses an <samp class="codeph">autosuggest</samp> attribute and have it
display correctly in both Internet Explorer and Firefox, surround the
label text in an HTML <samp class="codeph">div</samp> tag with a <samp class="codeph">style="float: left"</samp> attribute.
Also if you have multiple controls, and place them on separate lines,
follow the input controls with three <samp class="codeph">&lt;br&gt;</samp> tags,
as in the following example. Otherwise, the label and control do
not lay out properly. </div>
<pre>&lt;div style="float: left"&gt; Name: &lt;/div&gt; 
&lt;cfinput name="userName" type="text" autosuggest="Andrew, Jane, Robert"&gt; &lt;br&gt;&lt;br&gt;&lt;br&gt;</pre>
<p>The control suggests entries from a static list of values. To
use a static suggestion list, specify the list entries in the <samp class="codeph">autosuggest</samp> attribute,
and separate the entries by the character specified by the <samp class="codeph">delimiter</samp> attribute
(by default, a comma), as the following example shows:</p>
<pre>&lt;cfinput type="text"  
    autosuggest="Alabama\Alaska\Arkansas\Arizona\Maryland\Minnesota\Missouri" 
    name="city" delimiter="\"&gt;</pre>
<p>In this example, if you type the character <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">a</i> (in uppercase
or lowercase) in the <samp class="codeph">cfinput</samp> control, the list
of states that start with A appears in a drop-down list. You navigate
to a selection by using the arrow keys, and press Enter to select
the item.</p>
<p>You also have the control suggest values from a dynamically generated suggestion
list. To use a dynamic list, specify a CFC function, JavaScript
function, or URL in the <samp class="codeph">autosuggest</samp> attribute.
Use the <samp class="codeph">autosuggestBindDelay</samp> attribute to specify
the minimum time between function invocations as the user types.
This limits the number of requests that are sent to the server.
If you use a dynamic list, the input field has an icon to its right
that animates while suggestions are fetched.</p>
<p>When you use a bind expression you must include a <samp class="codeph">{cfautosuggestvalue}</samp> bind
parameter in the function call or URL parameters. This parameter
binds to the user input in the input control and passes it to the
function or page.</p>
<p>A CFC or JavaScript autosuggest function must return the suggestion
values as a one-dimensional array or as a comma-delimited list.</p>
<p>The HTTP response body from a URL must consist only of the array
or list of suggestion values in JSON format. In ColdFusion, you
can use the <samp class="codeph">serializeJSON</samp> function to convert an
array to JSON format. If an array with the suggestions is named
nodeArray, for example, the following line would specify the only
output on a CFML page that is called by using a bind expression with
a URL:</p>
<pre>&lt;cfoutput&gt;#serializeJSON(nodeArray)#&lt;/cfoutput&gt;</pre>
<p>You do not have to limit the returned data to values that match
the <samp class="codeph">cfautosuggestvalue</samp> contents, because the client-side
code displays only the values that match the user input. In fact,
the called function or page does not even have to use the value
of the <samp class="codeph">cfautosuggestvalue</samp> parameter that you pass
to it. However, use the parameter if the returned data would otherwise
be long.</p>
<p>The following example shows how to use a bind expression to populate autosuggest
lists. The Last Name text box displays an autosuggest list with
all last names in the database that match the keys typed in the
box. The First Name text box uses binding to the Last Name text
box to display only the first names that correspond to the last
name and the text entered in the box. The database query limits
the responses to only include results that match the autosuggest
criteria, so the autosuggest list displays all the returned results,
and the suggestions only match if the database entry has a case-correct
match.</p>
<p>To test this example with the cfdocexamples database, type S
in the first box and the autosuggest list shows Smith and Stewart.
If you select Smith and enter A or J in the First Name box, you
get a name suggestion.</p>
<p>The following example shows the application:</p>
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; 
&lt;head&gt; 
&lt;/head&gt; 
&lt;body&gt; 
 
&lt;cfform&gt; 
    Last Name:&lt;br /&gt; 
    &lt;cfinput type="text" name="lastName" 
        autosuggest="cfc:suggestcfc.getLNames({cfautosuggestvalue})"&gt;&lt;br /&gt; 
    &lt;br /&gt; 
    First Name:&lt;br /&gt; 
    &lt;cfinput type="text" name="firstName" 
        autosuggest="cfc:suggestcfc.getFNames({cfautosuggestvalue},{lastName})"&gt; 
&lt;/cfform&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
<p>The following example shows the suggestcfc.cfc file:</p>
<pre>&lt;cfcomponent&gt; 
 
    &lt;cffunction name="getLNames" access="remote" returntype="array" output="false"&gt; 
        &lt;cfargument name="suggestvalue" required="true"&gt; 
        &lt;!--- The function must return suggestions as an array. ---&gt; 
        &lt;cfset var myarray = ArrayNew(1)&gt; 
        &lt;!--- Get all unique last names that match the typed characters. ---&gt; 
        &lt;cfquery name="getDBNames" datasource="cfdocexamples"&gt; 
        SELECT DISTINCT LASTNAME FROM Employees 
        WHERE LASTNAME LIKE &lt;cfqueryparam value="#suggestvalue#%" 
            cfsqltype="cf_sql_varchar"&gt; 
        &lt;/cfquery&gt; 
        &lt;!--- Convert the query to an array. ---&gt; 
        &lt;cfloop query="getDBNames"&gt; 
            &lt;cfset arrayAppend(myarray, lastname)&gt; 
        &lt;/cfloop&gt; 
        &lt;cfreturn myarray&gt; 
    &lt;/cffunction&gt; 
 
    &lt;cffunction name="getFNames" access="remote" returntype="array" 
            output="false"&gt; 
        &lt;cfargument name="suggestvalue" required="true"&gt; 
        &lt;cfargument name="lastName" required="true"&gt; 
        &lt;cfset var myarray = ArrayNew(1)&gt; 
        &lt;cfquery name="getFirstNames" datasource="cfdocexamples"&gt; 
        &lt;!--- Get the first names that match the last name and the typed characters. ---&gt; 
        SELECT FIRSTNAME FROM Employees 
        WHERE LASTNAME = &lt;cfqueryparam value="#lastName#" 
            cfsqltype="cf_sql_varchar"&gt; 
        AND FIRSTNAME LIKE &lt;cfqueryparam value="#suggestvalue &amp; '%'#" 
            cfsqltype="cf_sql_varchar"&gt; 
        &lt;/cfquery&gt; 
        &lt;cfloop query="getFirstNames"&gt; 
            &lt;cfset arrayAppend(myarray, Firstname)&gt; 
        &lt;/cfloop&gt; 
        &lt;cfreturn myarray&gt; 
    &lt;/cffunction&gt; 
     
    &lt;/cfcomponent&gt;</pre>
<div class="section"><h4 class="sectiontitle">Issue with numeric data</h4><p>For CFC methods
that returns numeric data  with a leading zero, for example, zip code <samp class="codeph">02674</samp>,
the zero is interpreted by the bind expression as an octal number and
its decimal equivalent (in this case <samp class="codeph">1468</samp>) even
if you set <samp class="codeph">return</samp><samp class="codeph">format="string"</samp>.
To resolve this issue, for URL binds or  binds routed by way of
a JavaScript function (for example, using cfajaxproxy), you can set <samp class="codeph">returnformat=plain</samp> to
retain the numeric  value. Also, leading zeros are stripped from
the suggestion list for autosuggest controls.</p>
</div>
</div></div><div id="WSce19a0e5a003e2ed66693371122fb66d56b-8000" class="nochunk"><a name="WSce19a0e5a003e2ed66693371122fb66d56b-8000"><!-- --></a><h3 class="topictitle3">Using the cfslider tag</h3><div><p>The <samp class="codeph">cfslider</samp> tag places a slider control,
for selecting a numeric value from a range, in a ColdFusion form.
The slider can be used within a <samp class="codeph">cfform</samp> tag for forms
in HTML and applet format. The <samp class="codeph">cfslider</samp> is not
supported with Flash forms.</p>
<p>In HTML forms, you can specify maximum, minimum, and increment
values, to help you quickly filter complex results. The available
slider controls are: Vertical, with controls that can be adjusted
to the top or bottom; Horizontal, with controls that can be adjusted
to the left or right; Tip, that displays the values as data tips; and
Snapping, that moves in incremental values.</p>
</div><div id="WSe9cbe5cf462523a0-c310897123042f5c1f-8000" class="nochunk"><a name="WSe9cbe5cf462523a0-c310897123042f5c1f-8000"><!-- --></a><h4 class="topictitle4">Manipulating slider at runtime</h4><div><p>The following code illustrates how you can manipulate a
slider at runtime:</p>
<div class="para"><pre> &lt;script language="javascript"&gt; 
    //use Coldfusion AJAX functions 
    var sliderChange = function(slider,value) 
    { 
        //get slider name 
        slidername = slider.getId(); 
        //get slider value 
        currValue = ColdFusion.Slider.getValue(slidername); 
        //set a new slider value 
        newValue = parseInt(currValue+10); 
        ColdFusion.Slider.setValue(slidername,newValue); 
        //hide slider 
        if(confirm("Do you want to hide slider?")) 
        { 
            ColdFusion.Slider.hide(slidername); 
        } 
        //show slider 
        if(confirm("Do you want to show slider?")) 
        { 
                ColdFusion.Slider.show(slidername); 
        } 
        //disable slider 
        if(confirm("Do you disable the slider?")) 
        { 
            ColdFusion.Slider.disable(slidername); 
        } 
        //enable slider 
        if(confirm("Do you enable the slider?")) 
        { 
            ColdFusion.Slider.enable(slidername); 
        } 
    } 
    var sliderDrag = function(slider) 
    { 
        //get slider name 
        slidername = slider.getId(); 
        document.getElementById('currentSliderValue').innerHTML =  "Current Slider value : &lt;font color='red'&gt;&lt;strong&gt;" + ColdFusion.Slider.getValue(slidername) + "&lt;strong&gt;&lt;/font&gt;"; 
    } 
&lt;/script&gt; 
&lt;br&gt; 
&lt;cfform name="frm1"&gt; 
    &lt;p&gt; 
    &lt;span id="currentSliderValue"&gt;Current Slider Value: &lt;font color="red"&gt;&lt;strong&gt;50&lt;/strong&gt;&lt;/font&gt;&lt;/span&gt;&lt;br&gt; 
    &lt;/p&gt; 
&lt;/cfform&gt; 
&lt;p&gt; 
&lt;br&gt;&lt;b&gt;Volume&lt;/b&gt;: 
&lt;cfslider 
    name="s" 
    format="html" 
    min=1 
    max=100 
    value="50" 
    tip="yes" 
    onChange="sliderChange" 
    onDrag = "sliderDrag" 
    vertical="no" 
    width="200pt" 
    &gt; 
&lt;/p&gt;</pre>
</div>
</div></div></div></div>
<div id="WSe9cbe5cf462523a0-530e5e85122e994fa64-8000" class="nochunk"><a name="WSe9cbe5cf462523a0-530e5e85122e994fa64-8000"><!-- --></a><h2 class="topictitle2">Using geographical maps</h2><div><p>The <samp class="codeph">cfmap</samp> tag lets you embed a geographical
map within your ColdFusion page. The following are the supported
map types:</p>
<div class="para"><ul><li><p>earth</p>
</li>
<li><p>terrain</p>
</li>
<li><p>satellite</p>
</li>
<li><p>hybrid</p>
</li>
<li><p>map (default)</p>
</li>
</ul>
</div>
</div><div id="WSe9cbe5cf462523a0-530e5e85122e994fa64-7fff" class="nochunk"><a name="WSe9cbe5cf462523a0-530e5e85122e994fa64-7fff"><!-- --></a><h3 class="topictitle3">Using the marker window</h3><div><p>The marker window opens when you click the marker icon
in the map. It is used to provide information pertaining to the
locations in the map, for example address or latitude and longitude.
The marker window can be populated with static or dynamic content.</p>
</div><div id="WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffe" class="nochunk"><a name="WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffe"><!-- --></a><h4 class="topictitle4">Populating data using static content</h4><div><p>To manually populate data in the marker window, specify
the value in the <samp class="codeph">markerwindowcontent</samp> attribute.</p>
</div></div><div id="WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffd" class="nochunk"><a name="WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffd"><!-- --></a><h4 class="topictitle4">Populating dynamic data using bind expression</h4><div><p>To dynamically populate data, use the <samp class="codeph">markerbind</samp> attribute
with a bind expression that calls a CFC, JavaScript function, or
a URL. The bind expression uses bind parameters to specify dynamic
information and the values of any other form field attributes. </p>
<p>Pass the bind parameters to the bind expression. If you omit
any of the parameters in the function call or URL, you get an error.
These parameters send information about the map and its state to
the data provider function. The data for these parameters is provided
automatically. You do not set any values manually.</p>
<p>Provide the data as provided in the following code:</p>
<div class="para"><pre>&lt;br&gt; 
&lt;cfoutput&gt; 
&lt;table&gt; 
    &lt;tr&gt; 
        &lt;td bgcolor='red'&gt;&lt;h4&gt;&lt;font color='white'&gt;URL Bind Example&lt;/font&gt;&lt;/td&gt; 
    &lt;/tr&gt; 
&lt;/table&gt; 
Map Name: #cfmapname#&lt;br&gt; 
Latitude, Longitude: (#DecimalFormat(cfmaplatitude)#,#DecimalFormat(cfmaplongitude)#)&lt;br&gt; 
Address: #cfmapaddress#&lt;br&gt; 
&lt;/cfoutput&gt;</pre>
</div>
<p>The following table provides details of the parameters:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e81182"><p>Parameter name</p>
</th>
<th valign="top" width="NaN%" id="d17e81185"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e81182 "><p><samp class="codeph">cfmapname</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e81185 "><p>The name of the map.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e81182 "><p><samp class="codeph">cfmaplatitude</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e81185 "><p>The latitude value for the location, in
degrees. This value is set as the center of the map. </p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e81182 "><p><samp class="codeph">cfmaplongitude</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e81185 "><p>The longitude value for the location, in
degrees. This value is set as the center of the map.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e81182 "><p><samp class="codeph">cfmapaddress</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e81185 "><p>The address of the location, which is set
as the center of the map.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>The format of the returned data depends on how you get the data:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e81229"><p>Bind type</p>
</th>
<th valign="top" width="NaN%" id="d17e81232"><p>Return value</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e81229 "><p>CFC</p>
</td>
<td valign="top" width="NaN%" headers="d17e81232 "><p>A ColdFusion structure. ColdFusion automatically
converts the structure for return to the caller. Alternatively,
you can return a JSON representation of the structure.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e81229 "><p>URL</p>
</td>
<td valign="top" width="NaN%" headers="d17e81232 "><p>A JSON representation of a structure. No
other body contents is allowed.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e81229 "><p>JavaScript</p>
</td>
<td valign="top" width="NaN%" headers="d17e81232 "><p>A JavaScript object.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Use the <samp class="codeph">showmarkerwindow</samp> attribute to control
the display of the window.</p>
<p>The following example uses a bind expression and a CFC to populate
dynamic data using a CFC bind expression. The CFML page contains
the following:</p>
<div class="para"><pre>&lt;br&gt; 
&lt;cfmap 
        centeraddress="Hobart, Tasmania, Australia" 
        name="map1" 
        type="map" 
        tip="Hobart, Tasmania, Australia" 
        zoomControl="small3d" 
        markerbind="cfc:maps.getMapData({cfmapname}, {cfmaplatitude}, {cfmaplongitude},             {cfmapaddress})" 
        showmarkerwindow = true&gt; 
    &lt;cfmapitem name="m1" address="Taj Mahal, Agra, India" tip="Taj Mahal, Agra, India"&gt; 
    &lt;cfmapitem name="m2" latitude="40.46" longitude="117.05" showmarkerwindow=true                 tip="Great Wall of China, Bejing"&gt; 
    &lt;cfmapitem name="m3" address="Stonehenge, England" tip="Stonehenge, England"     showmarkerwindow = false&gt; 
&lt;/cfmap&gt;</pre>
</div>
<p>The map.cfc is as follows:</p>
<div class="para"><pre>&lt;cfcomponent&gt; 
    &lt;cffunction name="getMapData" access="remote"&gt; 
        &lt;cfargument name="cfmapname"&gt; 
        &lt;cfargument name="cfmaplatitude"&gt; 
        &lt;cfargument name="cfmaplongitude"&gt; 
        &lt;cfargument name="cfmapaddress"&gt; 
        &lt;cfsavecontent variable="markup"&gt; 
            &lt;br&gt; 
            &lt;cfoutput&gt; 
            &lt;table&gt; 
                &lt;tr&gt; 
                    &lt;td bgcolor='red'&gt;&lt;h4&gt;&lt;font color='white'&gt;CFC Bind Example&lt;/font&gt;&lt;/td&gt; 
                &lt;/tr&gt; 
            &lt;/table&gt; 
            Map Name: #cfmapname#&lt;br&gt; 
            Latitude, Longitude: (#DecimalFormat(cfmaplatitude)#,#DecimalFormat(cfmaplongitude)#)&lt;br&gt; 
            Address: #cfmapaddress#&lt;br&gt; 
            &lt;/cfoutput&gt; 
        &lt;/cfsavecontent&gt;     
        &lt;cfreturn markup&gt; 
    &lt;/cffunction&gt; 
&lt;/cfcomponent&gt;</pre>
</div>
<p>The following example shows how to populate dynamic data using
a JavaScript bind expression:</p>
<div class="para"><pre>&lt;script language="JavaScript"&gt; 
    var getMapData = function(cfmapname, cfmaplatitude, cfmaplongitude, cfmapaddress){ 
        var msg = ""; 
        msg = msg + "Map Name: " + cfmapname + "&lt;br&gt;"; 
        msg = msg + "Latitude,longitude: " + "("  + cfmaplatitude + "," + cfmaplongitude + ")" + "&lt;br&gt;"; 
        msg = msg + "Address: " + cfmapaddress + "&lt;br&gt;"; 
        //alert(msg); 
        return "&lt;br&gt;&lt;table&gt;&lt;tr&gt;&lt;td bgcolor='red'&gt;&lt;h4&gt;&lt;font color='white'&gt;" + "Javascript Bind Example" + "&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;hr&gt;" + msg; 
    } 
&lt;/script&gt; 
&lt;cfmap 
    centeraddress="Hobart, Tasmania, Australia" 
    name="map1" 
    type="map" 
    tip="Hobart, Tasmania, Australia" 
    zoomControl="small3d" 
    markerbind="javascript:getMapData({cfmapname}, {cfmaplatitude}, {cfmaplongitude}, {cfmapaddress})" 
    showmarkerwindow = true&gt; 
    &lt;cfmapitem name="m1" address="Taj Mahal, Agra, India" tip="Taj Mahal, Agra, India"&gt; 
    &lt;cfmapitem name="m2" latitude="40.46" longitude="117.05" showmarkerwindow=true tip="Great Wall of China, Bejing"&gt; 
    &lt;cfmapitem name="m3" address="Stonehenge, England" tip="Stonehenge, England" showmarkerwindow = false&gt; 
&lt;/cfmap&gt;</pre>
</div>
<p>The following example shows how to populate dynamic data using
a URL bind expression:</p>
<div class="para"><pre>&lt;cfmap 
    centeraddress="Hobart, Tasmania, Australia" 
    name="map1" 
    type="map" 
    tip="Hobart, Tasmania, Australia" 
    zoomControl="small3d" 
markerbind="url:mapdata.cfm?cfmapname={cfmapname}&amp;cfmaplatitude={cfmaplatitude}&amp;cfmaplongitude={cfmaplongitude}&amp;cfmapaddress={cfmapaddress}" 
    showmarkerwindow = true    &gt; 
    &lt;cfmapitem name="m1" address="Taj Mahal, Agra, India" tip="Taj Mahal, Agra, India"&gt; 
    &lt;cfmapitem name="m2" latitude="40.46" longitude="117.05" showmarkerwindow=true tip="Great Wall of China, Bejing"&gt; 
    &lt;cfmapitem name="m3" address="Stonehenge, England" tip="Stonehenge, England" showmarkerwindow = false&gt; 
&lt;/cfmap&gt;</pre>
</div>
</div></div></div><div id="WSe9cbe5cf462523a076d48d32122e9d46b72-8000" class="nochunk"><a name="WSe9cbe5cf462523a076d48d32122e9d46b72-8000"><!-- --></a><h3 class="topictitle3">Specifying Google map key</h3><div><p>The Google Maps API key is required to embed Google Maps
in your web pages.</p>
<p>The following URL provides details of how to sign up for the
Google Maps API key:</p>
<p><a href="http://code.google.com/apis/maps/signup.html" target="_self">http://code.google.com/apis/maps/signup.html</a></p>
<p>Currently, ColdFusion supports only embedding of Google map.
To generate a map, provide a valid Google map API key, and specify
the latitude and longitude of the location, or the address of the
location. The Google map API key can be specified in the following
ways:</p>
<div class="para"><ul><li><p>Using the <samp class="codeph">cfajaximport</samp> tag. You specify
the map API key in the <samp class="codeph">params</samp> attribute as follows:</p>
<p><samp class="codeph">&lt;cfajaximport params="#{googlemapkey='Map API Key'}#</samp>"</p>
</li>
<li><p>Using Application.cfc as follows:</p>
<p><samp class="codeph">&lt;cfset this.googlemapkey="Map API Key"&gt;</samp></p>
</li>
<li><p>Using the Settings page in the ColdFusion Administrator.
Specify the map API key in the Google Map Key field. You can also
specify the map API key in runtime.cfc.</p>
</li>
</ul>
</div>
</div></div><div id="WSe9cbe5cf462523a076d48d32122e9d46b72-7fff" class="nochunk"><a name="WSe9cbe5cf462523a076d48d32122e9d46b72-7fff"><!-- --></a><h3 class="topictitle3">Styling markers</h3><div><div class="para">You can specify the following:<ul><li><p>Custom marker
icon: Specify the path to the icon using the <samp class="codeph">markericon</samp> attribute.
Ensure that you specify an image of appropriate size. </p>
</li>
<li><p>Marker icon color: Use the <samp class="codeph">markercolor</samp> attribute.
You can specify a color of your preference only for the default
icon and not for others.</p>
</li>
<li><p>Map title: Use the <samp class="codeph">title</samp> attribute. </p>
</li>
</ul>
</div>
</div></div></div>
<div id="WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffb" class="nochunk"><a name="WSe9cbe5cf462523a0-530e5e85122e994fa64-7ffb"><!-- --></a><h2 class="topictitle2">Using the cfprogressbar tag</h2><div><div class="para">The <samp class="codeph">cfprogressbar</samp> tag has the following
characteristics:<ul><li><p>Automatically runs the progress bar for
a duration that you specify.</p>
</li>
<li><p>Dynamically loads data using bind expressions</p>
</li>
<li><p>Lets styling of the progress bar</p>
</li>
<li><p>Uses callback and error handlers that give control to the
users after the progress bar completes processing or if it encounters
any exceptions.</p>
</li>
<li><p>Lets programmatic control over progress bar using JavaScript
APIs.</p>
</li>
</ul>
</div>
</div><div id="WSe9cbe5cf462523a0-4683a0b7122ef308624-8000" class="nochunk"><a name="WSe9cbe5cf462523a0-4683a0b7122ef308624-8000"><!-- --></a><h3 class="topictitle3">Progress bar modes</h3><div><p>The progress bar supports the following two modes:</p>
<div class="section"><h4 class="sectiontitle">Dynamic mode</h4><p>User specifies the bind expression
to provide data for the progress bar to display. The <samp class="codeph">bind</samp> attribute
specifies a function that determines the indicator length.</p>
<p>The
following CFM code shows how to use a CFC bind expression:</p>
<div class="para"><pre>&lt;cfajaxproxy cfc="pbar" jsclassname="pbar"&gt; 
&lt;head&gt; 
    &lt;script&gt; 
        var utils = new pbar(); 
        var count = 0; 
        var init = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'block'; 
            ColdFusion.ProgressBar.show('pBar'); 
            ColdFusion.ProgressBar.start('pBar'); 
        } 
        var hideProgessBar = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'none'; 
            ColdFusion.ProgressBar.hide('pBar'); 
            utils.resetStatus(); 
        } 
    &lt;/script&gt; 
&lt;/head&gt; 
&lt;cfform&gt; 
    &lt;div id="cfpbLabel" style="display:none"&gt; 
        Saving File: 
    &lt;/div&gt; 
    &lt;cfprogressbar 
        name="pBar" 
        autodisplay=false 
        bind="cfc:pbar.getProgessData()" 
        onComplete="hideProgessBar" 
        width="400"        &gt; 
    &lt;cfset ajaxOnLoad('init')&gt; 
&lt;/cfform&gt;</pre>
</div>
<p>The following pb.cfc has the function
that returns data for the progressbar:</p>
<div class="para"><pre>&lt;cfcomponent&gt; 
    &lt;cffunction name="resetStatus" access="remote"&gt; 
        &lt;!--- 
        Clear count from session so that next time the progress bar runs from the start             time. 
        ---&gt; 
        &lt;cfif session.count gte 10&gt; 
            &lt;cfset structdelete(session,"count")&gt; 
        &lt;/cfif&gt; 
    &lt;/cffunction&gt; 
    &lt;cffunction name="getProgessData" access="remote"&gt; 
        &lt;!--- use a count to track progress ---&gt; 
        &lt;cfif not isdefined('session.count')&gt; 
            &lt;cfset session.count = 1&gt; 
        &lt;cfelse&gt; 
            &lt;cfset session.count = session.count + 1 &gt; 
        &lt;/cfif&gt; 
        &lt;!--- struct with status and message components of the progressbar ---&gt; 
        &lt;cfset data = {status=session.count * 0.1,message=(session.count * 10)  &amp; "%"}&gt; 
        &lt;cfreturn data&gt; 
    &lt;/cffunction&gt;     
&lt;/cfcomponent&gt;</pre>
</div>
<p>The following CFM code explains
how to use the URL bind expression:</p>
<div class="para"><pre>&lt;head&gt; 
    &lt;script&gt; 
        var init = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'block'; 
            ColdFusion.ProgressBar.show('pBar'); 
            ColdFusion.ProgressBar.start('pBar'); 
        } 
        var hideProgessBar = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'none'; 
            ColdFusion.ProgressBar.hide('pBar'); 
        } 
    &lt;/script&gt; 
&lt;/head&gt; 
&lt;cfform&gt; 
    &lt;div id="cfpbLabel" style="display:none"&gt; 
        Saving File: 
    &lt;/div&gt; 
    &lt;cfprogressbar 
        name="pBar" 
        autodisplay=false 
        bind="url:progressdata.cfm" 
        onComplete="hideProgessBar" 
        width="400"        &gt; 
    &lt;cfset ajaxOnLoad('init')&gt; 
&lt;/cfform&gt;</pre>
</div>
<p>The following is the Progressdata.cfm:</p>
<div class="para"><pre>&lt;!--- use a count to indicate progress ---&gt; 
&lt;cfif not isdefined('session.count')&gt; 
    &lt;cfset session.count = 1&gt; 
&lt;cfelse&gt; 
    &lt;cfset session.count = session.count + 1 &gt; 
&lt;/cfif&gt; 
&lt;!--- the struct to be sent back; using the populate the status and message components of the progressbar ---&gt; 
&lt;cfset data = {status=session.count * 0.1,message=(session.count * 10)  &amp; "%"}&gt; 
&lt;!--- clear count from session to start afresh the next time the program is run ---&gt; 
&lt;cfif session.count eq 10&gt; 
    &lt;cfset structdelete(session,"count")&gt; 
&lt;/cfif&gt; 
&lt;!--- data sent back via URL binds must use SerializeJSON() ---&gt; 
&lt;cfoutput&gt;#SerializeJSON(data)#&lt;/cfoutput&gt;</pre>
</div>
<p>The
following CFM code has the JavaScript bind expression:</p>
<div class="para"><pre>&lt;head&gt; 
    &lt;script&gt; 
        var count = 0; 
        var init = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'block'; 
            ColdFusion.ProgressBar.show('pBar'); 
            ColdFusion.ProgressBar.start('pBar'); 
        } 
        var hideProgessBar = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'none'; 
            ColdFusion.ProgressBar.hide('pBar'); 
        } 
        var getProgessData = function() 
        { 
            count++; 
            if(count &gt; 10) 
                return {STATUS:1,MESSAGE:"Done"} 
            else 
                return {STATUS:count*0.1,MESSAGE:(count * 10) + "%"} 
        } 
    &lt;/script&gt; 
&lt;/head&gt; 
&lt;cfform&gt; 
    &lt;div id="cfpbLabel" style="display:none"&gt; 
        Saving File: 
    &lt;/div&gt; 
    &lt;cfprogressbar 
        name="pBar" 
        autodisplay=false 
        bind="javascript:getProgessData()" 
        onComplete="hideProgessBar" 
        width="400" 
        &gt; 
    &lt;cfset ajaxOnLoad('init')&gt; 
&lt;/cfform&gt;</pre>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Manual mode</h4><p>In the manual mode, you specify
the duration the progress bar takes to complete the display of progress. </p>
<p>In
the following example, <samp class="codeph">autodisplay</samp> is set to <samp class="codeph">false</samp> as
a result of which the progress bar is not shown when the page is
first loaded. When the page is loaded, <samp class="codeph">init</samp> function
is invoked and the function displays and runs the progress bar. The
default interval used in this mode is one second. </p>
<pre>&lt;head&gt; 
    &lt;script&gt; 
        var init = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'block'; 
            ColdFusion.ProgressBar.show('pBar'); 
            ColdFusion.ProgressBar.start('pBar'); 
        } 
        var hideProgessBar = function(){ 
            document.getElementById('cfpbLabel').style.display = 'none'; 
            ColdFusion.ProgressBar.hide('pBar'); 
        } 
    &lt;/script&gt; 
&lt;/head&gt; 
&lt;cfform&gt; 
    &lt;div id="cfpbLabel" style="display:none"&gt; 
        Saving File: 
    &lt;/div&gt; 
    &lt;cfprogressbar 
        name="pBar" 
        duration="10000" 
        autodisplay=false 
        onComplete="hideProgessBar" 
        width="400" 
    /&gt; 
    &lt;cfset ajaxOnLoad('init')&gt; 
&lt;/cfform&gt;</pre>
</div>
</div></div><div id="WSe9cbe5cf462523a0-4683a0b7122ef308624-7fff" class="nochunk"><a name="WSe9cbe5cf462523a0-4683a0b7122ef308624-7fff"><!-- --></a><h3 class="topictitle3">Working with a progress bar at runtime</h3><div><p>This section illustrates how to use the JavaScript API
to update the progress bar status. The following CFM code loads
a progress bar using the JavaScript API ColdFusion.ProgressBar.updatestatus.</p>
<p>On program load, <samp class="codeph">intit</samp> function displays the
progress bar and calls the getProgressData JavaScript function to
manually update the progress bar. The getProgressData function assigns
the status and message variables passed to the JavaScript API update
status. </p>
<p>While working with a progress bar at runtime, ensure that you
specify a dummy duration (for instance, <samp class="codeph">duration=<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">5000</i></samp>).
Even though the custom JavaScript function decides the actual duration, <samp class="codeph">duration</samp> is
a mandatory attribute.</p>
<div class="para"><pre>&lt;cfajaxproxy cfc="pbar" jsclassname="pbar"&gt; 
&lt;head&gt; 
    &lt;script&gt; 
        var utils = new pbar(); 
        var init = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'block'; 
            ColdFusion.ProgressBar.show('pBar'); 
            getProgessData(); 
        } 
        var hideProgessBar = function() 
        { 
            document.getElementById('cfpbLabel').style.display = 'none'; 
            ColdFusion.ProgressBar.hide('pBar'); 
        } 
        var getProgessData = function() 
        { 
            for(i=1;i &lt;= 10;i++) 
            { 
                var status = parseFloat(i * 0.10); 
                var message = Math.round(status * 100) + "%"; 
                ColdFusion.ProgressBar.updateStatus('pBar',status,message); 
                utils.sleep(1000); 
            } 
            hideProgessBar(); 
        } 
    &lt;/script&gt; 
&lt;/head&gt; 
&lt;cfform&gt; 
    &lt;div id="cfpbLabel" style="display:none"&gt; 
        Saving File: 
    &lt;/div&gt; 
    &lt;cfprogressbar 
        name="pBar" 
        autodisplay=false 
        duration=15000 
        onComplete="hideProgessBar" 
        width="400"        &gt; 
    &lt;cfset ajaxOnLoad('init')&gt; 
&lt;/cfform&gt;</pre>
</div>
<p>The <samp class="codeph">sleep</samp> function in the following CFC provides
sleep functionality in the JavaScript code:</p>
<div class="para"><pre>&lt;cfcomponent&gt; 
&lt;cffunction name="sleep" access="remote"&gt; 
    &lt;cfargument name="timetosleep" default="1000"&gt; 
    &lt;cfset sleep(timetosleep)&gt; 
&lt;/cffunction&gt; 
&lt;/cfcomponent&gt;</pre>
</div>
</div></div><div id="WSe9cbe5cf462523a0-3bc87321122ef38e3a5-8000" class="nochunk"><a name="WSe9cbe5cf462523a0-3bc87321122ef38e3a5-8000"><!-- --></a><h3 class="topictitle3">Styling the progress bar</h3><div><p>The <samp class="codeph">cfprogressbar</samp> has <samp class="codeph">style</samp> attribute
that lets you decide:</p>
<div class="para"><ul><li><p>Background color of the progress bar</p>
</li>
<li><p>Color of the progress message</p>
</li>
<li><p>Color of the progress indicator</p>
</li>
</ul>
</div>
<p>The following code illustrates styling:<samp class="codeph"> style="bgcolor:ADD8E6;progresscolor:6183A6;textcolor:191970"</samp></p>
</div></div></div>
<div id="WSce19a0e5a003e2ed-2746175b122fb6f9bec-8000" class="nochunk"><a name="WSce19a0e5a003e2ed-2746175b122fb6f9bec-8000"><!-- --></a><h2 class="topictitle2">Using the cfmessagebox tag</h2><div><p>The <samp class="codeph">cfmessagebox</samp> tag lets you define controls
for displaying pop-up messages. In addition to the standard alert
box, this tag lets you include a prompt and entry field in the box.</p>
</div><div id="WSe9cbe5cf462523a03d8532761230440fc53-8000" class="nochunk"><a name="WSe9cbe5cf462523a03d8532761230440fc53-8000"><!-- --></a><h3 class="topictitle3">Using confirm dialog</h3><div><p>The following code shows how to build a confirm message
box with two buttons YES and NO.</p>
<div class="para"><pre>&lt;cfmessagebox 
    type="confirm" 
    name="msgbox1" 
    title="Confirm Dialog" 
    message="Do you want proceed?" 
    buttonType="YesNo" 
    icon="info" 
    labelYes="Click Yes to continue" 
    labelNo="No" 
    x=100 
    y=200&gt; 
&lt;!--- This example illustrates usage of the Confirm dialog in "YesNoCancel" mode ---&gt; 
&lt;cfmessagebox 
    type="confirm" 
    name="msgbox2" 
    title="Save File" 
    message="Do you want to save the file?" 
    buttonType="YesNoCancel" 
    icon="question" 
    labelYes="Click Yes to save the file" 
    labelNo="No" 
    labelCancel="Quit" 
    width="400" 
    x=500 
    y=200&gt; 
&lt;br&gt;&lt;br&gt; 
&lt;input 
    type="button" 
    name="confirm1" 
    onClick="javascript:ColdFusion.MessageBox.show('msgbox1');" 
    value="YesNo Confirm" 
    &gt; 
&lt;input 
    type="button" 
    name="confirm2" 
    onClick="javascript:ColdFusion.MessageBox.show('msgbox2');" 
    value="YesNoCancel Confirm" 
    &gt;</pre>
</div>
</div></div><div id="WSe9cbe5cf462523a063556286123046b7d24-7ffe" class="nochunk"><a name="WSe9cbe5cf462523a063556286123046b7d24-7ffe"><!-- --></a><h3 class="topictitle3">Styling a message box</h3><div><p>The <samp class="codeph">bodyStyle</samp> attribute, a CSS style specification
for the body of the message box helps you to style the message.
As a general rule, use this attribute to set color and font styles.</p>
<p>The following example illustrates the usage of the <samp class="codeph">bodyStyle</samp> attribute:</p>
<div class="para"><pre>&lt;cfmessagebox 
    type="alert" 
    name="msgbox1" 
    title="Download Status" 
    message="File Download Complete" 
    icon="info" 
    width="400" 
    bodyStyle="background-color:white;color:blue" 
    x=300 
    y=200&gt; 
&lt;br&gt;&lt;br&gt; 
&lt;input 
    type="button" 
    name="alert" 
    onClick="javascript:ColdFusion.MessageBox.show('msgbox1');" 
    value="Alert MessageBox" 
    &gt;</pre>
</div>
</div></div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec1069f-7ff4.html" title="Creating XSLT skins"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec22c24-7a27.html" title="Using Ajax Data and Development Features"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd70508c-8000.html"><b>Requesting and Presenting Information</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>