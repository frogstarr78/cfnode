<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Creating charts: examples</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec1260e-7ff4.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec1260e-7ff4.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec22c24-74f2.html" title="Controlling chart appearance"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec1260e-7ff3.html" title="Administering charts"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd76f064-8000.html"><b>Working with Documents, Charts, and Reports</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-78fe.html"><b>Creating Charts and Graphs</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Creating charts: examples</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec1260e-7fe5"><span class="topictitle1">Creating a bar chart</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec1260e-7fe3"><span class="topictitle1">Creating a pie chart</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec1260e-7fe1"><span class="topictitle1">Creating an area chart</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec1260e-7fee"><span class="topictitle1">Setting curve chart characteristics</span>
</a></p></li></ul></div></div></div></div><div><ul class="navlinklist"></ul>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbec1260e-7fe5" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec1260e-7fe5"><!-- --></a><h2 class="topictitle2">Creating a bar chart</h2><div><p>The example
in the following procedure adds a title to the bar chart, specifies that
the chart is three-dimensional, adds grid lines, sets the minimum
and maximum y-axis values, and uses a custom set of colors.</p>
<ol><li><p>Open the chartdata.cfm file in your editor.</p>
</li>
<li><p>Edit the <samp class="codeph">cfchart</samp> tag so that it appears
as follows:</p>
<pre>&lt;!--- Bar chart, from Query of Queries ---&gt; 
&lt;cfchart  
        scaleFrom=40000 
        scaleTo=100000 
        font="arial" 
        fontSize=16 
        gridLines=4  
        show3D="yes" 
        foregroundcolor="##000066" 
        databackgroundcolor="##FFFFCC" 
        chartwidth="450" 
    &gt; 
 
    &lt;cfchartseries  
        type="bar"  
        query="DeptSalaries"  
        valueColumn="AvgByDept"  
        itemColumn="Dept_Name" 
        seriescolor="##33CC99" 
        paintstyle="shade" 
        /&gt; 
 
&lt;/cfchart&gt;</pre>
</li>
<li><p>Save the file as chartdatastyle1.cfm. </p>
</li>
<li><p>View the chartdatastyle1.cfm page in your browser.</p>
</li>
</ol>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec1260e-7fe5__WSc3ff6d0ea77859461172e0811cbec1260e-7fe4"><a name="WSc3ff6d0ea77859461172e0811cbec1260e-7fe5__WSc3ff6d0ea77859461172e0811cbec1260e-7fe4"><!-- --></a><h4 class="sectiontitle">Reviewing the code</h4><p>The following table describes the code in the
preceding example.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e92895"><p>Code</p>
</th>
<th valign="top" width="NaN%" id="d17e92898"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">scaleFrom=40000</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Set the minimum value of the vertical axis
to 40000. </p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">scaleTo=100000</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Set the maximum value of the vertical axis
to 100000. The minimum value is the default, <samp class="codeph">0</samp>.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">font="arial"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Displays text using the Arial font.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">fontSize=16</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Makes the point size of the labels 16 points.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">gridLines = 4</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Displays four grid lines between the top
and bottom of the chart.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">show3D = "yes"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Shows the chart in 3D.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">foregroundcolor="##000066"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Sets the color of the text, gridlines, and
labels.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">databackgroundcolor="##FFFFCC"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Sets the color of the background behind
the bars.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">seriescolor="##33CC99"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Sets the color of the bars.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e92895 "><p><samp class="codeph">paintstyle="shade"</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e92898 "><p>Sets the paint display style.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec1260e-7fe3" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec1260e-7fe3"><!-- --></a><h2 class="topictitle2">Creating a pie chart</h2><div><p>The example in the following procedure adds a pie chart
to the page.</p>
<ol><li><p>Open the chartdata.cfm file in your editor.</p>
</li>
<li><p>Edit the DeptSalaries query and the <samp class="codeph">cfloop</samp> code
so that it appears as follows:</p>
<pre>&lt;!--- A query to get statistical data for each department. ---&gt; 
&lt;cfquery dbtype = "query" name = "DeptSalaries"&gt; 
    SELECT  
        Dept_Name, 
        <strong>SUM(Salary) AS SumByDept,</strong> 
        AVG(Salary) AS AvgByDept 
    FROM GetSalaries 
    GROUP BY Dept_Name 
&lt;/cfquery&gt; 
 
&lt;!--- Reformat the generated numbers to show only thousands. ---&gt; 
&lt;cfloop index="i" from="1" to="#DeptSalaries.RecordCount#"&gt; 
    <strong>&lt;cfset DeptSalaries.SumByDept[i]=Round(DeptSalaries.SumByDept[i]/</strong> 
    <strong>1000)*1000&gt;</strong> 
    &lt;cfset DeptSalaries.AvgByDept[i]=Round(DeptSalaries.AvgByDept[i]/ 
    1000)*1000&gt; 
&lt;/cfloop&gt;</pre>
</li>
<li><p>Add the following <samp class="codeph">cfchart</samp> tag:</p>
<pre>&lt;!--- Pie chart, from DeptSalaries Query of Queries. ---&gt; 
<strong>&lt;cfchart </strong> 
        <strong>tipStyle="mousedown" </strong> 
        <strong>font="Times"</strong> 
        <strong>fontsize=14</strong> 
        <strong>fontBold="yes"</strong> 
        <strong>backgroundColor = "##CCFFFF"</strong> 
        <strong>show3D="yes"</strong> 
        <strong>&gt;</strong> 
         
    <strong>&lt;cfchartseries </strong> 
        <strong>type="pie" </strong> 
        <strong>query="DeptSalaries" </strong> 
        <strong>valueColumn="SumByDept" </strong> 
        <strong>itemColumn="Dept_Name" </strong> 
        <strong>colorlist="##6666FF,##66FF66,##FF6666,##66CCCC"</strong> 
        <strong>/&gt;</strong> 
<strong>&lt;/cfchart&gt;</strong> 
&lt;br&gt;</pre>
</li>
<li><p>Save the file as chartdatapie1.cfm. </p>
</li>
<li><p>View the chartdatapie1.cfm page in your browser:</p>
</li>
</ol>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec1260e-7fe3__WSc3ff6d0ea77859461172e0811cbec1260e-7fe2"><a name="WSc3ff6d0ea77859461172e0811cbec1260e-7fe3__WSc3ff6d0ea77859461172e0811cbec1260e-7fe2"><!-- --></a><h4 class="sectiontitle">Reviewing the code</h4><p>The following table describes the code and its
function:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e93089"><p>Code</p>
</th>
<th valign="top" width="NaN%" id="d17e93092"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e93089 "><div class="para"><pre>SUM(Salary) AS SumByDept,</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93092 "><p>In the DeptSalaries query, add a SUM aggregation
function to get the sum of all salaries per department.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e93089 "><div class="para"><pre>&lt;cfset DeptSalaries.SumByDept[i]=Round(DeptSalaries.SumByDept[i]/ 1000)*1000&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93092 "><p>In the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7fe2.html" target="_self">cfloop</a> tag, round the salary sums
to the nearest thousand.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e93089 "><div class="para"><pre>&lt;cfchart 
        tipStyle="mousedown" 
        font="Times" 
        fontsize=14 
        fontBold="yes" 
        backgroundColor = "##CCFFFF" 
        show3D="yes" 
        &gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93092 "><p>Show a tip only when a user clicks the chart,
display text in Times bold font, set the background color to light
blue, and display the chart in three dimensions.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e93089 "><div class="para"><pre>&lt;cfchartseries 
        type="pie" 
        query="DeptSalaries" 
        valueColumn="SumByDept" 
        itemColumn="Dept_Name" 
        colorlist="##6666FF,##66FF66,##FF6666,##66CCCC" 
        /&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93092 "><p>Create a pie chart using the SumByDept salary
sum values from the DeptSalaries query.</p>
<p>Use the contents of
the Dept_Name column for the item labels displayed in the chart
legend.</p>
<p>Get the pie slice colors from a custom list, which
uses hexadecimal color numbers. The double number signs prevent
ColdFusion from trying to interpret the color data as variable names.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec1260e-7fe1" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec1260e-7fe1"><!-- --></a><h2 class="topictitle2">Creating an area chart</h2><div><p>The example in the following procedure
adds an area chart to the salaries analysis page. The chart shows
the average salary by start date to the salaries analysis page.
It shows the use of a second query of queries to generate a new analysis
of the raw data from the GetSalaries query. It also shows the use
of additional <samp class="codeph">cfchart</samp> attributes.</p>
<ol><li><p>Open the chartdata.cfm file in your editor.</p>
</li>
<li><p>Edit the GetSalaries query so that it appears as follows:</p>
<pre>&lt;!-- Get the raw data from the database. --&gt; 
&lt;cfquery name="GetSalaries" datasource="cfdocexamples"&gt; 
    SELECT Departmt.Dept_Name,  
        <strong>Employee.StartDate,</strong> 
        Employee.Salary 
    FROM Departmt, Employee 
    WHERE Departmt.Dept_ID = Employee.Dept_ID 
&lt;/cfquery&gt;</pre>
</li>
<li><p>Add the following code before the <samp class="codeph">html</samp> tag:</p>
<pre>&lt;!--- Convert start date to start year. ---&gt; 
&lt;!--- Convert the date to a number for the query to work ---&gt; 
<strong>&lt;cfloop index="i" from="1" to="#GetSalaries.RecordCount#"&gt;</strong> 
<strong>&lt;cfset GetSalaries.StartDate[i]=NumberFormat(DatePart("yyyy", GetSalaries.StartDate[i]) </strong>,9999)&gt; 
<strong>&lt;/cfloop&gt;</strong> 
 
&lt;!--- Query of Queries for average salary by start year. ---&gt; 
<strong>&lt;cfquery dbtype = "query" name = "HireSalaries"&gt;</strong> 
    <strong>SELECT </strong> 
        <strong>StartDate,</strong> 
        <strong>AVG(Salary) AS AvgByStart</strong> 
    <strong>FROM GetSalaries</strong> 
    <strong>GROUP BY StartDate</strong> 
<strong>&lt;/cfquery&gt;</strong> 
 
&lt;!--- Round average salaries to thousands. ---&gt;  
<strong>&lt;cfloop index="i" from="1" to="#HireSalaries.RecordCount#"&gt;</strong> 
    <strong>&lt;cfset HireSalaries.AvgByStart[i]=Round(HireSalaries.AvgByStart[i]/1000)*1000&gt;</strong> 
<strong>&lt;/cfloop&gt;</strong></pre>
</li>
<li><p>Add the following <samp class="codeph">cfchart</samp> tag before the
end of the <samp class="codeph">body</samp> tag block:</p>
<pre><strong>&lt;!--- Area-style Line chart, from HireSalaries Query of Queries. ---&gt;</strong> 
<strong>&lt;cfchart </strong> 
        <strong>chartWidth=400</strong> 
        <strong>BackgroundColor="##FFFF00"</strong> 
        <strong>show3D="yes"</strong> 
    <strong>&gt;</strong> 
    <strong>&lt;cfchartseries</strong> 
        <strong>type="area" </strong> 
        <strong>query="HireSalaries" </strong> 
        <strong>valueColumn="AvgByStart" </strong> 
        <strong>itemColumn="StartDate"</strong> 
    <strong> /&gt;</strong> 
<strong>&lt;/cfchart&gt;</strong> 
<strong>&lt;br&gt;</strong></pre>
</li>
<li><p>Save the page.</p>
</li>
<li><p>View the chartdata.cfm page in your browser.</p>
</li>
</ol>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec1260e-7fe1__WSc3ff6d0ea77859461172e0811cbec1260e-7fe0"><a name="WSc3ff6d0ea77859461172e0811cbec1260e-7fe1__WSc3ff6d0ea77859461172e0811cbec1260e-7fe0"><!-- --></a><h4 class="sectiontitle">Reviewing the code</h4><p>The following table describes the code and its
function:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e93277"><p>Code</p>
</th>
<th valign="top" width="NaN%" id="d17e93280"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e93277 "><div class="para"><pre>Employee.StartDate,</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93280 "><p>Add the employee start date to the data
in the GetSalaries query.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e93277 "><div class="para"><pre>&lt;cfloop index="i" from="1" to="#GetSalaries.RecordCount#"&gt; 
&lt;cfset GetSalaries.StartDate[i]=NumberFormat(DatePart("yyyy", GetSalaries.StartDate[i]) ,9999)&gt; 
&lt;/cfloop&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93280 "><p>Use a <samp class="codeph">cfloop</samp> tag to extract
the year of hire from the hire data, and convert the result to a
four-digit number.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e93277 "><div class="para"><pre>&lt;cfquery dbtype = "query" name = "HireSalaries"&gt; 
     SELECT 
        StartDate, 
        AVG(Salary) AS AvgByStart 
    FROM GetSalaries 
    GROUP BY StartDate 
&lt;/cfquery&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93280 "><p>Create a second query from the GetSalaries
query. This query contains the average salary for each start year. </p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e93277 "><div class="para"><pre>&lt;cfloop index="i" from="1" to="#HireSalaries.RecordCount#"&gt; 
    &lt;cfset HireSalaries.AvgByStart[i]=Round(HireSalaries.AvgByStart[i]/1000)*1000&gt; 
&lt;/cfloop&gt; </pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93280 "><p>Round the salaries to the nearest thousand.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e93277 "><div class="para"><pre> &lt;cfchart 
        chartWidth=400 
        BackgroundColor="##FFFF00" 
        show3D="yes" 
    &gt; 
    &lt;cfchartseries 
        type="area" 
        query="HireSalaries" 
        valueColumn="AvgByStart" 
        itemColumn="StartDate" 
     /&gt; 
&lt;/cfchart&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e93280 "><p>Create an area chart using the HireSalaries
query. Chart the average salaries against the start date.</p>
<p>Limit
the chart width to 400 pixels, show the chart in three dimensions, and
set the background color to white. </p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec1260e-7fee" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec1260e-7fee"><!-- --></a><h2 class="topictitle2">Setting curve chart characteristics</h2><div><p>Curves charts use the attributes already
discussed. However, curve charts require a large amount of processing
to render. For fastest performance, create them offline, write them
to a file or variable, and then reference them in your application
pages. For information on creating offline charts, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7934.html">Writing a chart to a variable</a>. </p>
</div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec22c24-74f2.html" title="Controlling chart appearance"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec1260e-7ff3.html" title="Administering charts"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd76f064-8000.html"><b>Working with Documents, Charts, and Reports</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-78fe.html"><b>Creating Charts and Graphs</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>