<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Perform create, read, update, delete operations on ORM Objects</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WS02BE9BC5-8206-434b-8486-95CD09CDB985.html";
    document.cookie = "topicId=" + "WS02BE9BC5-8206-434b-8486-95CD09CDB985.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSf0ed2a6d7fb07688310730d81223d0356fc-7fff.html" title="Generated methods for relationships between CFCs"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSf0ed2a6d7fb07688310730d81223d0356fc-7ffe.html" title="Using queries"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSD628ADC4-A5F7-4079-99E0-FD725BE9B4BD.html"><b>ColdFusion ORM</b></a> 
      / <a href="WS8826399A-14A2-45d3-95DF-9963DA73C087.html"><b>Working with objects</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Perform create, read, update, delete operations on ORM Objects</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WS994E0FA4-FEB4-4c56-998A-9F50DA40F2AC"><span class="topictitle1">Create entities</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e54af3c7912012f78097-7ffa"><span class="topictitle1">Save entities</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e54af3c7912012f78097-7ff9"><span class="topictitle1">Update objects</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e54af3c7912012f78097-7ff8"><span class="topictitle1">Read/Load objects</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e54af3c7912012f78097-7ff7"><span class="topictitle1">Delete objects</span>
</a></p></li><li><p><a href="#WS52840ce61dea8508-7d449d6a1223153bfd4-8000"><span class="topictitle1">Convert object to query</span>
</a></p></li><li><p><a href="#WS25dc2c49b27459df-487e93123943c7dab-8000"><span class="topictitle1">Merge entities</span>
</a></p></li></ul></div></div></div></div><div><p>In any data-centric application, you can perform the following
operations on the database:</p>
<ul><li><p>Insert (Create)</p>
</li>
<li><p>Update</p>
</li>
<li><p>Retrieve</p>
</li>
<li><p>Delete</p>
</li>
</ul>
<p>Once the object relational model is defined in a ColdFusion application,
you can perform CRUD operations on the objects directly using the
methods provided by ColdFusion ORM. ColdFusion ORM, in turn, takes
care of persisting the object in the database.</p>
</div>
<div id="WS994E0FA4-FEB4-4c56-998A-9F50DA40F2AC" class="nochunk"><a name="WS994E0FA4-FEB4-4c56-998A-9F50DA40F2AC"><!-- --></a><h2 class="topictitle2">Create entities</h2><div><p><samp class="codeph">EntityNew</samp></p>
<p>Creates an object for persistent CFC with the given entity name.
This is similar to CreateObject but it uses <samp class="codeph">entityname</samp> whereas
CreateObject takes CFC name. If there is no CFC defined in the application
with the given <samp class="codeph">entityname</samp>, an error will be thrown.</p>
<p>If the persistent CFC has an <samp class="codeph">init</samp> method, then
the function <samp class="codeph">EntityNew</samp> calls the <samp class="codeph">init</samp> method
while creating the object.</p>
<div class="section"><h4 class="sectiontitle">Syntax</h4><div class="para"><pre>&lt;entity&gt; EntityNew("&lt;entityName&gt;")</pre>
</div>
</div>
</div></div>
<div id="WSf01dbd23413dda0e54af3c7912012f78097-7ffa" class="nochunk"><a name="WSf01dbd23413dda0e54af3c7912012f78097-7ffa"><!-- --></a><h2 class="topictitle2">Save entities</h2><div><p><samp class="codeph">EntitySave</samp></p>
<p>Saves or Updates the data of the entity and all related entities
to the database. </p>
<p>ColdFusion automatically tries to find if a new record should
be inserted or an existing record be updated for the given entity.
If <samp class="codeph">forceinsert=true,</samp> then ColdFusion always tries
to insert the entity as a new record.</p>
<p>Calling this method may not run the insert/update SQL immediately.
It is possible that various SQL statements are queued and then run
as a batch for performance reasons. The SQL statements are run when
the ORM session is flushed.</p>
<div class="section"><h4 class="sectiontitle">Syntax</h4><pre>EntitySave(entity, [forceinsert])</pre>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e58692"><p>Parameter</p>
</th>
<th valign="top" width="NaN%" id="d17e58695"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e58692 "><p><samp class="codeph">entity</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e58695 "><p>The Entity that needs to be saved in the
database.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e58692 "><p><samp class="codeph">forceinsert</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e58695 "><p>If true, then ColdFusion always tries to
insert the entity as a new record.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Example:</h4><pre>&lt;cfset artist = EntityNew("Artist")&gt; 
&lt;cfset artist.setFirstName("Marcia")&gt; 
&lt;cfset artist.setlastName("Em")&gt; 
&lt;cfset EntitySave(artist)&gt;</pre>
</div>
</div></div>
<div id="WSf01dbd23413dda0e54af3c7912012f78097-7ff9" class="nochunk"><a name="WSf01dbd23413dda0e54af3c7912012f78097-7ff9"><!-- --></a><h2 class="topictitle2">Update objects</h2><div><p><samp class="codeph">EntitySave</samp></p>
<p>The method to update an object is the same as saving an object.
Load the object that needs to be updated, make updates, and save
the object. </p>
<div class="section"><h4 class="sectiontitle">Syntax</h4><pre>EntitySave(entity, [forceinsert])</pre>
</div>
<div class="section"><h4 class="sectiontitle">Example</h4><p>The following example changes
the first name of an artist with an Artist ID 1:</p>
<pre>&lt;cfset artist1 = EntityLoad("Artist", 1, true)&gt; 
&lt;cfset artist1.setFirstName("Garcia")&gt; 
&lt;cfset EntitySave(artist1)&gt;</pre>
</div>
</div></div>
<div id="WSf01dbd23413dda0e54af3c7912012f78097-7ff8" class="nochunk"><a name="WSf01dbd23413dda0e54af3c7912012f78097-7ff8"><!-- --></a><h2 class="topictitle2">Read/Load objects</h2><div><p>Entities are loaded using the <samp class="codeph">EntityLoad</samp> methods.
All <samp class="codeph">EntityLoad</samp> methods take the entity name as
input.</p>
<p>If the persistent CFC has an <samp class="codeph">init</samp> method, the
methods call the <samp class="codeph">init</samp> method while creating objects.</p>
<div class="section"><h4 class="sectiontitle">Syntax</h4><pre>EntityLoad (entityname) 
EntityLoad (entityname, id [, unique]) 
EntityLoad (entityname, filtercriteria [,unique] 
EntityLoad(entityname, filtercriteria, sortorder [, options]) 
EntityLoadByExample(sampleentity [, unique]) 
EntityReload(entity)</pre>
</div>
<div class="section"><h4 class="sectiontitle">Examples</h4><ul><li><p><samp class="codeph">EntityLoad (entityname)</samp></p>
<p>Loads
and returns an array of entities of the specified entity name. For example,
to retrieve all the objects of the “artist” CFC:</p>
<pre>&lt;cfset artist = EntityLoad('ARTIST')&gt;</pre>
</li>
<li><p><samp class="codeph">EntityLoad (entityname, id [, unique])</samp></p>
<p>Loads
and returns an entity whose Primary key's value is id. The entity
is returned as an array by default. If unique is true, then the
entity is returned.</p>
<p>If the entity has a composite key, then
the id has to be specified as key-value pairs (ColdFusion struct).</p>
<p>Example
1: </p>
<p>This example loads the Artist object with PK 100 and returns
a single-element array containing the artist object.</p>
<pre>&lt;cfset artistArr = EntityLoad('Artist', 100)&gt;</pre>
<p>Example
2:</p>
<p>This example loads the Artist object with PK 100 and returns
the artist object.</p>
<pre>&lt;cfset artistobj = EntityLoad('Artist', 100, true)&gt;</pre>
<p>Example
3:</p>
<p>This example loads the OrderDetail object which has the
composite key OrderID=100 and ProductID=1 and returns the orderdetail
object.</p>
<pre>&lt;cfset orderDetail = EntityLoad('orderdetails', {OrderID=100, ProductID=1}, true)&gt;</pre>
</li>
<li><p><samp class="codeph">EntityLoad (entityname, filtercriteria [,unique]</samp></p>
<p>Loads
and returns an array of entities of the given entity name that matches the <samp class="codeph">filtercriteria</samp>. <samp class="codeph">filtercriteria</samp> is
a key-value pair (ColdFusion struct) of property names and its values.
If there are more than one key-value pair in <samp class="codeph">filtercriteria</samp>,
then they always use the AND operator. If you are sure that only
one record exists that matches this <samp class="codeph">filtercriteria</samp>, <samp class="codeph">unique=true</samp> can
be specified so that a single entity is returned instead of an array.
If <samp class="codeph">unique=true</samp> and multiple records are returned,
then an exception occurs. For example, to retrieve details of all
artists that have state ‘CA’:</p>
<pre>&lt;cfset artistsFromCA = EntityLoad('Artist', {state="CA"})&gt;</pre>
<p>To
retrieve a unique object, specify<samp class="codeph"> unique= "true"</samp>.
If more than one object satisfies the condition, an exception occurs.</p>
<p>This
example loads the artist object whose firstName is "Austin" and
lastname is "Weber".</p>
<pre>&lt;cfset artist = EntityLoad('artist', {firstname="Austin", lastname="Weber"}, "true")&gt;</pre>
</li>
<li><p><samp class="codeph">EntityLoad(entityname,filtercriteria,sortorder[, options])</samp></p>
<p>Loads
and returns an array of entities that satisfy the <samp class="codeph">filtercriteria</samp> that is
sorted as specified by the <samp class="codeph">sortorder</samp> parameter.</p>
<p><samp class="codeph">filtercriteria</samp> is
a key-value pair (ColdFusion struct) of property names and its values.
If there are more than one key-value pairs in <samp class="codeph">filtercriteria</samp>,
then they always use the AND operator.</p>
<p><samp class="codeph">sortorder</samp> is
a string, and should be specified in the following syntax:</p>
<p>"propname1
asc, propname2 desc, ..."</p>
<p>Some examples of <samp class="codeph">sortorder</samp> are
as follows:</p>
<p>"firstname asc, lastname desc"</p>
<p>"firstname"</p>
<p>"country,
age desc"</p>
<p>Example: </p>
<p>To retrieve artists whose state
is CA, and sorted by City and FirstName:</p>
<pre>&lt;cfset artistsFromCA = EntityLoad('artist', {state="CA"}, "city asc, firstName")&gt;</pre>
<p>Certain
configuration options can be input as name-value pairs as options argument.
Several options can be specified to control the behavior of entity retrieval.</p>
<ul><li><p><samp class="codeph">maxResults</samp>: Specifies the maximum number
of objects to be retrieved.</p>
</li>
<li><p><samp class="codeph">offset</samp>: Specifies the start index of the
resultset from where it has to start the retrieval.</p>
</li>
<li><p><samp class="codeph">cacheable</samp>: Whether the result of this query
is to be cached in the secondary cache. Default is false.</p>
</li>
<li><p><samp class="codeph">cachename</samp>: Name of the cache in secondary
cache.</p>
</li>
<li><p><samp class="codeph">timeout</samp>: Specifies the timeout value (in
seconds) for the query.</p>
</li>
</ul>
<p><samp class="codeph">Maxresults</samp> and <samp class="codeph">timeout</samp> are
used for pagination.</p>
<p><strong>Example</strong></p>
<p>To load first 5
artists whose state is "CA" that are sorted on the firstName.</p>
<pre>&lt;cfset artists = EntityLoad("Artist",{state='CA"}, "FirstName", {maxResults=5})&gt;</pre>
</li>
<li><p><samp class="codeph">EntityLoadByExample(sampleentity [,unique])</samp></p>
<p>Loads
and returns an array of objects that match the <samp class="codeph">sampleentity</samp>.
The filter criteria is constructed by ANDing all the non-null properties
of the <samp class="codeph">sampleentity</samp>.For example, to retrieve an
array of objects matching the specified values:</p>
<pre>&lt;cfset artist= CreateObject("component", "artist")&gt; 
&lt;cfset artist.setState("CA")&gt; 
&lt;cfset artist.setCity("Berkeley")&gt; 
&lt;cfset artist=EntityLoadByExample(artist)&gt;</pre>
<p>If
you are sure that only one record exists that matches the specified <samp class="codeph">filtercriteria</samp>,
you can specify <samp class="codeph">unique=true</samp> so that a single entity
is returned instead of an array. If <samp class="codeph">unique=true</samp> and
multiple records are returned, then an exception occurs.</p>
</li>
<li><p><samp class="codeph">EntityReload(entity)</samp></p>
<p>Reloads data
for an entity that is already loaded in this session. This method refetches
data from the database and repopulates the entity.</p>
</li>
</ul>
</div>
</div></div>
<div id="WSf01dbd23413dda0e54af3c7912012f78097-7ff7" class="nochunk"><a name="WSf01dbd23413dda0e54af3c7912012f78097-7ff7"><!-- --></a><h2 class="topictitle2">Delete objects</h2><div><p>EntityDelete</p>
<p>This method deletes the record from the database for the specified
entity. Depending on the cascade attribute specified in the mapping,
it also deletes the associated objects.</p>
<div class="section"><h4 class="sectiontitle">Syntax</h4><p><samp class="codeph">EntityDelete(entity)</samp></p>
</div>
<div class="section"><h4 class="sectiontitle">Example</h4><p>For example, to delete an Artist
with ArtistID 5:</p>
<pre>&lt;cfset artist = EntityLoad('artist', 5, true)&gt; 
&lt;cfset EntityDelete(artist)&gt;</pre>
</div>
</div></div>
<div id="WS52840ce61dea8508-7d449d6a1223153bfd4-8000" class="nochunk"><a name="WS52840ce61dea8508-7d449d6a1223153bfd4-8000"><!-- --></a><h2 class="topictitle2">Convert object to query</h2><div><p><samp class="codeph">EntitytoQuery</samp>This method converts the
input entity object or the input array of entity objects to a query
object. The name of the properties are used as the query column
names. Use the optional parameter <samp class="codeph">Entity_name</samp> to
return the query of the given entity in the case of inheritance
mapping. All the objects in the input array should be of the same
type. Relationship properties are not be included in the result
query.</p>
<div class="section"><h4 class="sectiontitle">Syntax</h4><div class="para"><pre>EntitytoQuery (orm_object, [entity_name]) 
EntitytoQuery (orm_object_array, [entity_name])</pre>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Example 1</h4><pre>&lt;cfset artists = EntityLoad("Artist")&gt; 
&lt;cfset artistQuery = EntityToQuery(artists)&gt;</pre>
</div>
<div class="section"><h4 class="sectiontitle">Example 2</h4><div class="para"><pre>&lt;cfset creditCardPayments = EntityLoad("CreditCardPayment")&gt; 
&lt;cfset paymentQuery = EntityToQuery(creditCardPayments, "payment")&gt;</pre>
</div>
</div>
</div></div>
<div id="WS25dc2c49b27459df-487e93123943c7dab-8000" class="nochunk"><a name="WS25dc2c49b27459df-487e93123943c7dab-8000"><!-- --></a><h2 class="topictitle2">Merge entities</h2><div><p><samp class="codeph">EntityMerge</samp></p>
<p>To attach an entity to the current ORM session you can use the
entitymerge function. It copies the state of the given object onto
the persistent object with the same identifier and returns the persistent
object. </p>
<p>If there is no persistent instance currently associated with
the session, it is loaded. The given instance is not associated
with the session. You need to use the returned object from this
session. For details, see <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSfd7453be0f56bba437188258123092b394c-7fff.html" target="_self">EntityMerge</a> in <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference</i>.</p>
</div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSf0ed2a6d7fb07688310730d81223d0356fc-7fff.html" title="Generated methods for relationships between CFCs"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSf0ed2a6d7fb07688310730d81223d0356fc-7ffe.html" title="Using queries"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSD628ADC4-A5F7-4079-99E0-FD725BE9B4BD.html"><b>ColdFusion ORM</b></a> 
      / <a href="WS8826399A-14A2-45d3-95DF-9963DA73C087.html"><b>Working with objects</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>