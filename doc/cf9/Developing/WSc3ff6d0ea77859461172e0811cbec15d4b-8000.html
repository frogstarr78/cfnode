<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * About SMS and ColdFusion</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec15d4b-8000.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec15d4b-8000.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec22c24-77f6.html" title="Using the SMS Event Gateway"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec22c24-6034.html" title="Configuring an SMS event gateway"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd865267-8000.html"><b>Using External Resources</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-77f6.html"><b>Using the SMS Event Gateway</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>About SMS and ColdFusion</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec15d4b-7fff"><span class="topictitle1">About SMS</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec15d4b-7fe6"><span class="topictitle1">About SMS application development and deployment</span>
</a></p><ul><li><p><a href="#WSf01dbd23413dda0e534c3c5412013d36366-8000"><span class="topictitle2">ColdFusion SMS application tools</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e534c3c5412013d36366-7fff"><span class="topictitle2">Application development and deployment process</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e534c3c5412013d36366-7ffe"><span class="topictitle2">About SMS providers</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec15d4b-7ffb"><span class="topictitle1">How the SMS event gateway and provider SMSC interact</span>
</a></p><ul><li><p><a href="#WSf01dbd23413dda0e534c3c5412013d36366-7ffd"><span class="topictitle2">Gateway binding</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e534c3c5412013d36366-7ffc"><span class="topictitle2">Incoming PDU handling</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e534c3c5412013d36366-7ffb"><span class="topictitle2">Outgoing message handling</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0e534c3c5412013d36366-7ffa"><span class="topictitle2">Outgoing message synchronization and notification</span>
</a></p></li></ul></li></ul></div></div></div></div><div><p>Short Message Service (SMS) is a
system designed for sending short, often text, messages to and from
wireless devices, such as mobile phones or pagers. SMS is widely
used in Europe and Asia and is becoming increasingly popular in
the United States and elsewhere. Some uses for SMS include the following:</p>
<ul><li><p>Performing banking transactions</p>
</li>
<li><p>Sending authentication codes, for example, to be used to
access web resources</p>
</li>
<li><p>Voting, such as popularity voting for reality television
shows</p>
</li>
<li><p>Initiating an action (such as a server restart) and getting
a response</p>
</li>
<li><p>Notifying users of events such as package shipments or restaurant
table availability, or providing stock or weather alerts</p>
</li>
<li><p>Sending person-to-person text messages</p>
</li>
<li><p>Presenting interactive text-based menus on a mobile phone</p>
</li>
<li><p>Providing cellular phone updates, such as direct download
of logos</p>
</li>
<li><p>Providing telematics and mobile or remote wireless device
applications, such as soda machines, vehicle tracking, smart gas
pumps, and so on</p>
</li>
</ul>
<p>SMS protocol features include, but are not limited to, the following:</p>
<ul><li><p>Authentication verification is built in.</p>
</li>
<li><p>Communications can be secure.</p>
</li>
<li><p>Store and forward communication is performed in near real
time.</p>
</li>
<li><p>Communications can be two-way and session-aware.</p>
</li>
<li><p>Mobile devices such as mobile phones already include support;
you do not install software on the client.</p>
</li>
</ul>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbec15d4b-7fff" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec15d4b-7fff"><!-- --></a><h2 class="topictitle2">About SMS</h2><div><p>The following
discussion simplifies SMS technology and describes only a typical use
with a ColdFusion application. For a more complete discussion of
SMS, see the publicly available literature, including the several
books that discuss SMS.</p>
<p>In a ColdFusion
SMS application, a mobile device such as a mobile phone communicates
(via intermediate steps) with a message center, such as a short message
service center (SMSC). For example, a mobile phone user calls a telephone
number that the SMS provider has associated with your account; the SMSC
gets the messages that are sent to this number. The SMSC can store
and forward messages. A ColdFusion application can initiate messages
to wireless devices, or it can respond to incoming messages from
the devices.</p>
<p>The SMSC communicates with a ColdFusion
SMS event gateway using short message peer-to-peer protocol (SMPP)
over TCP/IP. Information is transferred by exchanging Protocol Data
Units (PDUs) with structures that depend on the type of transaction,
such as a normal message submission, a binary data submission, or
a message intended for multiple recipients.</p>
<p>Because the SMSC is a store-and-forward server, it can hold messages
that cannot be immediately delivered and try to deliver them when
the receiving device is available. The SMSC provider configures
the time that a message is held on the server for delivery. For
example, AT&amp;T Wireless saves messages for 72 hours; after that
time, any undelivered messages are deleted. Your messages can request
a different time-out (by specifying a <samp class="codeph">ValidityPeriod</samp> field).
The message can also use a <samp class="codeph">registeredDelivery</samp> field
to tell the SMSC to inform you about whether and when the message
is delivered.</p>
<p>SMS communication
can be secure. Voice and data communications, including SMS message
traffic between the SMSC and the mobile device is encrypted as part
of the GSM standard. The SMSC authenticates the mobile user's identity before
the encrypted communication session begins. Secure the communications
between ColdFusion and the SMSC. Typically, you use a secure hardware
or software VPN connection around the SMPP connection.</p>
<p>The following image shows the SMS path between mobile devices
and ColdFusion gateways:</p>
<div xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema" class="fignone"><a href="#" onclick="return showHideImage('us_sms', this);">View full size graphic</a><img alt="" id="us_sms" src="images/us_sms.png" /></div><p>Using the SMS event gateway, ColdFusion establishes a two-way
(transceiver) connection to the SMSC of the telecommunications carrier
or other SMPP account provider. The SMPP provider assigns an address
for your account, and you associate an event gateway instance with
the address. Addresses are normally telephone numbers, but carriers
often support “short code” addresses that do not require a full
10-digit number. You also configure the gateway instance to communicate
with the provider’s specified TCP/IP address using a system ID and
a password.</p>
<div class="note"><span class="notetitle">Note:  </span>The ColdFusion SMS event gateway conforms to
the SMPP 3.4 specification, which you can download from the SMS
Forum at <a href="http://www.smsforum.net/" target="_self">www.smsforum.net</a>.</div>
<p>A ColdFusion application can initiate and send messages to SMS-enabled
devices by specifying the destination mobile device telephone number,
or mobile devices can send messages to a ColdFusion listener CFC
by using the gateway instance’s telephone number. Incoming messages
include the sender’s number, so listener CFCs can respond to messages
sent by mobile devices.</p>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec15d4b-7fe6" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec15d4b-7fe6"><!-- --></a><h2 class="topictitle2">About SMS application development and deployment</h2><div><p>To develop an SMS gateway application, you use the ColdFusion
SMS application development tools and process to interact with SMS
messaging providers.</p>
</div><div id="WSf01dbd23413dda0e534c3c5412013d36366-8000" class="nochunk"><a name="WSf01dbd23413dda0e534c3c5412013d36366-8000"><!-- --></a><h3 class="topictitle3">ColdFusion SMS application tools</h3><div><p>ColdFusion provides the following
tools for developing SMS applications:</p>
<dl><dt class="dlterm">SMSGateway</dt>
<dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">The class for the SMS event gateway type</dd><p class="dlseparator"></p><dt class="dlterm">SMS test server</dt>
<dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">A lightweight SMSC simulator</dd><p class="dlseparator"></p><dt class="dlterm">SMS client simulator</dt>
<dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">A graphical interface for sending and receiving SMS messages
with the SMS test server</dd><p class="dlseparator"></p></dl>
<p>You implement your SMS application by creating a ColdFusion application
that uses an instance of the SMSGateway class to communicate with
one or more SMSCs. You can use the SMS testing server and client
simulator to test your application without requiring an outside
SMS service provider. </p>
</div></div><div id="WSf01dbd23413dda0e534c3c5412013d36366-7fff" class="nochunk"><a name="WSf01dbd23413dda0e534c3c5412013d36366-7fff"><!-- --></a><h3 class="topictitle3">Application development and deployment process</h3><div><p>The
following is a typical process for developing and deploying an SMS
application:</p>
<ol><li><p>Design your application.</p>
</li>
<li><p>Configure an SMS event gateway instance to use the ColdFusion
SMS test server.</p>
</li>
<li><p>Write your ColdFusion CFCs, CFM pages, and any other application
elements.</p>
</li>
<li><p>Test your application using the test server and client simulator.</p>
</li>
<li><p>Establish an SMPP account with a telecommunications provider.</p>
</li>
<li><p>Reconfigure your event gateway, or create an event gateway
instance, to use your telecommunications provider’s SMSC. Configure
the gateway using the information supplied by your provider.</p>
</li>
<li><p>Test your application using the telecommunications provider’s
SMSC and target mobile devices.</p>
</li>
<li><p>Make the application publicly available.</p>
</li>
</ol>
</div></div><div id="WSf01dbd23413dda0e534c3c5412013d36366-7ffe" class="nochunk"><a name="WSf01dbd23413dda0e534c3c5412013d36366-7ffe"><!-- --></a><h3 class="topictitle3">About SMS providers</h3><div><p>Before you
can deploy an SMS application, establish an account with a provider that
supports SMPP 3.4 over TCP/IP. Two kinds of providers exist:</p>
<ul><li><p>Telecommunications carriers such as nation-wide cellular
phone providers</p>
</li>
<li><p>Third-party SMPP aggregators</p>
</li>
</ul>
<p>The type of provider and specific provider you use depend on
your needs and provider capabilities and price structures. Less
expensive providers could have slower response times. Telecommunications
carriers could be more expensive but might provide more throughput
and faster SMPP response times.</p>
</div></div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec15d4b-7ffb" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec15d4b-7ffb"><!-- --></a><h2 class="topictitle2">How the SMS event gateway and provider SMSC interact</h2><div><p>This following information
provides a brief overview of the interactions between the ColdFusion
SMS event gateway and the SMPP provider’s SMSC. It is designed to
help you to understand the basics of SMPP interactions, and defines
the terms necessary to for you to understand gateway configuration
and message handling. For more details, see the SMPP specification,
which is available at www.smsforum.net/.</p>
<p>A typical interaction between an SMSC and a ColdFusion SMS event
gateway instance consists of messages, or PDUs sent between the
two entities, such as a mobile device and a ColdFusion event gateway
instance (and therefore, and event gateway application). </p>
</div><div id="WSf01dbd23413dda0e534c3c5412013d36366-7ffd" class="nochunk"><a name="WSf01dbd23413dda0e534c3c5412013d36366-7ffd"><!-- --></a><h3 class="topictitle3">Gateway binding</h3><div><p>The
event gateway must <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">bind</i> to the SMSC before they can communicate.
The SMS event gateway instance initiates a binding by sending a
bind_transceiver PDU to the SMSC, which includes the gateway’s ID
and password. If the initial bind request fails, the gateway retries
the bind at the rate specified by the gateway configuration file
retry-interval value until either the bind is successful or the
gateway reaches the maximum number of retries, specified by the
retries configuration value. If the bind operation fails, ColdFusion
logs an error to the eventgateway.log file, and you restart the
gateway instance in the ColdFusion Administrator to establish the
connection.</p>
<div class="note"><span class="notetitle">Note:  </span>Some SMSCs can send a prohibited status in response
to a bind request. If the gateway receives such a status response,
it sets the retry interval to one minute and the maximum number
of retries to 15. The SMS gateway detects SMPP 5.0-compliant and
AT&amp;T prohibited status responses.</div>
<p>When the SMSC accepts the bind request, it returns a bind_transceiver_resp
PDU. The binding remains in effect until the gateway instance shuts
down and sends an unbind PDU to the SMSC. Because the gateway binds
as a transceiver, it can initiate messages to the SMSC, and the
SMSC can send messages to it.</p>
</div></div><div id="WSf01dbd23413dda0e534c3c5412013d36366-7ffc" class="nochunk"><a name="WSf01dbd23413dda0e534c3c5412013d36366-7ffc"><!-- --></a><h3 class="topictitle3">Incoming PDU handling</h3><div><p>If
the ColdFusion SMS event gateway gets an Unbind PDU from the SMSC,
it sends an unbind_resp PDU to the SMSC, does a restart, and attempts
to rebind to the SMSC. </p>
<p>When the event gateway receives an EnquireLink or any other request
PDU from the SMSC, it sends a default response to the SMSC.</p>
<p>The gateway receives incoming messages from the SMSC in deliver
_sm PDUs; it does not handle data_sm PDUs. Deliver_sm PDUs can contain
user- or application-generated messages, or disposition responses
for messages that the gateway has sent. The gateway extracts the
short message field and source and destination addresses from the
PDU, places them in a CFEvent object, and sends the object to ColdFusion
event gateway services for delivery to the listener CFC. For information
on how the CFML application must handle these incoming messages,
see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-77e1.html">Handling incoming messages</a>.</p>
</div></div><div id="WSf01dbd23413dda0e534c3c5412013d36366-7ffb" class="nochunk"><a name="WSf01dbd23413dda0e534c3c5412013d36366-7ffb"><!-- --></a><h3 class="topictitle3">Outgoing message handling</h3><div><p>The
gateway supports three types of outgoing messages from ColdFusion
applications. The CFML <samp class="codeph">sendGatewayMessage</samp> function
or a listener CFC method <samp class="codeph">cfreturn</samp> tag can specify
the following commands:</p>
<dl><dt class="dlterm">submit</dt>
<dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">Sends a submit_sm PDU with the message contents to the SMSC.
This PDU sends a message to a single destination.</dd><p class="dlseparator"></p><dt class="dlterm">submitMulti</dt>
<dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">Sends a submit_multi PDU with the message contents to the SMSC.
This PDU sends a message to multiple destinations.</dd><p class="dlseparator"></p><dt class="dlterm">data</dt>
<dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">Sends a data_sm PDU with the message contents to the SMSC.
This command is an alternative to the submit command, and interactive
applications such as those provided via a wireless application protocol
(WAP) framework typically use it.</dd><p class="dlseparator"></p></dl>
<p>The SMS gateway lets you control the contents of all of the fields
of these PDUs. For more information on the individual commands,
see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-77e0.html">Sending outgoing messages</a>.</p>
<p>When you send a message, if the SMSC responds with a status that
indicates that the message was rejected or not sent, ColdFusion
logs information about the failure in the eventgateway.log file.
If the SMSC indicates that the service type is not available (SMPP
v5 ESME_RSERTYPUNAVAIL status or AT&amp;T Serviced denied status),
and the gateway configuration file transient-retry value is set
to yes, the gateway also tries to resend the message.</p>
</div></div><div id="WSf01dbd23413dda0e534c3c5412013d36366-7ffa" class="nochunk"><a name="WSf01dbd23413dda0e534c3c5412013d36366-7ffa"><!-- --></a><h3 class="topictitle3">Outgoing message synchronization and notification</h3><div><p>The gateway and SMSC communicate asynchronously: the gateway
does not wait for a response from the SMSC for one message before
it sends another message. However, you can configure your gateway
instance so that the CFML <samp class="codeph">sendGatewayMessage</samp> function
behaves asynchronously or synchronously. </p>
<ul><li><p>In <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">asynchronous mode</i>,
the function returns when the message is queued in ColdFusion gateway
services. </p>
</li>
<li><p>In <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">synchronous mode</i>,
the function waits until the SMSC receives the message and returns
a message ID, or an error occurs. </p>
</li>
</ul>
<p>For more information on configuring message synchronization and
sending messages synchronously, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-77df.html">Controlling SMS message sending and response</a>.</p>
</div></div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec22c24-77f6.html" title="Using the SMS Event Gateway"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec22c24-6034.html" title="Configuring an SMS event gateway"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd865267-8000.html"><b>Using External Resources</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-77f6.html"><b>Using the SMS Event Gateway</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>