<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Performing file operations with cfftp</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec22c24-7806.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec22c24-7806.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec1529c-7ff3.html" title="Using the cfhttp Post method"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec1553c-7fe8.html" title="Managing Files on the Server"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd865267-8000.html"><b>Using External Resources</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7306.html"><b>Interacting with Remote Servers</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Performing file operations with cfftp</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSf01dbd23413dda0eea7aa64120136d462f-7ff9"><span class="topictitle1">Open an FTP connection and retrieve a file listing</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec1529c-7fe9"><span class="topictitle1">Caching connections across multiple pages</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec1529c-7fee"><span class="topictitle1">Connection actions and attributes</span>
</a></p></li></ul></div></div></div></div><div><p>The <samp class="codeph">cfftp</samp> tag lets you
perform tasks on remote servers using File Transfer Protocol (FTP).
You can use <samp class="codeph">cfftp</samp> to cache connections for batch
file transfers when uploading or downloading files.</p>
<div class="note"><span class="notetitle">Note:  </span>To use <samp class="codeph">cfftp</samp>, select the Enable
ColdFusion Security option on the Sandbox Security page in the Security
area in the ColdFusion Administrator. (In the Standard Edition,
select Security &gt; Basic Security.)</div>
<p>For server/browser operations, use the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7fa1.html" target="_self">cffile</a>, <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7c82.html" target="_self">cfcontent</a>, and <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7f99.html" target="_self">cfdirectory</a> tags.</p>
<p>Using <samp class="codeph">cfftp</samp> involves two major types of operations:
connecting, and transferring files. The FTP protocol also provides
commands for listing directories and performing other operations.
For a complete list of attributes that support FTP operations and
additional details on using the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7c7d.html" target="_self">cfftp</a> tag, see the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">CFML Reference.</i></p>
</div>
<div id="WSf01dbd23413dda0eea7aa64120136d462f-7ff9" class="nochunk"><a name="WSf01dbd23413dda0eea7aa64120136d462f-7ff9"><!-- --></a><h2 class="topictitle2">Open an FTP connection and retrieve a file listing</h2><div><ol><li><p>Create
a ColdFusion page with the following content:</p>
<pre>&lt;html&gt; 
&lt;head&gt; 
    &lt;title&gt;FTP Test&lt;/title&gt; 
&lt;/head&gt; 
 
&lt;body&gt; 
&lt;h1&gt;FTP Test&lt;/h1&gt; 
&lt;!--- Open ftp connection ---&gt; 
&lt;cfftp connection="Myftp" 
    server="MyServer" 
    username="MyUserName" 
    password="MyPassword" 
    action="Open" 
    stoponerror="Yes"&gt; 
 
&lt;!--- Get the current directory name. ---&gt; 
&lt;cfftp connection=Myftp 
    action="GetCurrentDir" 
    stoponerror="Yes"&gt; 
 
&lt;!--- output directory name ---&gt; 
&lt;cfoutput&gt; 
    The current directory is:#cfftp.returnvalue#&lt;p&gt; 
&lt;/cfoutput&gt; 
 
&lt;!--- Get a listing of the directory. ---&gt; 
&lt;cfftp connection=Myftp 
    action="listdir" 
    directory="#cfftp.returnvalue#" 
    name="dirlist" 
    stoponerror="Yes"&gt; 
&lt;!--- Close the connection.---&gt; 
&lt;cfftp action="close" connection="Myftp"&gt; 
&lt;p&gt;Did the connection close successfully?  
    &lt;cfoutput&gt;#cfftp.succeeded#&lt;/cfoutput&gt;&lt;/p&gt; 
 
&lt;!--- output dirlist results ---&gt; 
&lt;hr&gt; 
&lt;p&gt;FTP Directory Listing:&lt;/p&gt; 
 
&lt;cftable query="dirlist" colheaders="yes" htmltable&gt; 
    &lt;cfcol header="&lt;B&gt;Name&lt;/b&gt;" TEXT="#name#"&gt; 
    &lt;cfcol header="&lt;B&gt;Path&lt;/b&gt;" TEXT="#path#"&gt; 
    &lt;cfcol header="&lt;B&gt;URL&lt;/b&gt;" TEXT="#url#"&gt; 
    &lt;cfcol header="&lt;B&gt;Length&lt;/b&gt;" TEXT="#length#"&gt; 
    &lt;cfcol header="&lt;B&gt;LastModified&lt;/b&gt;" 
    TEXT="#DateFormat(lastmodified)#"&gt; 
    &lt;cfcol header="&lt;B&gt;IsDirectory&lt;/b&gt;" 
        TEXT="#isdirectory#"&gt; 
&lt;/cftable&gt;</pre>
</li>
<li><p>Change <samp class="codeph">MyServer</samp> to the name of a server
for which you have FTP permission.</p>
</li>
<li><p>Change <samp class="codeph">MyUserName</samp> and <samp class="codeph">MyPassword</samp> to
a valid user name and password.</p>
<p>To establish an anonymous
connection, enter “anonymous” as the user name and an e-mail address
(by convention) for the password.</p>
</li>
<li><p>Save the file as ftp_connect.cfm in the myapps directory
under your <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">web_root</i> and view it in the web browser.</p>
</li>
</ol>
<div class="section" id="WSf01dbd23413dda0eea7aa64120136d462f-7ff9__WSc3ff6d0ea77859461172e0811cbec1529c-7fea"><a name="WSf01dbd23413dda0eea7aa64120136d462f-7ff9__WSc3ff6d0ea77859461172e0811cbec1529c-7fea"><!-- --></a><h4 class="sectiontitle">Reviewing the code</h4><p>The following table describes the code and its
function:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e113309"><p>Code</p>
</th>
<th valign="top" width="NaN%" id="d17e113312"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e113309 "><div class="para"><pre>&lt;cfftp connection="Myftp" server="MyServer" username="MyUserName" password="MyPassword" action="Open" stoponerror="Yes"&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e113312 "><p>Open an FTP connection to the MyServer server
and log on as MyUserName. If an error occurs, stop processing and
display an error. You can use this connection in other <samp class="codeph">cfftp</samp> tags
by specifying the Myftp connection.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113309 "><div class="para"><pre>&lt;cfftp connection=Myftp action="GetCurrentDir" stoponerror="Yes"&gt; 
&lt;cfoutput&gt; 
The current directory is: #cfftp.returnvalue#&lt;p&gt; 
&lt;/cfoutput&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e113312 "><p>Use the Myftp connection to get the name
of the current directory; stop processing if an error occurs. </p>
<p>Display
the current directory.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113309 "><div class="para"><pre>&lt;cfftp connection=Myftp action="ListDir" directory="#cfftp.returnvalue#" name="dirlist" stoponerror="Yes"&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e113312 "><p>Use the Myftp connection to get a directory
listing. Use the value returned by the last <samp class="codeph">cfftp</samp> call
(the current directory of the connection) to specify the directory
to list. Save the results in a variable named dirlist (a query object).
Stop processing if an error occurs.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113309 "><div class="para"><pre>&lt;cfftp action="close" connection="Myftp"&gt; 
&lt;p&gt;Did the connection close successfully? 
&lt;cfoutput&gt;#cfftp.succeeded#&lt;/cfoutput&gt;&lt;/p&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e113312 "><p>Close the connection, and do not stop processing
if the operation fails (because you can still use the results).
Instead, display the value of the <samp class="codeph">cfftp.succeeded</samp> variable,
which is <samp class="codeph">Yes</samp> if the connection is closed, and <samp class="codeph">No</samp> if
the operation failed.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113309 "><div class="para"><pre>&lt;cftable query="dirlist" colheaders="yes" htmltable&gt; 
&lt;cfcol header="&lt;B&gt;Name&lt;/b&gt;" TEXT="#name#"&gt; 
&lt;cfcol header="&lt;B&gt;Path&lt;/b&gt;" TEXT="#path#"&gt; 
&lt;cfcol header="&lt;B&gt;URL&lt;/b&gt;" TEXT="#url#"&gt; 
&lt;cfcol header="&lt;B&gt;Length&lt;/b&gt;" TEXT="#length#"&gt; 
&lt;cfcol header="&lt;B&gt;LastModified&lt;/b&gt;" TEXT="#DateFormat(lastmodified)#"&gt; 
&lt;cfcol header="&lt;B&gt;IsDirectory&lt;/b&gt;" TEXT="#isdirectory#"&gt; 
&lt;/cftable&gt;</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e113312 "><p>Display a table with the results of the
ListDir FTP command.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>After you establish a connection with <samp class="codeph">cfftp</samp>,
you can reuse the connection to perform additional FTP operations
until either you or the server closes the connection. When you access
an already-active FTP connection, you need not respecify the user
name, password, or server. In this case, make sure that when you
use frames, only one frame uses the connection object.</p>
<div class="note"><span class="notetitle">Note:  </span>For a single simple FTP operation, such as GetFile
or PutFile, you need not establish a connection. Specify all the
necessary login information, including the server and any login
and password, in the single <samp class="codeph">cfftp</samp> request.</div>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec1529c-7fe9" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec1529c-7fe9"><!-- --></a><h2 class="topictitle2">Caching connections across multiple pages</h2><div><p>The
FTP connection established by the <a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7c7d.html" target="_self">cfftp</a> tag is maintained only in the
current page unless you explicitly assign the connection to a variable
with Application or Session scope.</p>
<p>Assigning
a <samp class="codeph">cfftp</samp> connection to an application variable could
cause problems, since multiple users could access the same connection
object at the same time. Creating a session variable for a <samp class="codeph">cfftp</samp> connection
makes more sense, because the connection is available to only one
client and does not last past the end of the session.</p>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec1529c-7fe9__WSc3ff6d0ea77859461172e0811cbec1529c-7ffd"><a name="WSc3ff6d0ea77859461172e0811cbec1529c-7fe9__WSc3ff6d0ea77859461172e0811cbec1529c-7ffd"><!-- --></a><h4 class="sectiontitle">Example: caching a connection</h4><pre>&lt;cflock scope="Session" timeout=10&gt; 
&lt;cfftp action="Open" 
    username="anonymous" 
    password="me@home.com" 
    server="ftp.eclipse.com" 
    connection="Session.myconnection"&gt; 
&lt;/cflock&gt;</pre>
<p>In this example, the connection cache
remains available to other pages within the current session. For
this approach to work, enable session variables in your application,
and lock code that uses session variables. For more information
on locking, see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7fd4.html">Using Persistent Data and Locking</a>.</p>
<div class="note"><span class="notetitle">Note:  </span>Changing
connection characteristics, such the <samp class="codeph">retrycount</samp> or <samp class="codeph">timeout</samp> values,
could require you to re-establish the connection.</div>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec1529c-7fee" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec1529c-7fee"><!-- --></a><h2 class="topictitle2">Connection actions and attributes</h2><div><p>The following table shows
the available <samp class="codeph">cfftp</samp> actions and the attributes
they require when you use a named (that is, cached) connection.
If you do not specify an existing connection name, specify the <samp class="codeph">username</samp>, <samp class="codeph">password</samp>,
and <samp class="codeph">server</samp> attributes.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e113448"><p>Action</p>
</th>
<th valign="top" width="NaN%" id="d17e113451"><p>Attributes</p>
</th>
<th valign="top" width="NaN%" id="d17e113454"><p>Action</p>
</th>
<th valign="top" width="NaN%" id="d17e113457"><p>Attributes</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e113448 "><p>Open</p>
</td>
<td valign="top" width="NaN%" headers="d17e113451 "><p>none</p>
</td>
<td valign="top" width="NaN%" headers="d17e113454 "><p>Rename</p>
</td>
<td valign="top" width="NaN%" headers="d17e113457 "><p>existing</p>
<p>new</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113448 "><p>Close</p>
</td>
<td valign="top" width="NaN%" headers="d17e113451 "><p>none</p>
</td>
<td valign="top" width="NaN%" headers="d17e113454 "><p>Remove</p>
</td>
<td valign="top" width="NaN%" headers="d17e113457 "><p>server</p>
<p>item</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113448 "><p>ChangeDir</p>
</td>
<td valign="top" width="NaN%" headers="d17e113451 "><p>directory</p>
</td>
<td valign="top" width="NaN%" headers="d17e113454 "><p>GetCurrentDir</p>
</td>
<td valign="top" width="NaN%" headers="d17e113457 "><p>none</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113448 "><p>CreateDir</p>
</td>
<td valign="top" width="NaN%" headers="d17e113451 "><p>directory</p>
</td>
<td valign="top" width="NaN%" headers="d17e113454 "><p>GetCurrentURL</p>
</td>
<td valign="top" width="NaN%" headers="d17e113457 "><p>none</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113448 "><p>ListDir</p>
</td>
<td valign="top" width="NaN%" headers="d17e113451 "><p>name</p>
<p>directory</p>
</td>
<td valign="top" width="NaN%" headers="d17e113454 "><p>ExistsDir</p>
</td>
<td valign="top" width="NaN%" headers="d17e113457 "><p>directory</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113448 "><p>RemoveDir</p>
</td>
<td valign="top" width="NaN%" headers="d17e113451 "><p>directory</p>
</td>
<td valign="top" width="NaN%" headers="d17e113454 "><p>ExistsFile</p>
</td>
<td valign="top" width="NaN%" headers="d17e113457 "><p>remotefile</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113448 "><p>GetFile</p>
</td>
<td valign="top" width="NaN%" headers="d17e113451 "><p>localfile</p>
<p>remotefile</p>
</td>
<td valign="top" width="NaN%" headers="d17e113454 "><p>Exists</p>
</td>
<td valign="top" width="NaN%" headers="d17e113457 "><p>item</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e113448 "><p>PutFile</p>
</td>
<td valign="top" width="NaN%" headers="d17e113451 "><p>localfile</p>
<p>remotefile</p>
</td>
<td valign="top" width="NaN%" headers="d17e113454 "><p>&#160;</p>
</td>
<td valign="top" width="NaN%" headers="d17e113457 "><p>&#160;</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec1529c-7ff3.html" title="Using the cfhttp Post method"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec1553c-7fe8.html" title="Managing Files on the Server"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd865267-8000.html"><b>Using External Resources</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7306.html"><b>Interacting with Remote Servers</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>