<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Handling complex data types</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec22c24-78b2.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec22c24-78b2.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec13a13-7fff.html" title="Using request and response headers"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec13a13-7fde.html" title="Troubleshooting SOAP requests and responses"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd7c7008-8000.html"><b>Using Web Elements and External Objects</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7fbf.html"><b>Using Web Services</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Handling complex data types</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec13a13-7fe6"><span class="topictitle1">Consuming web services that use complex data types</span>
</a></p><ul><li><p><a href="#WSf01dbd23413dda0ed1999a0120146725b1-7ff6"><span class="topictitle2">Passing input parameters to web services as complex types</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0ed1999a0120146725b1-7ff5"><span class="topictitle2">Handling return values as complex types</span>
</a></p></li></ul></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-78ad"><span class="topictitle1">Publishing web services that use complex data types</span>
</a></p><ul><li><p><a href="#WSf01dbd23413dda0ed1999a0120146725b1-7ff4"><span class="topictitle2">Publishing structures</span>
</a></p></li><li><p><a href="#WSf01dbd23413dda0ed1999a0120146725b1-7ff3"><span class="topictitle2">Publishing queries</span>
</a></p></li></ul></li></ul></div></div></div></div><div><p>When dealing with web
services, handling complex types falls into the following categories:</p>
<ul><li><p>Mapping the data types of a web service to consume to
ColdFusion data types</p>
</li>
<li><p>Understanding how clients reference your ColdFusion data
types when you publish a web service</p>
</li>
</ul>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbec13a13-7fe6" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec13a13-7fe6"><!-- --></a><h2 class="topictitle2">Consuming web services that use complex data types</h2><div><p>The following table
shows how WSDL data types are converted to ColdFusion data types:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e102847"><p>ColdFusion data type</p>
</th>
<th valign="top" width="NaN%" id="d17e102850"><p>WSDL data type</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e102847 "><p>numeric</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>SOAP-ENC:double</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e102847 "><p>Boolean</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>SOAP-ENC:boolean</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e102847 "><p>string</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>SOAP-ENC:string</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e102847 "><p>array</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>SOAP-ENC:Array</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e102847 "><p>numeric</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>SOAP-ENC:float</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e102847 "><p>binary</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>xsd:base64Binary</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e102847 "><p>date</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>xsd:dateTime</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e102847 "><p>void (operation returns nothing)</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>&#160;</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e102847 "><p>structure</p>
</td>
<td valign="top" width="NaN%" headers="d17e102850 "><p>complex type</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>This table shows that complex data types map to ColdFusion structures. ColdFusion
structures offer a flexible way to represent data. You can create
structures that contain single-dimension arrays, multi-dimensional
arrays, and other structures. </p>
<p>The ColdFusion mapping of complex types to structures is not
automatic. Accessing the data as a structure requires some processing
of the data. The next sections describe how to pass complex types
to web services, and how to handle complex types returned from web
services. </p>
</div><div id="WSf01dbd23413dda0ed1999a0120146725b1-7ff6" class="nochunk"><a name="WSf01dbd23413dda0ed1999a0120146725b1-7ff6"><!-- --></a><h3 class="topictitle3">Passing input parameters to web services as complex types</h3><div><p>A web service can
take a complex data type as input. In this situation, you can construct
a ColdFusion structure that models the complex data type, then pass the
structure to the web service. </p>
<p>For example, the following excerpt from a WSDL file shows the
definition of a complex type named Employee: </p>
<pre><strong>&lt;s:complexType name="Employee"&gt; </strong> 
    &lt;s:sequence&gt;  
      &lt;s:element minOccurs="1" maxOccurs="1" name="fname" type="s:string" /&gt;  
      &lt;s:element minOccurs="1" maxOccurs="1" name="lname" type="s:string" /&gt;  
      &lt;s:element minOccurs="1" maxOccurs="1" name="active" type="s:boolean" /&gt;  
      &lt;s:element minOccurs="1" maxOccurs="1" name="age" type="s:int" /&gt;  
      &lt;s:element minOccurs="1" maxOccurs="1" name="hiredate" type="s:dateTime" /&gt;  
      &lt;s:element minOccurs="1" maxOccurs="1" name="number" type="s:double" /&gt;  
    &lt;/s:sequence&gt;  
&lt;/s:complexType&gt;</pre>
<p>The Employee data type definition includes six elements, the
data type of each element, and the name of each element. </p>
<p>Another excerpt from the WSDL file shows a message definition
using the Employee data type. This message defines an input parameter,
as the following code shows: </p>
<pre>&lt;message name="updateEmployeeInfoSoapIn"&gt;  
    &lt;part name="thestruct" type="s0:Employee" /&gt;  
&lt;/message&gt;</pre>
<p>A third excerpt from the WSDL file shows the definition of an
operation, named updateEmployeeInfo, possibly one that updates the
employee database with the employee information. This operation
takes as input a parameter of type Employee, as the following code
shows: </p>
<pre>&lt;operation name="updateEmployeeInfo"&gt;  
    <strong>&lt;input message="s0:updateEmployeeInfoSoapIn" /&gt; </strong> 
&lt;/operation&gt;</pre>
<p>To call the updateEmployeeInfo operation, create a ColdFusion
structure, initialize six fields of the structure that correspond
to the six elements of Employee, and then call the operation, as
the following code shows: </p>
<pre>&lt;!--- Create a structure using CFScript, then call the web service. ---&gt; 
&lt;cfscript&gt; 
    stUser = structNew(); 
    stUser.active = TRUE; 
    stUser.fname = "John"; 
    stUser.lname = "Smith"; 
    stUser.age = 23; 
    stUser.hiredate = createDate(2002,02,22); 
    stUser.number = 123.321; 
 
    ws = createObject("webservice", "http://somehost/EmployeeInfo.asmx?wsdl"); 
    ws.updateEmployeeInfo(stUser); 
&lt;/cfscript&gt; </pre>
<p>You can use structures for passing input parameters as complex
types in many situations. However, to build a structure to model
a complex type, inspect the WSDL file for the web service to determine
the layout of the complex type. This process can take some practice. </p>
</div></div><div id="WSf01dbd23413dda0ed1999a0120146725b1-7ff5" class="nochunk"><a name="WSf01dbd23413dda0ed1999a0120146725b1-7ff5"><!-- --></a><h3 class="topictitle3">Handling return values as complex types</h3><div><p>When
a web service returns a complex type, you can write that returned
value directly to a ColdFusion variable. </p>
<p>The previous section used a complex data type named Employee
to define an input parameter to an operation. A WSDL file can also
define a return value using the Employee type, as the following
code shows: </p>
<pre>&lt;message name="updateEmployeeInfoSoapOut"&gt;  
    <strong>&lt;part name="updateEmployeeInfoResult" type="s0:Employee" /&gt; </strong> 
&lt;/message&gt; 
&lt;operation name="updateEmployeeInfo"&gt;  
    <strong>&lt;input message="s0:updateEmployeeInfoSoapIn" /&gt; </strong> 
    <strong>&lt;output message="s0:updateEmployeeInfoSoapOut" /&gt; </strong> 
&lt;/operation&gt;</pre>
<p>In this example, the operation updateEmployeeInfo takes a complex
type as input and returns a complex type as output. To handle the
input parameter, you create a structure. To handle the returned
value, you write it to a ColdFusion variable, as the following example
shows: </p>
<pre>&lt;!--- Create a structure using CFScript, then call the web service. ---&gt; 
&lt;!--- Write the returned value to a ColdFusion variable. ---&gt; 
&lt;cfscript&gt; 
    stUser = structNew(); 
    stUser.active = TRUE; 
    stUser.fname = "John"; 
    stUser.lname = "Smith"; 
    stUser.age = 23; 
    stUser.hiredate = createDate(2002,02,22); 
    stUser.number = 123.321; 
 
    ws = createObject("webservice", "http://somehost/echosimple.asmx?wsdl"); 
    myReturnVar = ws.echoStruct(stUser); 
 
&lt;/cfscript&gt;  
 
&lt;!--- Output the returned values. ---&gt; 
&lt;cfoutput&gt; 
    &lt;br&gt; 
    &lt;br&gt;Name of employee is: #myReturnVar.fname##myReturnVar.lname# 
    &lt;br&gt;Active status: #myReturnVar.active# 
    &lt;br&gt;Age:#myReturnVar.age# 
    &lt;br&gt;Hire Date: #myReturnVar.hiredate# 
    &lt;br&gt;Favorite Number: #myReturnVar.number#  
&lt;/cfoutput&gt;</pre>
<p>You access elements of the variable myReturnVar using dot notation
in the same way that you access structure fields. If a complex type
has nested elements, in the way a structure can have multiple levels
of nested fields, you use dot notation to access the nested elements,
as in a.b.c.d, to whatever nesting level is necessary. </p>
<p>However, the variable myReturnVar is not a ColdFusion structure.
It is a container for the complex type, but has none of the attributes
of a ColdFusion structure. Calling the ColdFusion function <samp class="codeph">isStruct</samp> on
the variable returns False. </p>
<p>You can copy the contents of the variable to a ColdFusion structure,
as the following example shows: </p>
<pre>&lt;cfscript&gt; 
... 
    ws = createObject("webservice", "http://somehost/echosimple.asmx?wsdl"); 
    myReturnVar = ws.echoStruct(stUser); 
 
    realStruct = structNew(); 
    realStruct.active = #myReturnVar.active#; 
    realStruct.fname = "#myReturnVar.fname#"; 
    realStruct.lname = "#myReturnVar.lname#"; 
    realStruct.age = #myReturnVar.age#; 
    realStruct.hiredate = #myReturnVar.hiredate#; 
    realStruct.number = #myReturnVar.number#; 
 
&lt;/cfscript&gt; </pre>
<p>Calling <samp class="codeph">IsStruct</samp> on realStruct returns True
and you can use all ColdFusion structure functions to process it. </p>
<p>This example shows that ColdFusion variables and structures are
useful for handling complex types returned from web services. To
understand how to access the elements of a complex type written
to a ColdFusion variable, inspect the WSDL file for the web service.
The WSDL file defines the API to the web service and provides you
with the information necessary to handle data returned from it. </p>
</div></div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec22c24-78ad" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-78ad"><!-- --></a><h2 class="topictitle2">Publishing web services that use complex data types</h2><div><p>The two ColdFusion data types
that do not map exactly to WSDL data types are struct and query.
When you publish a ColdFusion web service that uses parameters of
type struct or query, the consuming application must be able to
handle the data. </p>
<div class="note"><span class="notetitle">Note:  </span>If the consumer of a ColdFusion web service
is another ColdFusion application, you do not have to perform any
special processing. ColdFusion correctly maps struct and query data
types in the web service publisher with the consumer. For more information,
see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-78a5.html">Consuming ColdFusion web services</a>. </div>
</div><div id="WSf01dbd23413dda0ed1999a0120146725b1-7ff4" class="nochunk"><a name="WSf01dbd23413dda0ed1999a0120146725b1-7ff4"><!-- --></a><h3 class="topictitle3">Publishing structures</h3><div><p>A ColdFusion structure can hold an unlimited number of
key-value pairs where the values can be of any ColdFusion data type.
While it is a useful and powerful way to represent data, it cannot
be directly mapped to any XML data types defined in the SOAP 1.1
encoding and XML Schema specification. Therefore, ColdFusion structures
are treated as a custom type and the complex type XML schema in
WSDL looks like the following:</p>
<pre>&lt;complexType name="mapItem"&gt; 
     &lt;sequence&gt; 
       &lt;element name="key" nillable="true" type="xsd:anyType"/&gt; 
       &lt;element name="value" nillable="true" type="xsd:anyType"/&gt; 
     &lt;/sequence&gt; 
&lt;/complexType&gt; 
&lt;complexType name="Map"&gt; 
     &lt;sequence&gt; 
       &lt;element maxOccurs="unbounded" minOccurs="0" name="item" type="apachesoap:mapItem"/&gt; 
     &lt;/sequence&gt; 
&lt;/complexType&gt;</pre>
<p>This complex type defines a representation of a structure, where
the structure keys and values can be any type. </p>
<p>In
the WSDL mapping of a ColdFusion structure, each key-value pair
in the structure points to the next element in the structure except
for the final field, which contains a value. Use dot notation to
access the key-value pairs.</p>
</div></div><div id="WSf01dbd23413dda0ed1999a0120146725b1-7ff3" class="nochunk"><a name="WSf01dbd23413dda0ed1999a0120146725b1-7ff3"><!-- --></a><h3 class="topictitle3">Publishing queries</h3><div><p>ColdFusion
publishes query data types as the WSDL type QueryBean. The QueryBean
data type contains two elements, as the following excerpt from a WSDL
file shows: </p>
<pre>&lt;complexType name="QueryBean"&gt;  
    &lt;all&gt;  
        &lt;element name="data" nillable="true" type="intf:ArrayOf_SOAP-ENC_Array" /&gt;  
        &lt;element name="ColumnList" nillable="true" 
    type="intf:ArrayOf_SOAP-ENC_string" /&gt;  
    &lt;/all&gt;  
&lt;/complexType&gt; </pre>
<p>The following table describes the elements of QueryBean:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e103043"><p>Element name</p>
</th>
<th valign="top" width="NaN%" id="d17e103046"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e103043 "><p>ColumnList</p>
</td>
<td valign="top" width="NaN%" headers="d17e103046 "><p>String array that contains column names</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e103043 "><p>data</p>
</td>
<td valign="top" width="NaN%" headers="d17e103046 "><p>Two-dimensional array that contains query
data</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>The WSDL file for a QueryBean defines these elements as follows: </p>
<pre><strong>&lt;complexType name="ArrayOf_SOAP-ENC_Array"&gt; </strong> 
    &lt;complexContent&gt;  
        &lt;restriction base="SOAP-ENC:Array"&gt;  
            &lt;attribute ref="SOAP-ENC:arrayType" wsdl:arrayType="SOAP-ENC:Array[]" /&gt;  
        &lt;/restriction&gt;  
    &lt;/complexContent&gt;  
<strong>&lt;/complexType&gt; </strong> 
<strong>&lt;complexType name="ArrayOf_SOAP-ENC_string"&gt; </strong> 
    &lt;complexContent&gt;  
    &lt;restriction base="SOAP-ENC:Array"&gt;  
        &lt;attribute ref="SOAP-ENC:arrayType" wsdl:arrayType="xsd:string[]" /&gt;  
    &lt;/restriction&gt;  
    &lt;/complexContent&gt;  
<strong>&lt;/complexType&gt; </strong></pre>
</div></div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec13a13-7fff.html" title="Using request and response headers"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc3ff6d0ea77859461172e0811cbec13a13-7fde.html" title="Troubleshooting SOAP requests and responses"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WSc3ff6d0ea77859461172e0811cdd7c7008-8000.html"><b>Using Web Elements and External Objects</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7fbf.html"><b>Using Web Services</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>