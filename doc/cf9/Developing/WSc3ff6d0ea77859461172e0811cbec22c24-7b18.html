<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160;9 * Refining your searches with zones and fields</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Developing&#160;ColdFusion 9 Applications" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Developing&#160;ColdFusion 9 Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbec22c24-7b18.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbec22c24-7b18.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="ColdFusion"><div class="banner"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html">Adobe&#160;ColdFusion&#160;9</a><span id="notyourversion">|&#160;
                    <a rel="nofollow" href="http://www.adobe.com/support/documentation/en/coldfusion/">Not your version?</a></span></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="coldfusion_9_dev.pdf">View Help PDF ( 23MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec0f375-7fe7.html" title="Composing search expressions"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WS2B335964-A0DA-4add-B9FE-4041464EC9E1.html" title="Solr search support"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WS8f0cc78011fffa7168855f811cdb0b0cce-8000.html"><b>Accessing and Using Data</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7b4a.html"><b>Using Verity Search Expressions</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Refining your searches with zones and fields</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-7b23"><span class="topictitle1">Zone searches</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbec22c24-7b24"><span class="topictitle1">Field searches</span>
</a></p></li></ul></div></div></div></div><div><p>One of the strengths of Verity is its ability
to perform full-text searches on documents of many formats. However,
sometimes you want to restrict a search to certain portions of a
document, to improve search relevance. If a Verity collection contains
some documents about baseball and other documents about caves, a
search for the word bat can retrieve several irrelevant results. </p>
<p>If the documents are structured documents, you can take advantage
of the ability to search zones and fields. The following are some
examples of structured documents:</p>
<ul><li><p>Documents created with markup languages (XML, SGML, HTML)</p>
</li>
<li><p>Internet Message Format documents</p>
</li>
<li><p>Documents created by many word-processing applications</p>
</li>
</ul>
<div class="note"><span class="notetitle">Note:  </span>Although your word processor opens with what
appears to be a blank page, the document has many regions such as
title, subject, and author. Refer to the documentation of your application
or online help system for how to view a document’s properties.</div>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbec22c24-7b23" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7b23"><!-- --></a><h2 class="topictitle2">Zone searches</h2><div><p>You can perform zone searches on markup language
documents. The Verity zone filter includes built-in support for
HTML and several file formats; for a list of supported file formats,
see <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7b7e.html">Building a Search Interface</a>. Verity searches XML files by treating
the XML tags as zones. When you use the zone filter, the Verity
engine builds zone information into the collection’s full-word index.
This index, enhanced with zone information, permits quick and efficient
searches over zones. The zone filter can automatically define a
zone, or you can define it yourself in the style.zon file. You can
use zone searching to limit your search to a particular zone. This
can produce more accurate, but not necessarily faster, search results
than searching an entire file.</p>
<div class="note"><span class="notetitle">Note:  </span>The contents of a zone cannot be returned in
the results list of an application.</div>
<div class="section" id="WSc3ff6d0ea77859461172e0811cbec22c24-7b23__WSc3ff6d0ea77859461172e0811cbec0f375-7ff2"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7b23__WSc3ff6d0ea77859461172e0811cbec0f375-7ff2"><!-- --></a><h4 class="sectiontitle">Examples</h4><p>The
following examples perform zone searching on XML files. In a list
of rock bands, you could have XML files with tags for the instruments
and for comments. In the following XML file, the word Pete appears
in a comment field:</p>
<pre>&lt;band.xml&gt; 
        &lt;Lead_Guitar&gt;Dan&lt;/Lead_Guitar&gt; 
        &lt;Rhythm_Guitar&gt;Jake&lt;/Rhythm_Guitar&gt; 
        &lt;Bass_Guitar&gt;Mike&lt;/Bass_Guitar&gt; 
        &lt;Drums&gt;Chris&lt;/Drums&gt; 
        &lt;COMMENT_A&gt;Dan plays guitar, better than Pete.&lt;/COMMENT_A&gt; 
        &lt;COMMENT_B&gt;Jake plays rhythm guitar.&lt;/COMMENT_B&gt; 
&lt;/band.xml&gt;</pre>
<p>The following CFML code shows a
search for the word Pete:</p>
<pre>&lt;cfsearch name = "band_search" 
    collection="my_collection"  
    type = "simple" 
criteria="Pete"&gt;</pre>
<p>The above search for Pete returns
this XML file because this search target is in the COMMENT_A field.
In contrast, Pete is the lead guitarist in the following XML file:</p>
<pre>&lt;band.xml&gt; 
        &lt;Lead_Guitar&gt;Pete&lt;/Lead_Guitar&gt; 
        &lt;Rhythm_Guitar&gt;Roger&lt;/Rhythm_Guitar&gt; 
    &lt;Bass_Guitar&gt;John&lt;/Bass_Guitar&gt; 
        &lt;Drums&gt;Kenny&lt;/Drums&gt; 
        &lt;COMMENT_A&gt;Who knows who's better than this band?&lt;/COMMENT_A&gt; 
        &lt;COMMENT_B&gt;Ticket prices correlated with decibels.&lt;/COMMENT_B&gt; 
&lt;/band.xml&gt;</pre>
<p>To retrieve only the files in which
Pete is the lead guitarist, perform a zone search using the IN operator
according to the following syntax:</p>
<pre><i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">(query) &lt;IN&gt; (zone1, zone2, ...)</i></pre>
<div class="note"><span class="notetitle">Note:  </span>As with other operators, IN might be uppercase
or lowercase. Unlike AND, OR, or NOT, enclose IN within brackets.</div>
<p>Thus,
the following explicit search retrieves files in which Pete is the
lead guitarist:</p>
<pre>(Pete) &lt;in&gt; Lead_Guitar</pre>
<p>This
is expressed in CFML as follows:</p>
<pre>&lt;cfsearch name = "band_search" 
    collection="my_collection"  
    type = "explicit" 
    criteria="(Pete) &lt;in&gt; Lead_Guitar"&gt;</pre>
<p>To
retrieve files in which Pete plays either lead or rhythm guitar,
use the following explicit search:</p>
<pre>(Pete) &lt;in&gt; (Lead_Guitar,Rhythm_Guitar)</pre>
<p>This
is expressed in CFML as follows:</p>
<pre>&lt;cfsearch name = "band_search" 
    collection="bbb"  
    type = "explicit" 
    criteria="(Pete) &lt;in&gt; (Lead_Guitar,Rhythm_Guitar)"&gt;</pre>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbec22c24-7b24" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbec22c24-7b24"><!-- --></a><h2 class="topictitle2">Field searches</h2><div><p><i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">Fields</i> are
extracted from the document and stored in the collection for retrieval and
searching, and can be returned on a results list. Zones, on the
other hand, are merely the definitions of “regions” of a document
for searching purposes, and are not physically extracted from the
document in the same way that fields are extracted.</p>
<p>You must define a region of text as a zone before it can be a
field. Therefore, it can be only a zone, or it can be both a field
and a zone. Whether you define a region of text as a zone only or
as both a field and a zone depends on your particular requirements. </p>
<p>A field must be defined in the style file, style.ufl, before
you create the collection. To map zones to fields (to display field
data), define and add these extra fields to style.ufl.</p>
<p>You can specify the values for the <samp class="codeph"><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7d04.html" target="_self">cfindex</a></samp> attributes TITLE,
KEY, and URL as document fields for use with relational operators
in the <samp class="codeph">criteria</samp> attribute. (The SCORE and SUMMARY
attributes are automatically returned by a <samp class="codeph">cfsearch</samp>;
these attributes are different for each record of a collection as
the search criteria changes.) Text comparison operators can reference
the following document fields:</p>
<ul><li><p>cf_title</p>
</li>
<li><p>cf_key</p>
</li>
<li><p>cf_url</p>
</li>
<li><p>cf_custom1</p>
</li>
<li><p>cf_custom2</p>
</li>
<li><p>cf_custom3</p>
</li>
<li><p>cf_custom4</p>
</li>
</ul>
<p>Text comparison operators can also reference the following automatically populated
document fields:</p>
<ul><li><p>title</p>
</li>
<li><p>key</p>
</li>
<li><p>url</p>
</li>
<li><p>vdksummary</p>
</li>
<li><p>author</p>
</li>
<li><p>mime-type</p>
</li>
</ul>
<p>To explore how to use document fields to refine a search, consider
the following database table, named Calls. This table has four columns
and three records, as the following table shows:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e52739"><p>call_ID</p>
</th>
<th valign="top" width="NaN%" id="d17e52742"><p>Problem_Description</p>
</th>
<th valign="top" width="NaN%" id="d17e52745"><p>Short_Description</p>
</th>
<th valign="top" width="NaN%" id="d17e52748"><p>Product</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e52739 "><p>1</p>
</td>
<td valign="top" width="NaN%" headers="d17e52742 "><p>Can’t bold text properly under certain conditions</p>
</td>
<td valign="top" width="NaN%" headers="d17e52745 "><p>Bold Problem</p>
</td>
<td valign="top" width="NaN%" headers="d17e52748 "><p>HomeSite+</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e52739 "><p>2</p>
</td>
<td valign="top" width="NaN%" headers="d17e52742 "><p>Certain optional attributes are acting as
required attributes</p>
</td>
<td valign="top" width="NaN%" headers="d17e52745 "><p>Attributes Problem</p>
</td>
<td valign="top" width="NaN%" headers="d17e52748 "><p>ColdFusion</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e52739 "><p>3</p>
</td>
<td valign="top" width="NaN%" headers="d17e52742 "><p>Can’t do a File/Open in certain cases</p>
</td>
<td valign="top" width="NaN%" headers="d17e52745 "><p>File Open Problem</p>
</td>
<td valign="top" width="NaN%" headers="d17e52748 "><p>HomeSite+</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>A Verity search for the word certain returns three records. However,
you can use the document fields to restrict your search; for example,
a search to retrieve HomeSite+ problems with the word certain in
the problem description.</p>
<p>These are the requirements to run this procedure:</p>
<ul><li><p>Create and populate the Calls table in a database of
your choice</p>
</li>
<li><p>Create a collection named Training (you can do this in CFML
or in the ColdFusion Administrator).</p>
</li>
</ul>
<p>The following table shows the relationship between the database
column and <samp class="codeph">cfindex</samp> attribute: </p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e52815"><p>Database column</p>
</th>
<th valign="top" width="NaN%" id="d17e52818"><p>The cfindex attribute</p>
</th>
<th valign="top" width="NaN%" id="d17e52821"><p>Comment</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e52815 "><p>call_ID</p>
</td>
<td valign="top" width="NaN%" headers="d17e52818 "><p>key</p>
</td>
<td valign="top" width="NaN%" headers="d17e52821 "><p>The primary key of a database table is often
a key attribute.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e52815 "><p>Problem_Description</p>
</td>
<td valign="top" width="NaN%" headers="d17e52818 "><p>body</p>
</td>
<td valign="top" width="NaN%" headers="d17e52821 "><p>This column is the information to be indexed.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e52815 "><p>Short_Description</p>
</td>
<td valign="top" width="NaN%" headers="d17e52818 "><p>title</p>
</td>
<td valign="top" width="NaN%" headers="d17e52821 "><p>A short description is conceptually equivalent
to a title, as in a running title of a journal article.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e52815 "><p>Product</p>
</td>
<td valign="top" width="NaN%" headers="d17e52818 "><p>custom1</p>
</td>
<td valign="top" width="NaN%" headers="d17e52821 "><p>This field refines the search.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>You begin by selecting all data in a query: </p>
<pre>&lt;cfquery name = "Calls" datasource = "MyDSN"&gt; 
    Select * from Calls 
&lt;/cfquery&gt;</pre>
<p>The following code shows the <samp class="codeph">cfindex</samp> tag for
indexing the collection (the <samp class="codeph">type</samp> attribute is
set to custom for tabular data):</p>
<pre>&lt;cfindex 
    query = "Calls" 
    collection = "training" 
    action = "UPDATE" 
    type = "CUSTOM" 
    <strong>title = "Short_Description"</strong> 
    <strong>key = "Call_ID"</strong> 
    <strong>body = "Problem_Description"</strong> 
    <strong>custom1 = "Product"&gt;</strong></pre>
<p>To perform the refined search for HomeSite+ problems with the
word certain in the problem description, the <samp class="codeph">cfsearch</samp> tag
uses the CONTAINS operator in its <samp class="codeph">criteria</samp> attribute:</p>
<pre>&lt;cfsearch 
    collection = "training" 
    name = "search_calls" 
    <strong>criteria = "certain and CF_CUSTOM1 &lt;CONTAINS&gt; HomeSite"&gt;</strong></pre>
<p>The following code displays the results of the refined search:</p>
<pre>&lt;table border="1" cellspacing="5"&gt; 
&lt;tr&gt; 
    &lt;th align="LEFT"&gt;KEY&lt;/th&gt; 
    &lt;th align="LEFT"&gt;TITLE&lt;/th&gt; 
    &lt;th align="LEFT"&gt;CUSTOM1&lt;/th&gt; 
&lt;/tr&gt; 
 
&lt;cfoutput query = "search_calls"&gt; 
&lt;tr&gt; 
    &lt;td&gt;#KEY#&lt;/td&gt; 
    &lt;td&gt;#TITLE#&lt;/td&gt; 
    &lt;td&gt;#CUSTOM1#&lt;/td&gt; 
&lt;/tr&gt; 
&lt;/cfoutput&gt; 
&lt;/table&gt;</pre>
</div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc3ff6d0ea77859461172e0811cbec0f375-7fe7.html" title="Composing search expressions"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WS2B335964-A0DA-4add-B9FE-4041464EC9E1.html" title="Solr search support"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Home</b></a> / <a href="WSf01dbd23413dda0e-446b5201205757ce2b-8000.html"><b>Developing&#160;ColdFusion 9 Applications</b></a> / <a href="WS8f0cc78011fffa7168855f811cdb0b0cce-8000.html"><b>Accessing and Using Data</b></a> 
      / <a href="WSc3ff6d0ea77859461172e0811cbec22c24-7b4a.html"><b>Using Verity Search Expressions</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
	path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 
</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>


<script type="text/javascript">
//
//  Ethnio survey code
//
/*          DocumentID      EthnioID */
/*          -------------   -------- */
var ethnio=["/en_US/flash/cs/using/WSb03e830bd6f770ee6664507612436d7dede-8000.html", "87462",
            "/en_US/creativesuite/cs/using/WSe851854fd1e0856a-4b08a77612477f69f15-8000.html",  "10441",
            "/en_US/dreamweaver/cs/using/WSEE4C0148-A6F4-4bf5-9DEF-CE06AB026214a.html",  "57412"
 
    ];
                        
    for ( var i = 0; i < ethnio.length ; i = i+2 ){
        if ( document.location.href.indexOf( ethnio[i] ) > -1 ){ 
            var headID = document.getElementsByTagName("head")[0];         
            var ethnioScript = document.createElement('script');
            ethnioScript.type = 'text/javascript';
            ethnioScript.src = 'http://ethn.io/remotes/' + ethnio[i+1];        
            if ( debug ){
                alert ("Using Ethnio script: " + ethnioScript.src );
            }else{
                headID.appendChild(ethnioScript);
            }
        }
    }
</script>



<div style="display: none;">
<!-- SiteCatalyst -->
<script language="JavaScript" type="text/javascript"><!--
var s_code=' ';
var s_docHost = window.location.hostname.toLowerCase();
var s_docURL = window.location.pathname.toLowerCase();
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
if (s_docHost.indexOf(".corp.adobe") != -1 || s_docHost.indexOf("stage.") != -1 || s_docHost.indexOf(".dev.adobe") != -1 || s_docHost.indexOf("staging.") != -1) scJsHost="";
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/omniture_s_code.js' type='text/javascript'%3E%3C/script%3E"));
//--></script>
<script type="text/javascript"><!--
var s_accountName;
s_server="www.adobe.com static content pages";
if (!window.s_account) s_accountName="mxmacromedia";
else s_accountName=window.s_account;

if (window.s_docURL.indexOf("/designcenter/") != -1)
  s_channel="Adobe Design Center";	
else if ((window.s_docHost.indexOf("labs.adobe") != -1) ||
(window.s_docHost.indexOf("labs-staging.") != -1))
  s_channel="Labs";
else if (window.s_docHost.indexOf("help.adobe.com") != -1) {
  s_channel="Support Help.adobe.com";
  if (window.s_docURL.indexOf("/en_us/") == -1) {
    s_docURLArray=s_docURL.split('/');
    s_pageName="http://help.adobe.com/"+s_docURLArray[1]+"/"+ s_docURLArray[2]+"/"+s_docURLArray[3];
    s_prop23="http://help.adobe.com"+window.location.pathname;
  }
}
else if (window.s_docHost.indexOf("kb2.adobe.com") != -1) {
  s_channel="Support Knowledgebase";
  s_prop23="http://kb2.adobe.com"+s_docURL+":";
  if (typeof(omtrProductList) != 'undefined' && omtrProductList.length > 0)
 {
    s_prop23=s_prop23+omtrProductList;
  }
}
else if (window.s_docHost.indexOf("resellers.adobe.com") != -1) {
		var s_pageName=document.getElementsByTagName("title")[0].text;
}

if (!window.scMMInclude) {
	var s_wd=window,s_tm=new Date;
	if(s_code!=' '){
		s_code=s_dc(s_accountName);
		if(s_code)document.write(s_code)
	} 
} else {
	s_wds(s_accountName);s_ca(s_accountName); 
}	

function sendAnalyticsEvent(str){var ns=s_accountName;if(str!=null)ns+=","+str;void(s_gs(ns));}
function sendLinkEvent(accnt,lnkname,type){
accnt=s_accountName;s_linkType=type;s_lnk=true;s_linkName=lnkname;void(s_gs(accnt));}
//--></script>
<noscript><img src="http://stats.adobe.com/b/ss/mxmacromedia/1/H.15-XELvs/0?pageName=http%3A//www.adobe.com%3A%20noscript&ch=http%3A//www.adobe.com%3A%20noscript&g=http%3A//www.adobe.com" height="1" width="1" border="0" alt="" /></noscript>
<!-- End SiteCatalyst -->
</div>

<script language="JavaScript" type="text/javascript">//<![CDATA[
var scJsHost = (("https:" == document.location.protocol) ? "https://www.adobe.com" : "http://wwwimages.adobe.com");
document.write(unescape("%3Cscript src='" + scJsHost + "/uber/js/atm/s_code_www.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script type="text/javascript">//<![CDATA[
if(s_adobe){	
	s_adobe.server="www.adobe.com Static Content pages";
	/* Set pageName */
	s_adobe.s_URL="adobe.com"+((location.pathname.charAt(0)=='/')?location.pathname:'/'+location.pathname);
	if (s_adobe.s_URL.substring(s_adobe.s_URL.lastIndexOf('/')+1)=="") s_adobe.s_URL=s_adobe.s_URL+"index.html";
	s_adobe.s_URLSplit=s_adobe.s_URL.split("/");
	s_adobe.pageName=s_adobe.s_URLSplit.join(":");

	/* Set prop4 to language-locale */
	var s_meta=document.getElementsByTagName('meta'); 
      for (i=0; i<s_meta.length; i++) { 
        if (s_meta[i].getAttribute("http-equiv") == "Content-Language") { 
          s_adobe.prop4=s_meta[i].getAttribute("content"); 
	    s_adobe.prop4=s_adobe.prop4.replace(/\s+/g,'');
        } 
      } 
	s_adobe.t()
}
//]]></script>








  </body>
</html>